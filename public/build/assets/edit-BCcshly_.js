import{c as ne,u as me,j as s,H as ce}from"./app-BzTiI1vx.js";import{S as de,a as ue,b as pe,c as fe,d as be}from"./select-Coc38mFL.js";import{A as xe}from"./app-layout-nP07Hnxr.js";import{C as ge}from"./check-BBPj8J4q.js";import{S as he}from"./shield-Dgb1-bwJ.js";/* empty css            */import"./index-BiALZKL6.js";import"./createLucideIcon-BwNl2ouA.js";import"./index-Cc9F1Pjn.js";import"./index-CiUfUXpG.js";import"./index-C4J_hXM0.js";const ve=[{id:"batteries",label:"Baterías"},{id:"equipment",label:"Material Menor"},{id:"tickets",label:"Ticketera"},{id:"inventory",label:"Inventario"},{id:"deliveries",label:"Actas de Entrega"},{id:"admin",label:"Administrador"}],je=["Primera Compañía","Segunda Compañía","Tercera Compañía","Cuarta Compañía","Quinta Compañía","Séptima Compañía","Octava Compañía","Novena Compañía","Décima Compañía","Comandancia"];function De(T){const e=ne.c(108),{user:l}=T;let o;e[0]!==l.permissions?(o=l.permissions??[],e[0]=l.permissions,e[1]=o):o=e[1];let q;e[2]!==o||e[3]!==l.company||e[4]!==l.email||e[5]!==l.name||e[6]!==l.role?(q={name:l.name,email:l.email,password:"",company:l.company,role:l.role,permissions:o},e[2]=o,e[3]=l.company,e[4]=l.email,e[5]=l.name,e[6]=l.role,e[7]=q):q=e[7];const{data:i,setData:a,put:ie,processing:le,errors:r}=me(q);let H;e[8]!==ie||e[9]!==l.id?(H=t=>{t.preventDefault(),ie(`/admin/users/${l.id}`)},e[8]=ie,e[9]=l.id,e[10]=H):H=e[10];const te=H;let I;e[11]!==i.permissions||e[12]!==a?(I=t=>{i.permissions.includes(t)?a("permissions",i.permissions.filter(oe=>oe!==t)):a("permissions",[...i.permissions,t])},e[11]=i.permissions,e[12]=a,e[13]=I):I=e[13];const ae=I;let O,V;e[14]===Symbol.for("react.memo_cache_sentinel")?(O={title:"Panel Principal",href:"/dashboard"},V={title:"Usuarios",href:"/admin/users"},e[14]=O,e[15]=V):(O=e[14],V=e[15]);const re=`/admin/users/${l.id}/edit`;let n;e[16]!==re?(n=[O,V,{title:"Editar Usuario",href:re}],e[16]=re,e[17]=n):n=e[17];let B;e[18]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(ce,{title:"Editar Usuario"}),e[18]=B):B=e[18];let m;e[19]!==l.name?(m=s.jsxs("h2",{className:"text-lg font-semibold text-foreground",children:["Editar Usuario: ",l.name]}),e[19]=l.name,e[20]=m):m=e[20];let F;e[21]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Modifique los detalles del usuario. Deje la contraseña en blanco para mantener la actual."}),e[21]=F):F=e[21];let c;e[22]!==m?(c=s.jsxs("div",{className:"mb-6",children:[m,F]}),e[22]=m,e[23]=c):c=e[23];let G;e[24]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Nombre Completo"}),e[24]=G):G=e[24];let d;e[25]!==a?(d=t=>a("name",t.target.value),e[25]=a,e[26]=d):d=e[26];let u;e[27]!==i.name||e[28]!==d?(u=s.jsx("input",{type:"text",value:i.name,onChange:d,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none"}),e[27]=i.name,e[28]=d,e[29]=u):u=e[29];let p;e[30]!==r.name?(p=r.name&&s.jsx("p",{className:"mt-1 text-xs text-destructive",children:r.name}),e[30]=r.name,e[31]=p):p=e[31];let f;e[32]!==u||e[33]!==p?(f=s.jsxs("div",{children:[G,u,p]}),e[32]=u,e[33]=p,e[34]=f):f=e[34];let L;e[35]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Correo Electrónico"}),e[35]=L):L=e[35];let b;e[36]!==a?(b=t=>a("email",t.target.value),e[36]=a,e[37]=b):b=e[37];let x;e[38]!==i.email||e[39]!==b?(x=s.jsx("input",{type:"email",value:i.email,onChange:b,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none"}),e[38]=i.email,e[39]=b,e[40]=x):x=e[40];let g;e[41]!==r.email?(g=r.email&&s.jsx("p",{className:"mt-1 text-xs text-destructive",children:r.email}),e[41]=r.email,e[42]=g):g=e[42];let h;e[43]!==x||e[44]!==g?(h=s.jsxs("div",{children:[L,x,g]}),e[43]=x,e[44]=g,e[45]=h):h=e[45];let v;e[46]!==f||e[47]!==h?(v=s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[f,h]}),e[46]=f,e[47]=h,e[48]=v):v=e[48];let Q;e[49]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Contraseña (Opcional)"}),e[49]=Q):Q=e[49];let j;e[50]!==a?(j=t=>a("password",t.target.value),e[50]=a,e[51]=j):j=e[51];let y;e[52]!==i.password||e[53]!==j?(y=s.jsx("input",{type:"password",value:i.password,onChange:j,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:"••••••••"}),e[52]=i.password,e[53]=j,e[54]=y):y=e[54];let N;e[55]!==r.password?(N=r.password&&s.jsx("p",{className:"mt-1 text-xs text-destructive",children:r.password}),e[55]=r.password,e[56]=N):N=e[56];let C;e[57]!==y||e[58]!==N?(C=s.jsxs("div",{children:[Q,y,N]}),e[57]=y,e[58]=N,e[59]=C):C=e[59];let J;e[60]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Compañía"}),e[60]=J):J=e[60];let S;e[61]!==a?(S=t=>a("company",t),e[61]=a,e[62]=S):S=e[62];let K;e[63]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(ue,{className:"w-full",children:s.jsx(pe,{placeholder:"Seleccione una Compañía"})}),e[63]=K):K=e[63];let W;e[64]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx(fe,{children:je.map(ye)}),e[64]=W):W=e[64];let _;e[65]!==i.company||e[66]!==S?(_=s.jsxs(de,{value:i.company,onValueChange:S,children:[K,W]}),e[65]=i.company,e[66]=S,e[67]=_):_=e[67];let k;e[68]!==r.company?(k=r.company&&s.jsx("p",{className:"mt-1 text-xs text-destructive",children:r.company}),e[68]=r.company,e[69]=k):k=e[69];let w;e[70]!==_||e[71]!==k?(w=s.jsxs("div",{children:[J,_,k]}),e[70]=_,e[71]=k,e[72]=w):w=e[72];let E;e[73]!==C||e[74]!==w?(E=s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[C,"// ...",w]}),e[73]=C,e[74]=w,e[75]=E):E=e[75];let A;e[76]!==v||e[77]!==E?(A=s.jsxs("div",{className:"space-y-4",children:[v,E]}),e[76]=v,e[77]=E,e[78]=A):A=e[78];let X;e[79]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsxs("h3",{className:"mb-4 flex items-center gap-2 font-medium",children:[s.jsx(he,{className:"size-4"})," Roles y Permisos"]}),e[79]=X):X=e[79];let Y;e[80]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Rol del Sistema"}),e[80]=Y):Y=e[80];let P;e[81]!==a?(P=t=>a("role",t.target.value),e[81]=a,e[82]=P):P=e[82];let Z,ee;e[83]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx("option",{value:"user",children:"Usuario Estándar"}),ee=s.jsx("option",{value:"admin",children:"Administrador del Sistema"}),e[83]=Z,e[84]=ee):(Z=e[83],ee=e[84]);let U;e[85]!==i.role||e[86]!==P?(U=s.jsxs("div",{className:"mb-4",children:[Y,s.jsxs("select",{value:i.role,onChange:P,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",children:[Z,ee]})]}),e[85]=i.role,e[86]=P,e[87]=U):U=e[87];let $;e[88]!==i.permissions||e[89]!==i.role||e[90]!==ae?($=i.role!=="admin"&&s.jsxs("div",{children:[s.jsx("label",{className:"mb-3 block text-sm font-medium",children:"Acceso a Módulos"}),s.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:ve.map(t=>s.jsxs("div",{onClick:()=>ae(t.id),className:`flex cursor-pointer items-center gap-3 rounded-lg border p-3 transition-all ${i.permissions.includes(t.id)?"border-primary bg-primary/5 ring-1 ring-primary":"hover:bg-muted/50"}`,children:[s.jsx("div",{className:`flex size-5 items-center justify-center rounded border ${i.permissions.includes(t.id)?"border-primary bg-primary text-primary-foreground":"border-muted-foreground"}`,children:i.permissions.includes(t.id)&&s.jsx(ge,{className:"size-3"})}),s.jsx("span",{className:"text-sm font-medium",children:t.label})]},t.id))})]}),e[88]=i.permissions,e[89]=i.role,e[90]=ae,e[91]=$):$=e[91];let D;e[92]!==U||e[93]!==$?(D=s.jsxs("div",{className:"rounded-lg border p-4",children:[X,U,$]}),e[92]=U,e[93]=$,e[94]=D):D=e[94];let M;e[95]!==le?(M=s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{type:"submit",disabled:le,className:"inline-flex h-10 items-center justify-center rounded-md bg-primary px-8 text-sm font-medium text-primary-foreground text-white transition-colors hover:bg-primary/90 focus-visible:ring-2 focus-visible:ring-primary focus-visible:outline-none disabled:opacity-50",children:"Gardar Cambios"})}),e[95]=le,e[96]=M):M=e[96];let R;e[97]!==te||e[98]!==A||e[99]!==D||e[100]!==M?(R=s.jsxs("form",{onSubmit:te,className:"space-y-6",children:[A,D,M]}),e[97]=te,e[98]=A,e[99]=D,e[100]=M,e[101]=R):R=e[101];let z;e[102]!==c||e[103]!==R?(z=s.jsx("div",{className:"flex flex-col gap-6 p-4",children:s.jsxs("div",{className:"max-w-2xl rounded-xl border bg-card p-6 shadow-sm",children:[c,R]})}),e[102]=c,e[103]=R,e[104]=z):z=e[104];let se;return e[105]!==z||e[106]!==n?(se=s.jsxs(xe,{breadcrumbs:n,children:[B,z]}),e[105]=z,e[106]=n,e[107]=se):se=e[107],se}function ye(T){return s.jsx(be,{value:T,children:T},T)}export{De as default};
