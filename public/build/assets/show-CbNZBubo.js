import{c as ne,b as re,j as s,a as de,H as me}from"./app-BKnrCjqt.js";import{B as n}from"./badge-BNWn556A.js";import{a as oe,f as Q,B as Z}from"./button-DScxiekG.js";import{b as W,c as X,C as ee,a as te}from"./card-DXOU3Itu.js";import{A as he}from"./app-layout-C6hzB9E0.js";import{C as xe}from"./circle-alert-CZBy4-Y8.js";import{C as fe}from"./clock-B0p4FIHh.js";/* empty css            */import"./index-DU85HIUT.js";import"./index-BYamYuyY.js";import"./index-C4J_hXM0.js";import"./shield-BqiuaNok.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],q=oe("CircleCheckBig",ue),pe=[{title:"Vehículos",href:"/vehicles/status"},{title:"Historial Checklists",href:"/vehicles/checklists"}];function Ee(i){const e=ne.c(95),{checklist:t,canReview:E}=i;re();let r,d,m,o,a,l,h,c;if(e[0]!==E||e[1]!==t.captain||e[2]!==t.captain_reviewed_at||e[3]!==t.created_at||e[4]!==t.details||e[5]!==t.id||e[6]!==t.machinist||e[7]!==t.machinist_reviewed_at||e[8]!==t.status||e[9]!==t.user.name||e[10]!==t.vehicle.company||e[11]!==t.vehicle.name||e[12]!==t.vehicle.plate){const se=t.details.reduce(ge,{});let I;e[21]!==t.id?(I=()=>{confirm("¿Está seguro de visar este checklist?")&&de.post(`/vehicles/checklists/${t.id}/review`)},e[21]=t.id,e[22]=I):I=e[22];const K=I,ie=_e,ae=ve;r=he,h=pe;const U=`Checklist #${t.id}`;e[23]!==U?(c=s.jsx(me,{title:U}),e[23]=U,e[24]=c):c=e[24],o="flex flex-1 flex-col gap-8 p-4";const F=t.status==="Completed"?"default":"secondary";let u;e[25]!==t.status||e[26]!==F?(u=s.jsx(n,{variant:F,children:t.status}),e[25]=t.status,e[26]=F,e[27]=u):u=e[27];let p;e[28]!==t.id||e[29]!==u?(p=s.jsxs("h1",{className:"flex items-center gap-2 text-2xl font-bold",children:["Checklist #",t.id,u]}),e[28]=t.id,e[29]=u,e[30]=p):p=e[30];let j;e[31]!==t.created_at?(j=Q(t.created_at),e[31]=t.created_at,e[32]=j):j=e[32];let v;e[33]!==t.user.name||e[34]!==j?(v=s.jsxs("p",{className:"text-muted-foreground",children:[j," - Realizado por"," ",t.user.name]}),e[33]=t.user.name,e[34]=j,e[35]=v):v=e[35];let _;e[36]!==p||e[37]!==v?(_=s.jsxs("div",{children:[p,v]}),e[36]=p,e[37]=v,e[38]=_):_=e[38];let g;e[39]!==E||e[40]!==K?(g=E&&s.jsxs(Z,{onClick:K,size:"lg",className:"bg-green-600 hover:bg-green-700",children:[s.jsx(q,{className:"mr-2 size-4"}),"Visar Checklist"]}),e[39]=E,e[40]=K,e[41]=g):g=e[41],e[42]!==_||e[43]!==g?(a=s.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[_,g]}),e[42]=_,e[43]=g,e[44]=a):a=e[44];let D;e[45]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(ee,{children:s.jsx(te,{children:"Datos del Vehículo"})}),e[45]=D):D=e[45];let L;e[46]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("span",{className:"font-medium text-muted-foreground",children:"Nombre:"}),e[46]=L):L=e[46];let N;e[47]!==t.vehicle.name?(N=s.jsxs("div",{className:"flex justify-between",children:[L,s.jsx("span",{children:t.vehicle.name})]}),e[47]=t.vehicle.name,e[48]=N):N=e[48];let M;e[49]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx("span",{className:"font-medium text-muted-foreground",children:"Patente:"}),e[49]=M):M=e[49];let b;e[50]!==t.vehicle.plate?(b=s.jsxs("div",{className:"flex justify-between",children:[M,s.jsx("span",{children:t.vehicle.plate})]}),e[50]=t.vehicle.plate,e[51]=b):b=e[51];let V;e[52]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx("span",{className:"font-medium text-muted-foreground",children:"Compañía:"}),e[52]=V):V=e[52];let y;e[53]!==t.vehicle.company?(y=s.jsxs("div",{className:"flex justify-between",children:[V,s.jsx("span",{children:t.vehicle.company})]}),e[53]=t.vehicle.company,e[54]=y):y=e[54];let w;e[55]!==N||e[56]!==b||e[57]!==y?(w=s.jsxs(W,{children:[D,s.jsxs(X,{className:"space-y-2",children:[N,b,y]})]}),e[55]=N,e[56]=b,e[57]=y,e[58]=w):w=e[58];let $;e[59]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(ee,{children:s.jsx(te,{children:"Estado de Revisión"})}),e[59]=$):$=e[59];let O;e[60]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx("p",{className:"font-bold",children:"Capitán"}),e[60]=O):O=e[60];const G=t.captain?t.captain.name:"Pendiente";let C;e[61]!==G?(C=s.jsxs("div",{children:[O,s.jsx("p",{className:"text-xs text-muted-foreground",children:G})]}),e[61]=G,e[62]=C):C=e[62];let k;e[63]!==t.captain_reviewed_at?(k=t.captain_reviewed_at?s.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[s.jsx(q,{className:"size-4"}),Q(t.captain_reviewed_at)]}):s.jsx(n,{variant:"outline",children:"Pendiente"}),e[63]=t.captain_reviewed_at,e[64]=k):k=e[64];let S;e[65]!==C||e[66]!==k?(S=s.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[C,k]}),e[65]=C,e[66]=k,e[67]=S):S=e[67];let T;e[68]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx("p",{className:"font-bold",children:"Maquinista"}),e[68]=T):T=e[68];const J=t.machinist?t.machinist.name:"Pendiente";let z;e[69]!==J?(z=s.jsxs("div",{children:[T,s.jsx("p",{className:"text-xs text-muted-foreground",children:J})]}),e[69]=J,e[70]=z):z=e[70];let P;e[71]!==t.machinist_reviewed_at?(P=t.machinist_reviewed_at?s.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[s.jsx(q,{className:"size-4"}),Q(t.machinist_reviewed_at)]}):s.jsx(n,{variant:"outline",children:"Pendiente"}),e[71]=t.machinist_reviewed_at,e[72]=P):P=e[72];let B;e[73]!==z||e[74]!==P?(B=s.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[z,P]}),e[73]=z,e[74]=P,e[75]=B):B=e[75];let R;e[76]!==S||e[77]!==B?(R=s.jsxs(W,{children:[$,s.jsxs(X,{className:"space-y-4",children:[S,B]})]}),e[76]=S,e[77]=B,e[78]=R):R=e[78],e[79]!==w||e[80]!==R?(l=s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[w,R]}),e[79]=w,e[80]=R,e[81]=l):l=e[81],d="space-y-6",m=Object.entries(se).map(le=>{const[Y,ce]=le;return s.jsxs(W,{children:[s.jsx("div",{className:"border-b bg-muted/50 px-6 py-4",children:s.jsx("h3",{className:"text-lg font-bold",children:Y})}),s.jsx(X,{className:"p-0",children:s.jsx("div",{className:"divide-y",children:ce.map(A=>s.jsxs("div",{className:"flex flex-col justify-between gap-4 p-4 md:flex-row md:items-center",children:[s.jsx("div",{className:"flex-1 font-medium",children:A.item.name}),s.jsxs("div",{className:"flex min-w-[150px] items-center gap-3",children:[ae(A.status),ie(A.status)]}),s.jsx("div",{className:"flex-1 text-sm text-muted-foreground italic",children:A.notes||"Sin observaciones"}),A.status!=="ok"&&s.jsx(Z,{size:"sm",variant:"secondary",onClick:je,children:"Crear Incidencia"})]},A.id))})})]},Y)}),e[0]=E,e[1]=t.captain,e[2]=t.captain_reviewed_at,e[3]=t.created_at,e[4]=t.details,e[5]=t.id,e[6]=t.machinist,e[7]=t.machinist_reviewed_at,e[8]=t.status,e[9]=t.user.name,e[10]=t.vehicle.company,e[11]=t.vehicle.name,e[12]=t.vehicle.plate,e[13]=r,e[14]=d,e[15]=m,e[16]=o,e[17]=a,e[18]=l,e[19]=h,e[20]=c}else r=e[13],d=e[14],m=e[15],o=e[16],a=e[17],l=e[18],h=e[19],c=e[20];let x;e[82]!==d||e[83]!==m?(x=s.jsx("div",{className:d,children:m}),e[82]=d,e[83]=m,e[84]=x):x=e[84];let f;e[85]!==o||e[86]!==a||e[87]!==l||e[88]!==x?(f=s.jsxs("div",{className:o,children:[a,l,x]}),e[85]=o,e[86]=a,e[87]=l,e[88]=x,e[89]=f):f=e[89];let H;return e[90]!==r||e[91]!==h||e[92]!==c||e[93]!==f?(H=s.jsxs(r,{breadcrumbs:h,children:[c,f]}),e[90]=r,e[91]=h,e[92]=c,e[93]=f,e[94]=H):H=e[94],H}function je(){return alert("Próximamente: Crear Incidencia automática")}function ve(i){switch(i){case"ok":return s.jsx(q,{className:"size-5 text-green-500"});case"next_maint":return s.jsx(fe,{className:"size-5 text-yellow-500"});case"urgent":return s.jsx(xe,{className:"size-5 text-red-500"});default:return null}}function _e(i){switch(i){case"ok":return s.jsx(n,{className:"bg-green-500",children:"OK"});case"next_maint":return s.jsx(n,{className:"bg-yellow-500",children:"Próx. Mant."});case"urgent":return s.jsx(n,{className:"bg-red-500",children:"Urgente"});default:return s.jsx(n,{variant:"outline",children:i})}}function ge(i,e){const t=e.item.category;return i[t]||(i[t]=[]),i[t].push(e),i}export{Ee as default};
