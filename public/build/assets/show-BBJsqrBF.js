import{c as Q,d as X,j as s,H as Y,L as Z}from"./app-DjgDN_3r.js";import{B as ee}from"./badge-CtZ0tCrd.js";import{a as se,B as te}from"./button-CV3RnsLL.js";import{c as k,C as L,a as D,d as M}from"./card-no0SrHmK.js";import{W as J,A as ae}from"./app-layout-CxcElSpn.js";import{C as le}from"./circle-check-STZDqZm1.js";import{C as re}from"./circle-alert-Am0ILyjo.js";import{C as U}from"./calendar-DBjhmyqT.js";import{A as ie}from"./arrow-left-C58HBEY_.js";/* empty css            */import"./index-S44m8F93.js";import"./index-DqCh8O2b.js";import"./index-C4J_hXM0.js";import"./shield-zvWDQbaZ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ne=se("DollarSign",ce);function Se(P){const e=Q.c(73),{vehicle:t,totalMaintenanceCost:q}=P,C=X().props,a=t.issues?.[0],l=t.maintenances?.[0],G=oe;let O;e[0]===Symbol.for("react.memo_cache_sentinel")?(O={title:"Material Mayor",href:"/vehicles/status"},e[0]=O):O=e[0];const z=`/vehicles/status/${t.id}`;let r;e[1]!==z||e[2]!==t.name?(r=[O,{title:t.name,href:z}],e[1]=z,e[2]=t.name,e[3]=r):r=e[3];const F=`Detalle ${t.name}`;let i;e[4]!==F?(i=s.jsx(Y,{title:F}),e[4]=F,e[5]=i):i=e[5];let A;e[6]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(te,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(Z,{href:"/vehicles/status",children:s.jsx(ie,{className:"h-5 w-5"})})}),e[6]=A):A=e[6];const K=t.name,R=G(t.status),V=t.status==="Operative"?"En Servicio":t.status==="Workshop"?"En Taller":"Fuera de Servicio";let c;e[7]!==R||e[8]!==V?(c=s.jsx(ee,{className:R,children:V}),e[7]=R,e[8]=V,e[9]=c):c=e[9];let n;e[10]!==c||e[11]!==t.name?(n=s.jsxs("h1",{className:"flex items-center gap-3 text-2xl font-bold",children:[K,c]}),e[10]=c,e[11]=t.name,e[12]=n):n=e[12];let o;e[13]!==t.company||e[14]!==t.make||e[15]!==t.model?(o=s.jsxs("p",{className:"text-muted-foreground",children:[t.company," - ",t.make," ",t.model]}),e[13]=t.company,e[14]=t.make,e[15]=t.model,e[16]=o):o=e[16];let m;e[17]!==n||e[18]!==o?(m=s.jsxs("div",{className:"flex items-center gap-4",children:[A,s.jsxs("div",{children:[n,o]})]}),e[17]=n,e[18]=o,e[19]=m):m=e[19];let E;e[20]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("summary",{className:"cursor-pointer text-xs font-bold text-muted-foreground",children:"Debug Info (Haga clic para expandir)"}),e[20]=E):E=e[20];let d;e[21]!==t?(d=JSON.stringify(t,null,2),e[21]=t,e[22]=d):d=e[22];let x;e[23]!==d?(x=s.jsxs("details",{className:"mb-4 rounded border p-2",children:[E,s.jsx("pre",{className:"mt-2 overflow-auto rounded bg-slate-950 p-4 text-xs text-white",children:d})]}),e[23]=d,e[24]=x):x=e[24];let H;e[25]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx(L,{children:s.jsx(D,{children:"Información del Vehículo"})}),e[25]=H):H=e[25];let I;e[26]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Patente"}),e[26]=I):I=e[26];let h;e[27]!==t.plate?(h=s.jsxs("div",{children:[I,s.jsx("p",{className:"text-lg font-semibold",children:t.plate})]}),e[27]=t.plate,e[28]=h):h=e[28];let T;e[29]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Año"}),e[29]=T):T=e[29];let f;e[30]!==t.year?(f=s.jsxs("div",{children:[T,s.jsx("p",{className:"text-lg font-semibold",children:t.year})]}),e[30]=t.year,e[31]=f):f=e[31];let W;e[32]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Marca"}),e[32]=W):W=e[32];let p;e[33]!==t.make?(p=s.jsxs("div",{children:[W,s.jsx("p",{className:"text-lg font-semibold",children:t.make})]}),e[33]=t.make,e[34]=p):p=e[34];let B;e[35]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Modelo"}),e[35]=B):B=e[35];let u;e[36]!==t.model?(u=s.jsxs("div",{children:[B,s.jsx("p",{className:"text-lg font-semibold",children:t.model})]}),e[36]=t.model,e[37]=u):u=e[37];let j;e[38]!==h||e[39]!==f||e[40]!==p||e[41]!==u?(j=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h,f,p,u]}),e[38]=h,e[39]=f,e[40]=p,e[41]=u,e[42]=j):j=e[42];let g;e[43]!==C.auth||e[44]!==q?(g=C.auth?.user&&(C.auth.user.company==="Comandancia"||C.auth.user.role==="admin")&&s.jsxs("div",{className:"mt-4 rounded-md bg-blue-50 p-4",children:[s.jsxs("div",{className:"mb-1 flex items-center gap-2 text-blue-800",children:[s.jsx(ne,{className:"h-5 w-5"}),s.jsx("span",{className:"font-bold",children:"Inversión Total en Mantenimiento"})]}),s.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["$",(q||0).toLocaleString("es-CL")]}),s.jsx("p",{className:"mt-1 text-xs text-blue-700",children:"Suma histórica de todas los trabajos realizados."})]}),e[43]=C.auth,e[44]=q,e[45]=g):g=e[45];let N;e[46]!==j||e[47]!==g?(N=s.jsxs(k,{className:"md:col-span-2",children:[H,s.jsxs(M,{className:"space-y-4",children:[j,g]})]}),e[46]=j,e[47]=g,e[48]=N):N=e[48];let b;e[49]!==t.status?(b=t.status==="Operative"&&s.jsxs(k,{className:"border-green-200 bg-green-50",children:[s.jsx(L,{className:"pb-2",children:s.jsxs(D,{className:"flex items-center gap-2 text-green-800",children:[s.jsx(le,{className:"h-5 w-5"}),"Unidad Operativa"]})}),s.jsx(M,{children:s.jsx("p",{className:"text-sm text-green-700",children:"La unidad se encuentra operativa y disponible para el servicio."})})]}),e[49]=t.status,e[50]=b):b=e[50];let y;e[51]!==a||e[52]!==t.status?(y=t.status==="Out of Service"&&a&&s.jsxs(k,{className:"border-red-200 bg-red-50",children:[s.jsx(L,{className:"pb-2",children:s.jsxs(D,{className:"flex items-center gap-2 text-red-800",children:[s.jsx(re,{className:"h-5 w-5"}),"Fuera de Servicio"]})}),s.jsxs(M,{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-red-900",children:"Motivo:"}),s.jsx("p",{className:"text-sm text-red-800",children:a.description}),s.jsxs("div",{className:"mt-2 flex gap-2 text-xs text-red-700",children:[s.jsx(U,{className:"h-3 w-3"})," ",a.date?new Date(a.date).toLocaleDateString():new Date(a.created_at).toLocaleDateString()]})]})]}),e[51]=a,e[52]=t.status,e[53]=y):y=e[53];let v;e[54]!==a||e[55]!==l||e[56]!==t.status?(v=(t.status==="Workshop"||t.status==="Out of Service"&&!a&&l)&&(l?s.jsxs(k,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx(L,{className:"pb-2",children:s.jsxs(D,{className:"flex items-center gap-2 text-yellow-800",children:[s.jsx(J,{className:"h-5 w-5"}),"En Taller"]})}),s.jsxs(M,{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium text-yellow-900",children:["Taller:"," ",l.workshop_name]}),s.jsx("p",{className:"text-sm text-yellow-800",children:l.description}),s.jsxs("div",{className:"mt-2 flex gap-2 text-xs text-yellow-700",children:[s.jsx(U,{className:"h-3 w-3"})," ","Ingreso:"," ",new Date(l.entry_date).toLocaleDateString()]})]})]}):s.jsxs(k,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx(L,{className:"pb-2",children:s.jsxs(D,{className:"flex items-center gap-2 text-yellow-800",children:[s.jsx(J,{className:"h-5 w-5"}),"En Taller"]})}),s.jsx(M,{children:s.jsx("p",{className:"text-sm text-yellow-800",children:"No hay información de orden de trabajo activa."})})]})),e[54]=a,e[55]=l,e[56]=t.status,e[57]=v):v=e[57];let w;e[58]!==b||e[59]!==y||e[60]!==v?(w=s.jsxs("div",{className:"space-y-6",children:[b,y,v]}),e[58]=b,e[59]=y,e[60]=v,e[61]=w):w=e[61];let S;e[62]!==N||e[63]!==w?(S=s.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[N,w]}),e[62]=N,e[63]=w,e[64]=S):S=e[64];let _;e[65]!==m||e[66]!==x||e[67]!==S?(_=s.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-6 p-4",children:[m,x,S]}),e[65]=m,e[66]=x,e[67]=S,e[68]=_):_=e[68];let $;return e[69]!==r||e[70]!==_||e[71]!==i?($=s.jsxs(ae,{breadcrumbs:r,children:[i,_]}),e[69]=r,e[70]=_,e[71]=i,e[72]=$):$=e[72],$}function oe(P){switch(P){case"Operative":return"bg-green-100 text-green-800";case"Workshop":return"bg-yellow-100 text-yellow-800";case"Out of Service":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}export{Se as default};
