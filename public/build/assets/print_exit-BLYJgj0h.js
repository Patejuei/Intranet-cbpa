import{c as Y,j as s,H as Z}from"./app-Cr7-DYvT.js";import{f as X,B as ee}from"./button-BgxrarVS.js";import{P as se}from"./printer-CNUWvebM.js";/* empty css            */function he(l){const e=Y.c(82),{maintenance:t}=l;let P;e[0]!==t.id?(P=()=>s.jsxs("div",{className:"flex items-center justify-between border-b-2 border-slate-900 pb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:"/images/cbpa_logo.jpg",alt:"Logo CBPA",className:"h-16 w-16 object-contain"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-wider uppercase",children:"Cuerpo de Bomberos Puente Alto"}),s.jsx("h2",{className:"text-lg font-semibold text-slate-700 uppercase",children:"Depto. Material Mayor"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("h3",{className:"text-xl font-bold",children:"ORDEN DE SALIDA"}),s.jsxs("p",{className:"font-mono text-lg",children:["#",String(t.id).padStart(6,"0")]}),s.jsx("p",{className:"text-sm text-slate-600",children:X(new Date().toISOString())})]})]}),e[0]=t.id,e[1]=P):P=e[1];const a=P,K=`Orden de Salida #${t.id}`;let i;e[2]!==K?(i=s.jsx(Z,{title:K}),e[2]=K,e[3]=i):i=e[3];let D;e[4]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx("style",{children:`
                @media print {
                    @page {
                        size: 21.6cm 33cm;
                        margin: 0.5cm;
                    }
                    body {
                        -webkit-print-color-adjust: exact;
                        print-color-adjust: exact;
                    }
                    .page-break {
                        break-before: page;
                    }
                }
            `}),e[4]=D):D=e[4];let I;e[5]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx("div",{className:"mx-auto mb-4 flex max-w-[21.5cm] justify-end print:hidden",children:s.jsxs(ee,{onClick:oe,children:[s.jsx(se,{className:"mr-2 size-4"})," Imprimir Documento"]})}),e[5]=I):I=e[5];let n;e[6]!==a?(n=s.jsx(a,{}),e[6]=a,e[7]=n):n=e[7];let F;e[8]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Unidad / Carro"}),e[8]=F):F=e[8];let r;e[9]!==t.vehicle.name?(r=s.jsxs("div",{children:[F,s.jsx("p",{className:"text-sm font-semibold uppercase",children:t.vehicle.name})]}),e[9]=t.vehicle.name,e[10]=r):r=e[10];let A;e[11]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Compañía"}),e[11]=A):A=e[11];let c;e[12]!==t.vehicle.company?(c=s.jsxs("div",{children:[A,s.jsx("p",{className:"text-sm font-semibold uppercase",children:t.vehicle.company})]}),e[12]=t.vehicle.company,e[13]=c):c=e[13];let E;e[14]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Patente"}),e[14]=E):E=e[14];const G=t.vehicle.plate||"N/A";let o;e[15]!==G?(o=s.jsxs("div",{children:[E,s.jsx("p",{className:"text-sm font-semibold uppercase",children:G})]}),e[15]=G,e[16]=o):o=e[16];let L;e[17]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Taller Responsable"}),e[17]=L):L=e[17];let d;e[18]!==t.workshop_name?(d=s.jsxs("div",{children:[L,s.jsx("p",{className:"text-sm font-semibold uppercase",children:t.workshop_name})]}),e[18]=t.workshop_name,e[19]=d):d=e[19];let M;e[20]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Fecha Ingreso"}),e[20]=M):M=e[20];let m;e[21]!==t.entry_date?(m=X(t.entry_date),e[21]=t.entry_date,e[22]=m):m=e[22];let x;e[23]!==m?(x=s.jsxs("div",{children:[M,s.jsx("p",{className:"text-sm font-semibold",children:m})]}),e[23]=m,e[24]=x):x=e[24];let O;e[25]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Fecha Salida"}),e[25]=O):O=e[25];let p;e[26]!==t.exit_date?(p=t.exit_date?X(t.exit_date):"Pendiente",e[26]=t.exit_date,e[27]=p):p=e[27];let h;e[28]!==p?(h=s.jsxs("div",{children:[O,s.jsx("p",{className:"text-sm font-semibold",children:p})]}),e[28]=p,e[29]=h):h=e[29];let z;e[30]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Kilometraje Ingreso"}),e[30]=z):z=e[30];const Q=t.mileage_in||"--";let b;e[31]!==Q?(b=s.jsxs("div",{children:[z,s.jsxs("p",{className:"text-sm font-semibold",children:[Q," km"]})]}),e[31]=Q,e[32]=b):b=e[32];let $;e[33]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Responsable Ingreso"}),e[33]=$):$=e[33];const V=t.responsible_person||"N/A";let f;e[34]!==V?(f=s.jsxs("div",{children:[$,s.jsx("p",{className:"text-sm font-semibold",children:V})]}),e[34]=V,e[35]=f):f=e[35];let j;e[36]!==c||e[37]!==o||e[38]!==d||e[39]!==x||e[40]!==h||e[41]!==b||e[42]!==f||e[43]!==r?(j=s.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-3",children:[r,c,o,d,x,h,b,f]}),e[36]=c,e[37]=o,e[38]=d,e[39]=x,e[40]=h,e[41]=b,e[42]=f,e[43]=r,e[44]=j):j=e[44];let u;e[45]!==t.entry_checklist?(u=t.entry_checklist&&s.jsxs("div",{className:"mt-6 rounded border border-slate-200 bg-slate-50 p-4",children:[s.jsx("h4",{className:"mb-2 text-xs font-bold text-slate-500 uppercase",children:"Resumen Condiciones de Ingreso (Fallas Detectadas)"}),s.jsx("div",{className:"text-sm",children:Object.entries(t.entry_checklist).filter(ce).map(re).join(", ")||"Ninguna falla reportada al ingreso."})]}),e[45]=t.entry_checklist,e[46]=u):u=e[46];let N;e[47]!==j||e[48]!==u||e[49]!==n?(N=s.jsxs("div",{className:"space-y-6",children:[n,j,u]}),e[47]=j,e[48]=u,e[49]=n,e[50]=N):N=e[50];let B;e[51]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx("div",{className:"border-t pt-4 text-center text-xs text-slate-400",children:s.jsx("p",{children:"Página 1 - Datos de Salida"})}),e[51]=B):B=e[51];let g;e[52]!==N?(g=s.jsxs("div",{className:"mx-auto flex h-[31cm] max-w-[21.5cm] flex-col justify-between border border-slate-300 bg-white p-8 shadow-md print:h-auto print:border-none print:p-0 print:shadow-none",children:[N,B]}),e[52]=N,e[53]=g):g=e[53];let _;e[54]!==a?(_=s.jsx(a,{}),e[54]=a,e[55]=_):_=e[55];let v;e[56]!==t.issues?(v=t.issues.some(ne)&&s.jsxs("div",{className:"mt-6",children:[s.jsx("div",{className:"mb-2 border-b border-slate-300 pb-1",children:s.jsx("span",{className:"text-sm font-bold text-slate-900 uppercase",children:"Incidencias Resueltas"})}),s.jsx("ul",{className:"list-inside list-disc space-y-1 text-sm",children:t.issues.filter(ie).map(ae)})]}),e[56]=t.issues,e[57]=v):v=e[57];let y;e[58]!==t.tasks?(y=t.tasks.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("div",{className:"mb-2 border-b border-slate-300 pb-1",children:s.jsx("span",{className:"text-sm font-bold text-slate-900 uppercase",children:"Trabajos Realizados (Mano de Obra)"})}),s.jsx("ul",{className:"list-inside list-disc space-y-1 text-sm",children:t.tasks.map(le)})]}),e[58]=t.tasks,e[59]=y):y=e[59];let k;e[60]!==t.items?(k=t.items&&t.items.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("div",{className:"mb-2 border-b border-slate-300 pb-1",children:s.jsx("span",{className:"text-sm font-bold text-slate-900 uppercase",children:"Repuestos e Insumos Consumidos"})}),s.jsx("div",{className:"text-sm",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-200",children:[s.jsx("th",{className:"py-1 font-semibold",children:"Ítem"}),s.jsx("th",{className:"py-1 text-right font-semibold",children:"Cant."}),s.jsx("th",{className:"py-1 text-right font-semibold",children:"Costo Unit."}),s.jsx("th",{className:"py-1 text-right font-semibold",children:"Total"})]})}),s.jsx("tbody",{children:t.items.map(te)})]})})]}),e[60]=t.items,e[61]=k):k=e[61];let T;e[62]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx("span",{className:"mb-2 block text-sm font-bold text-slate-700 uppercase",children:"Observaciones Finales"}),e[62]=T):T=e[62];const W=t.description||"Sin observaciones.";let S;e[63]!==W?(S=s.jsxs("div",{className:"mt-6 min-h-[150px] rounded border border-slate-300 p-4",children:[T,s.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:W})]}),e[63]=W,e[64]=S):S=e[64];let H;e[65]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsxs("div",{className:"border-t border-slate-900 pt-2 text-center",children:[s.jsx("p",{className:"text-sm font-bold uppercase",children:"Firma Mecánico Jefe"}),s.jsx("p",{className:"text-xs text-slate-500",children:"(Aceptación de Trabajos)"})]}),e[65]=H):H=e[65];let q;e[66]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-16 pt-8",children:[H,s.jsxs("div",{className:"border-t border-slate-900 pt-2 text-center",children:[s.jsx("p",{className:"text-sm font-bold uppercase",children:"Firma Maquinista / Receptor"}),s.jsx("p",{className:"text-xs text-slate-500",children:"(Conformidad de Entrega)"})]})]}),e[66]=q):q=e[66];let w;e[67]!==_||e[68]!==v||e[69]!==y||e[70]!==k||e[71]!==S?(w=s.jsxs("div",{className:"space-y-6",children:[_,v,y,k,S,q]}),e[67]=_,e[68]=v,e[69]=y,e[70]=k,e[71]=S,e[72]=w):w=e[72];let U;e[73]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx("div",{className:"border-t pt-4 text-center text-xs text-slate-400",children:s.jsx("p",{children:"Página 2 - Conformidad"})}),e[73]=U):U=e[73];let R;e[74]!==w?(R=s.jsxs("div",{className:"page-break mx-auto mt-8 flex h-[31cm] max-w-[21.5cm] flex-col justify-between border border-slate-300 bg-white p-8 shadow-md print:mt-0 print:h-auto print:border-none print:p-0 print:shadow-none",children:[w,U]}),e[74]=w,e[75]=R):R=e[75];let C;e[76]!==g||e[77]!==R?(C=s.jsxs("div",{className:"min-h-screen bg-gray-100 p-8 text-black print:bg-white print:p-0",children:[I,g,R]}),e[76]=g,e[77]=R,e[78]=C):C=e[78];let J;return e[79]!==i||e[80]!==C?(J=s.jsxs(s.Fragment,{children:[i,D,C]}),e[79]=i,e[80]=C,e[81]=J):J=e[81],J}function te(l){return s.jsxs("tr",{className:"border-b border-slate-100 last:border-0",children:[s.jsxs("td",{className:"py-1",children:[l.name," ",s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",l.sku,")"]})]}),s.jsx("td",{className:"py-1 text-right",children:l.pivot.quantity}),s.jsxs("td",{className:"py-1 text-right",children:["$",l.pivot.unit_cost.toLocaleString("es-CL")]}),s.jsxs("td",{className:"py-1 text-right font-medium",children:["$",l.pivot.total_cost.toLocaleString("es-CL")]})]},l.id)}function le(l){return s.jsxs("li",{children:[l.description," ",s.jsxs("span",{className:`text-xs font-bold uppercase ${l.is_completed?"text-green-600":"text-slate-400"}`,children:["(",l.is_completed?"Realizado":"No Realizado",")"]})]},l.id)}function ae(l){return s.jsxs("li",{children:[l.description," ",s.jsx("span",{className:"text-xs font-bold text-green-600 uppercase",children:"(Resuelto)"})]},l.id)}function ie(l){return l.status==="Resolved"}function ne(l){return l.status==="Resolved"}function re(l){const[e]=l;return e}function ce(l){const[,e]=l;return e==="Fallas"}function oe(){return window.print()}export{he as default};
