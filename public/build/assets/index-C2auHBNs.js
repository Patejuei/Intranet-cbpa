import{c as me,r as ue,u as fe,j as t,H as xe}from"./app-Dd9auU8S.js";import{P as be}from"./Pagination-BITtO3wE.js";import{o as pe,A as ge}from"./app-layout-CVmopS7h.js";import{a as ce}from"./button-CHx9iYyT.js";import{S as he}from"./save-CpVXp3Nt.js";import{H as ve}from"./history-cSyDQxz4.js";/* empty css            */import"./index-BKaUFAG5.js";import"./index-DiXjhHBV.js";import"./index-C4J_hXM0.js";import"./shield-BS78cT0K.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],je=ce("CircleArrowDown",ye);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],_e=ce("CircleArrowUp",Ne),ke=[{value:"EPP",label:"Equipos de Protección Personal (EPP)"},{value:"EXT",label:"Material de Extinción (EXT)"},{value:"RES",label:"Herramientas de Rescate (RES)"},{value:"MED",label:"Material Médico (MED)"},{value:"TEL",label:"Telecomunicaciones (TEL)"},{value:"EFO",label:"Entrada Forzada (EFO)"},{value:"ESC",label:"Escalas (ESC)"},{value:"VEN",label:"Ventilación (VEN)"},{value:"REL",label:"Riesgos Eléctricos (REL)"},{value:"HAZ",label:"Materiales Peligrosos (HAZ)"}];function ze(r){const e=me.c(98),{logs:n}=r,[o,de]=ue.useState("ALTA");let H;e[0]===Symbol.for("react.memo_cache_sentinel")?(H={item_name:"",brand:"",model:"",serial_number:"",inventory_number:"",category:"",type:"ALTA",reason:"",status:"",document:null},e[0]=H):H=e[0];const{data:a,setData:s,post:Y,processing:ee,reset:te,errors:i}=fe(H);let q;e[1]!==Y||e[2]!==te?(q=l=>{l.preventDefault(),Y("/equipment",{onSuccess:()=>te()})},e[1]=Y,e[2]=te,e[3]=q):q=e[3];const se=q;let z;e[4]!==s?(z=l=>{de(l),s("type",l)},e[4]=s,e[5]=z):z=e[5];const c=z;let B,F;e[6]===Symbol.for("react.memo_cache_sentinel")?(B=[{title:"Panel Principal",href:"/dashboard"},{title:"Material Menor",href:"/equipment"}],F=t.jsx(xe,{title:"Gestión Material Menor"}),e[6]=B,e[7]=F):(B=e[6],F=e[7]);let O;e[8]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[t.jsx(pe,{className:"size-5 text-primary"}),t.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Registro de Material"})]}),e[8]=O):O=e[8];let d;e[9]!==c?(d=()=>c("ALTA"),e[9]=c,e[10]=d):d=e[10];const le=`flex-1 rounded-md px-3 py-1.5 text-sm font-medium transition-all ${o==="ALTA"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`;let $;e[11]===Symbol.for("react.memo_cache_sentinel")?($=t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx(_e,{className:"size-4"})," Alta"]}),e[11]=$):$=e[11];let m;e[12]!==d||e[13]!==le?(m=t.jsx("button",{onClick:d,className:le,children:$}),e[12]=d,e[13]=le,e[14]=m):m=e[14];let u;e[15]!==c?(u=()=>c("BAJA"),e[15]=c,e[16]=u):u=e[16];const re=`flex-1 rounded-md px-3 py-1.5 text-sm font-medium transition-all ${o==="BAJA"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`;let V;e[17]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx(je,{className:"size-4"})," Baja"]}),e[17]=V):V=e[17];let f;e[18]!==u||e[19]!==re?(f=t.jsx("button",{onClick:u,className:re,children:V}),e[18]=u,e[19]=re,e[20]=f):f=e[20];let x;e[21]!==m||e[22]!==f?(x=t.jsxs("div",{className:"mb-6 flex gap-2 rounded-lg bg-muted p-1",children:[m,f]}),e[21]=m,e[22]=f,e[23]=x):x=e[23];let I;e[24]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Nombre del Material"}),e[24]=I):I=e[24];let b;e[25]!==s?(b=l=>s("item_name",l.target.value),e[25]=s,e[26]=b):b=e[26];let p;e[27]!==a.item_name||e[28]!==b?(p=t.jsx("input",{type:"text",value:a.item_name,onChange:b,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:"Ej: Pitón Protek, Hacha...",required:!0}),e[27]=a.item_name,e[28]=b,e[29]=p):p=e[29];let g;e[30]!==i.item_name?(g=i.item_name&&t.jsx("p",{className:"mt-1 text-xs text-destructive",children:i.item_name}),e[30]=i.item_name,e[31]=g):g=e[31];let h;e[32]!==p||e[33]!==g?(h=t.jsxs("div",{children:[I,p,g]}),e[32]=p,e[33]=g,e[34]=h):h=e[34];let X;e[35]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Marca"}),e[35]=X):X=e[35];const ae=a.brand||"";let v;e[36]!==s?(v=l=>s("brand",l.target.value),e[36]=s,e[37]=v):v=e[37];let y;e[38]!==ae||e[39]!==v?(y=t.jsxs("div",{children:[X,t.jsx("input",{type:"text",value:ae,onChange:v,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:"Ej: Rosenbauer"})]}),e[38]=ae,e[39]=v,e[40]=y):y=e[40];let G;e[41]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Modelo"}),e[41]=G):G=e[41];const ie=a.model||"";let j;e[42]!==s?(j=l=>s("model",l.target.value),e[42]=s,e[43]=j):j=e[43];let N;e[44]!==ie||e[45]!==j?(N=t.jsxs("div",{children:[G,t.jsx("input",{type:"text",value:ie,onChange:j,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:"Ej: Hercul-X"})]}),e[44]=ie,e[45]=j,e[46]=N):N=e[46];let _;e[47]!==y||e[48]!==N?(_=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y,N]}),e[47]=y,e[48]=N,e[49]=_):_=e[49];let k;e[50]!==o||e[51]!==a.category||e[52]!==i.category||e[53]!==s?(k=o==="ALTA"&&t.jsxs("div",{children:[t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Categoría"}),t.jsxs("select",{value:a.category,onChange:l=>s("category",l.target.value),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",required:!0,children:[t.jsx("option",{value:"",children:"Seleccione Categoría"}),ke.map(Ee)]}),i.category&&t.jsx("p",{className:"mt-1 text-xs text-destructive",children:i.category})]}),e[50]=o,e[51]=a.category,e[52]=i.category,e[53]=s,e[54]=k):k=e[54];let J;e[55]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Número de Serie (Fabricante)"}),e[55]=J):J=e[55];let A;e[56]!==s?(A=l=>s("serial_number",l.target.value),e[56]=s,e[57]=A):A=e[57];let E;e[58]!==a.serial_number||e[59]!==A?(E=t.jsxs("div",{children:[J,t.jsx("input",{type:"text",value:a.serial_number,onChange:A,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:"Opcional - S/N del fabricante"})]}),e[58]=a.serial_number,e[59]=A,e[60]=E):E=e[60];let U;e[61]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Motivo / Descripción"}),e[61]=U):U=e[61];let S;e[62]!==s?(S=l=>s("reason",l.target.value),e[62]=s,e[63]=S):S=e[63];const ne=o==="ALTA"?"Detalles de la adquisición...":"Razón de la baja (daño, pérdida, etc)...";let w;e[64]!==a.reason||e[65]!==S||e[66]!==ne?(w=t.jsxs("div",{children:[U,t.jsx("textarea",{value:a.reason,onChange:S,className:"min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:ne})]}),e[64]=a.reason,e[65]=S,e[66]=ne,e[67]=w):w=e[67];let Z;e[68]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Documento de Respaldo (Opcional)"}),e[68]=Z):Z=e[68];let C;e[69]!==s?(C=t.jsxs("div",{children:[Z,t.jsx("input",{type:"file",onChange:l=>s("document",l.target.files?l.target.files[0]:null),className:"w-full cursor-pointer rounded-md border border-input bg-background px-3 py-2 text-sm file:mr-4 file:rounded-full file:border-0 file:bg-primary/10 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-primary hover:file:bg-primary/20",accept:".pdf,.jpg,.png,.jpeg"})]}),e[69]=s,e[70]=C):C=e[70];let K;e[71]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(he,{className:"size-4"}),e[71]=K):K=e[71];const oe=o==="ALTA"?"Alta":"Baja";let M;e[72]!==ee||e[73]!==oe?(M=t.jsxs("button",{type:"submit",disabled:ee,className:"flex h-10 w-full items-center justify-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90",children:[K,"Registrar"," ",oe]}),e[72]=ee,e[73]=oe,e[74]=M):M=e[74];let T;e[75]!==se||e[76]!==h||e[77]!==_||e[78]!==k||e[79]!==E||e[80]!==w||e[81]!==C||e[82]!==M?(T=t.jsxs("form",{onSubmit:se,className:"space-y-4",children:[h,_,k,E,w,C,M]}),e[75]=se,e[76]=h,e[77]=_,e[78]=k,e[79]=E,e[80]=w,e[81]=C,e[82]=M,e[83]=T):T=e[83];let L;e[84]!==x||e[85]!==T?(L=t.jsxs("div",{className:"rounded-xl border bg-card p-6 shadow-sm",children:[O,x,T]}),e[84]=x,e[85]=T,e[86]=L):L=e[86];let Q;e[87]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsxs("div",{className:"mb-6 flex items-center gap-2 text-primary",children:[t.jsx(ve,{className:"size-5"}),t.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Historial de Movimientos"})]}),e[87]=Q):Q=e[87];let P;e[88]!==n.data?(P=t.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:n.data.length===0?t.jsx("p",{className:"py-8 text-center text-muted-foreground",children:"No hay registros recientes."}):t.jsx("div",{className:"space-y-4",children:n.data.map(Ae)})}),e[88]=n.data,e[89]=P):P=e[89];let R;e[90]!==n.links?(R=t.jsx(be,{links:n.links}),e[90]=n.links,e[91]=R):R=e[91];let D;e[92]!==P||e[93]!==R?(D=t.jsxs("div",{className:"flex max-h-[600px] flex-col overflow-hidden rounded-xl border bg-card p-6 shadow-sm",children:[Q,P,R]}),e[92]=P,e[93]=R,e[94]=D):D=e[94];let W;return e[95]!==L||e[96]!==D?(W=t.jsxs(ge,{breadcrumbs:B,children:[F,t.jsx("div",{className:"flex flex-col gap-6 p-4",children:t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[L,D]})})]}),e[95]=L,e[96]=D,e[97]=W):W=e[97],W}function Ae(r){return t.jsxs("div",{className:"rounded-lg border bg-muted/30 p-3 transition-colors hover:bg-muted/50",children:[t.jsxs("div",{className:"mb-1 flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("span",{className:"block font-semibold",children:r.item_name}),r.inventory_number&&t.jsx("span",{className:"rounded border bg-background px-1.5 py-0.5 font-mono text-xs",children:r.inventory_number})]}),t.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${r.type==="ALTA"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:r.type})]}),t.jsxs("p",{className:"mb-1 text-sm text-muted-foreground",children:[r.serial_number&&t.jsxs("span",{className:"mr-2",children:["S/N: ",r.serial_number]}),"Por: ",r.user.name]}),r.reason&&t.jsxs("p",{className:"border-l-2 border-primary/30 pl-2 text-sm italic",children:['"',r.reason,'"']}),t.jsx("div",{className:"mt-2 flex items-center justify-between",children:t.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(r.created_at).toLocaleString()})})]},r.id)}function Ee(r){return t.jsx("option",{value:r.value,children:r.label},r.value)}export{ze as default};
