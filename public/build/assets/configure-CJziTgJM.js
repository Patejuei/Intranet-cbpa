import{c as ue,u as fe,j as s,H as pe,a as oe}from"./app-BHG2hm5T.js";import{B as xe}from"./badge-D2mGt2FT.js";import{B as ne}from"./button-Z6kmdew5.js";import{b as ee,C as se,a as te,d as ae,c as le}from"./card-D0sPhIom.js";import{I as re}from"./input-SlT7uC8i.js";import{L as ie}from"./label-BQc_PkxT.js";import{S as je,a as ge,b as ve,c as Ce,d as i}from"./select-CKEgZyTl.js";import{S as _e}from"./separator-BVZ5eG58.js";import{A as ye}from"./app-layout-hnxNyFOA.js";import{T as be}from"./trash-2-Bt3_Z3vu.js";import{P as Ne}from"./plus-CTnaVD1C.js";/* empty css            */import"./index-DM6PgUW3.js";import"./index-KJ8nIQ1N.js";import"./index-Q1HKqKhG.js";import"./chevron-down-BbetoyTj.js";import"./check-CGeZhyYa.js";import"./index-q7GIQJN5.js";import"./shield-Nszra4Fu.js";function Me(a){const e=ue.c(86),{items:o,canConfigureAll:U,currentCompany:t,companies:O}=a;let H;e[0]!==t?(H={short_name:"",full_name:"",category:"",company:t},e[0]=t,e[1]=H):H=e[1];const{data:c,setData:l,post:W,processing:X,errors:r,reset:Y}=fe(H);let I;e[2]!==t||e[3]!==W||e[4]!==Y||e[5]!==l?(I=n=>{n.preventDefault(),W("/vehicles/checklist-items",{onSuccess:()=>{Y(),l("company",t)}})},e[2]=t,e[3]=W,e[4]=Y,e[5]=l,e[6]=I):I=e[6];const Z=I,me=Ee,de=Ae;let V,Q;e[7]===Symbol.for("react.memo_cache_sentinel")?(V=[{title:"Configurar Checklist",href:"/vehicles/checklist/configure"}],Q=s.jsx(pe,{title:"Configurar Checklist"}),e[7]=V,e[8]=Q):(V=e[7],Q=e[8]);let R;e[9]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Configuración de Checklist"}),s.jsx("p",{className:"text-muted-foreground",children:"Administre los ítems que aparecen en los checklists."})]})}),e[9]=R):R=e[9];let m;e[10]!==U||e[11]!==O||e[12]!==t?(m=U&&s.jsxs(ee,{children:[s.jsxs(se,{children:[s.jsx(te,{children:"Seleccionar Compañía"}),s.jsxs(ae,{children:["Está configurando los ítems para:"," ",s.jsx("span",{className:"font-bold",children:t})]})]}),s.jsx(le,{children:s.jsxs(je,{value:t,onValueChange:de,children:[s.jsx(ge,{className:"w-[280px]",children:s.jsx(ve,{placeholder:"Seleccione una compañía"})}),s.jsxs(Ce,{children:[s.jsx(i,{value:"Comandancia",children:"Comandancia"}),O&&O.length>0?O.map(ke):s.jsxs(s.Fragment,{children:[s.jsx(i,{value:"Primera Compañía",children:"Primera Compañía"}),s.jsx(i,{value:"Segunda Compañía",children:"Segunda Compañía"}),s.jsx(i,{value:"Tercera Compañía",children:"Tercera Compañía"}),s.jsx(i,{value:"Cuarta Compañía",children:"Cuarta Compañía"}),s.jsx(i,{value:"Quinta Compañía",children:"Quinta Compañía"}),s.jsx(i,{value:"Sexta Compañía",children:"Sexta Compañía"}),s.jsx(i,{value:"Septima Compañía",children:"Septima Compañía"}),s.jsx(i,{value:"Octava Compañía",children:"Octava Compañía"}),s.jsx(i,{value:"Novena Compañía",children:"Novena Compañía"})]})]})]})})]}),e[10]=U,e[11]=O,e[12]=t,e[13]=m):m=e[13];let d;e[14]!==t?(d=s.jsxs(te,{children:["Nuevo Ítem para ",t]}),e[14]=t,e[15]=d):d=e[15];let $;e[16]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(ae,{children:"Agregue un nuevo punto de revisión."}),e[16]=$):$=e[16];let h;e[17]!==d?(h=s.jsxs(se,{children:[d,$]}),e[17]=d,e[18]=h):h=e[18];let u;e[19]!==t?(u=s.jsx("input",{type:"hidden",value:t}),e[19]=t,e[20]=u):u=e[20];let q;e[21]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(ie,{htmlFor:"category",children:"Categoría"}),e[21]=q):q=e[21];let f;e[22]!==l?(f=n=>l("category",n.target.value),e[22]=l,e[23]=f):f=e[23];let p;e[24]!==c.category||e[25]!==f?(p=s.jsx(re,{id:"category",list:"category-suggestions",placeholder:"Seleccione o escriba nueva...",value:c.category,onChange:f,autoComplete:"off"}),e[24]=c.category,e[25]=f,e[26]=p):p=e[26];let x;e[27]!==o?(x=s.jsx("datalist",{id:"category-suggestions",children:Object.keys(o).map(Se)}),e[27]=o,e[28]=x):x=e[28];let j;e[29]!==r.category?(j=r.category&&s.jsx("p",{className:"text-sm text-destructive",children:r.category}),e[29]=r.category,e[30]=j):j=e[30];let g;e[31]!==p||e[32]!==x||e[33]!==j?(g=s.jsxs("div",{className:"space-y-2",children:[q,p,x,j]}),e[31]=p,e[32]=x,e[33]=j,e[34]=g):g=e[34];let z;e[35]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx(ie,{htmlFor:"short_name",children:"Nombre Corto"}),e[35]=z):z=e[35];let v;e[36]!==l?(v=n=>l("short_name",n.target.value),e[36]=l,e[37]=v):v=e[37];let C;e[38]!==c.short_name||e[39]!==v?(C=s.jsx(re,{id:"short_name",placeholder:"Ej: Nivel de Aceite",value:c.short_name,onChange:v}),e[38]=c.short_name,e[39]=v,e[40]=C):C=e[40];let _;e[41]!==r.short_name?(_=r.short_name&&s.jsx("p",{className:"text-sm text-destructive",children:r.short_name}),e[41]=r.short_name,e[42]=_):_=e[42];let y;e[43]!==C||e[44]!==_?(y=s.jsxs("div",{className:"space-y-2",children:[z,C,_]}),e[43]=C,e[44]=_,e[45]=y):y=e[45];let G;e[46]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(ie,{htmlFor:"full_name",children:"Descripción Completa"}),e[46]=G):G=e[46];let b;e[47]!==l?(b=n=>l("full_name",n.target.value),e[47]=l,e[48]=b):b=e[48];let N;e[49]!==c.full_name||e[50]!==b?(N=s.jsx(re,{id:"full_name",placeholder:"Ej: Verificar nivel de aceite de motor y estado...",value:c.full_name,onChange:b}),e[49]=c.full_name,e[50]=b,e[51]=N):N=e[51];let S;e[52]!==r.full_name?(S=r.full_name&&s.jsx("p",{className:"text-sm text-destructive",children:r.full_name}),e[52]=r.full_name,e[53]=S):S=e[53];let k;e[54]!==N||e[55]!==S?(k=s.jsxs("div",{className:"space-y-2",children:[G,N,S]}),e[54]=N,e[55]=S,e[56]=k):k=e[56];let J;e[57]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(Ne,{className:"mr-2 h-4 w-4"}),e[57]=J):J=e[57];let A;e[58]!==X?(A=s.jsxs(ne,{type:"submit",disabled:X,children:[J,"Agregar Ítem"]}),e[58]=X,e[59]=A):A=e[59];let E;e[60]!==Z||e[61]!==u||e[62]!==g||e[63]!==y||e[64]!==k||e[65]!==A?(E=s.jsx(le,{children:s.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[u,g,y,k,A]})}),e[60]=Z,e[61]=u,e[62]=g,e[63]=y,e[64]=k,e[65]=A,e[66]=E):E=e[66];let w;e[67]!==E||e[68]!==h?(w=s.jsxs(ee,{children:[h,E]}),e[67]=E,e[68]=h,e[69]=w):w=e[69];let T;e[70]!==t?(T=s.jsxs(te,{children:["Ítems Existentes (",t,")"]}),e[70]=t,e[71]=T):T=e[71];let K;e[72]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(ae,{children:"Listado de puntos de control actuales."}),e[72]=K):K=e[72];let D;e[73]!==T?(D=s.jsxs(se,{children:[T,K]}),e[73]=T,e[74]=D):D=e[74];let F;e[75]!==o?(F=s.jsx(le,{className:"max-h-[600px] overflow-y-auto",children:Object.entries(o).map(n=>{const[ce,he]=n;return s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"mb-2 text-lg font-semibold",children:ce}),s.jsx("div",{className:"space-y-2",children:he.map(P=>s.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3 hover:bg-muted/50",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:P.short_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:P.full_name}),P.company===null&&s.jsx(xe,{variant:"secondary",className:"mt-1",children:"Global"})]}),s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>me(P.id),children:s.jsx(be,{className:"h-4 w-4 text-destructive"})})]},P.id))}),s.jsx(_e,{className:"my-4"})]},ce)})}),e[75]=o,e[76]=F):F=e[76];let B;e[77]!==D||e[78]!==F?(B=s.jsxs(ee,{children:[D,F]}),e[77]=D,e[78]=F,e[79]=B):B=e[79];let L;e[80]!==w||e[81]!==B?(L=s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[w,B]}),e[80]=w,e[81]=B,e[82]=L):L=e[82];let M;return e[83]!==L||e[84]!==m?(M=s.jsxs(ye,{breadcrumbs:V,children:[Q,s.jsxs("div",{className:"flex h-full flex-col gap-6 p-4",children:[R,m,L]})]}),e[83]=L,e[84]=m,e[85]=M):M=e[85],M}function Se(a){return s.jsx("option",{value:a},a)}function ke(a){return s.jsx(i,{value:a,children:a},a)}function Ae(a){oe.get("/vehicles/checklist-items",{company:a},{preserveState:!0})}function Ee(a){confirm("¿Está seguro de eliminar este ítem?")&&oe.delete(`/vehicles/checklist-items/${a}`)}export{Me as default};
