import{c as Z,b as ee,j as t,a as se,H as te,L as ie}from"./app-BdiyVtwP.js";import{B as a}from"./badge-CjAOFmVA.js";import{a as ae,f as L,B as ne}from"./button-xAfePOcQ.js";import{b as T,c as q,C as K,a as U}from"./card-DXh8U64W.js";import{A as re}from"./app-layout-CSJ5C79X.js";import{A as le}from"./arrow-left-BBsIzLtK.js";import{C as ce}from"./circle-alert-BI4NWo8H.js";import{C as de}from"./clock-im0xFlgW.js";/* empty css            */import"./index-BhFFVPsB.js";import"./index-CqnVgCet.js";import"./index-q7GIQJN5.js";import"./shield-CtYr_qvg.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],S=ae("CircleCheckBig",me),oe=[{title:"Vehículos",href:"/vehicles/status"},{title:"Historial Checklists",href:"/vehicles/checklists"}];function Pe(i){const e=Z.c(99),{checklist:s,canReview:B}=i;ee();let d,m,o,x,n,r,l,h,c;if(e[0]!==B||e[1]!==s.captain||e[2]!==s.captain_reviewed_at||e[3]!==s.commander||e[4]!==s.commander_reviewed_at||e[5]!==s.created_at||e[6]!==s.details||e[7]!==s.general_observations||e[8]!==s.id||e[9]!==s.inspector||e[10]!==s.inspector_reviewed_at||e[11]!==s.machinist||e[12]!==s.machinist_reviewed_at||e[13]!==s.status||e[14]!==s.user.name||e[15]!==s.vehicle.company||e[16]!==s.vehicle.name||e[17]!==s.vehicle.plate){const J=s.details.reduce(fe,{});let M;e[27]!==s.id?(M=()=>{confirm("¿Está seguro de visar este checklist?")&&se.post(`/vehicles/checklists/${s.id}/review`)},e[27]=s.id,e[28]=M):M=e[28];const O=M,Q=he,W=xe;d=re,h=oe;const $=`Checklist #${s.id}`;e[29]!==$?(c=t.jsx(te,{title:$}),e[29]=$,e[30]=c):c=e[30],x="flex flex-1 flex-col gap-8 p-4",e[31]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsxs(ie,{href:"/vehicles/checklists",className:"flex w-fit items-center gap-2 text-sm text-muted-foreground hover:text-foreground",children:[t.jsx(le,{className:"size-4"}),"Volver a la lista"]}),e[31]=n):n=e[31];const F=s.status==="Completed"?"default":"secondary";let u;e[32]!==s.status||e[33]!==F?(u=t.jsx(a,{variant:F,children:s.status}),e[32]=s.status,e[33]=F,e[34]=u):u=e[34];let v;e[35]!==s.id||e[36]!==u?(v=t.jsxs("h1",{className:"flex items-center gap-2 text-2xl font-bold",children:["Checklist #",s.id,u]}),e[35]=s.id,e[36]=u,e[37]=v):v=e[37];let j;e[38]!==s.created_at?(j=L(s.created_at),e[38]=s.created_at,e[39]=j):j=e[39];let _;e[40]!==s.user.name||e[41]!==j?(_=t.jsxs("p",{className:"text-muted-foreground",children:[j," - Realizado por"," ",s.user.name]}),e[40]=s.user.name,e[41]=j,e[42]=_):_=e[42];let g;e[43]!==v||e[44]!==_?(g=t.jsxs("div",{children:[v,_]}),e[43]=v,e[44]=_,e[45]=g):g=e[45];let N;e[46]!==B||e[47]!==O?(N=B&&t.jsxs(ne,{onClick:O,size:"lg",className:"bg-green-600 hover:bg-green-700",children:[t.jsx(S,{className:"mr-2 size-4"}),"Visar Checklist"]}),e[46]=B,e[47]=O,e[48]=N):N=e[48],e[49]!==g||e[50]!==N?(r=t.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[g,N]}),e[49]=g,e[50]=N,e[51]=r):r=e[51];let E;e[52]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(K,{children:t.jsx(U,{children:"Datos del Vehículo"})}),e[52]=E):E=e[52];let H;e[53]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("span",{className:"font-medium text-muted-foreground",children:"Nombre:"}),e[53]=H):H=e[53];let b;e[54]!==s.vehicle.name?(b=t.jsxs("div",{className:"flex justify-between",children:[H,t.jsx("span",{children:s.vehicle.name})]}),e[54]=s.vehicle.name,e[55]=b):b=e[55];let V;e[56]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("span",{className:"font-medium text-muted-foreground",children:"Patente:"}),e[56]=V):V=e[56];let w;e[57]!==s.vehicle.plate?(w=t.jsxs("div",{className:"flex justify-between",children:[V,t.jsx("span",{children:s.vehicle.plate})]}),e[57]=s.vehicle.plate,e[58]=w):w=e[58];let D;e[59]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("span",{className:"font-medium text-muted-foreground",children:"Compañía:"}),e[59]=D):D=e[59];let y;e[60]!==s.vehicle.company?(y=t.jsxs("div",{className:"flex justify-between",children:[D,t.jsx("span",{children:s.vehicle.company})]}),e[60]=s.vehicle.company,e[61]=y):y=e[61];let C;e[62]!==b||e[63]!==w||e[64]!==y?(C=t.jsxs(T,{children:[E,t.jsxs(q,{className:"space-y-2",children:[b,w,y]})]}),e[62]=b,e[63]=w,e[64]=y,e[65]=C):C=e[65];let I;e[66]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(K,{children:t.jsx(U,{children:"Estado de Revisión"})}),e[66]=I):I=e[66];let k;e[67]!==s.captain||e[68]!==s.captain_reviewed_at||e[69]!==s.commander||e[70]!==s.commander_reviewed_at||e[71]!==s.inspector||e[72]!==s.inspector_reviewed_at||e[73]!==s.machinist||e[74]!==s.machinist_reviewed_at||e[75]!==s.vehicle.company?(k=s.vehicle.company==="Comandancia"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold",children:"Comandante"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:s.commander?s.commander.name:"Pendiente"})]}),s.commander_reviewed_at?t.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[t.jsx(S,{className:"size-4"}),L(s.commander_reviewed_at)]}):t.jsx(a,{variant:"outline",children:"Pendiente"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold",children:"Inspector M.M."}),t.jsx("p",{className:"text-xs text-muted-foreground",children:s.inspector?s.inspector.name:"Pendiente"})]}),s.inspector_reviewed_at?t.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[t.jsx(S,{className:"size-4"}),L(s.inspector_reviewed_at)]}):t.jsx(a,{variant:"outline",children:"Pendiente"})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold",children:"Capitán"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:s.captain?s.captain.name:"Pendiente"})]}),s.captain_reviewed_at?t.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[t.jsx(S,{className:"size-4"}),L(s.captain_reviewed_at)]}):t.jsx(a,{variant:"outline",children:"Pendiente"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold",children:"Maquinista"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:s.machinist?s.machinist.name:"Pendiente"})]}),s.machinist_reviewed_at?t.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[t.jsx(S,{className:"size-4"}),L(s.machinist_reviewed_at)]}):t.jsx(a,{variant:"outline",children:"Pendiente"})]})]}),e[67]=s.captain,e[68]=s.captain_reviewed_at,e[69]=s.commander,e[70]=s.commander_reviewed_at,e[71]=s.inspector,e[72]=s.inspector_reviewed_at,e[73]=s.machinist,e[74]=s.machinist_reviewed_at,e[75]=s.vehicle.company,e[76]=k):k=e[76];let z;e[77]!==s.general_observations?(z=s.general_observations&&t.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[t.jsx("h3",{className:"mb-2 font-medium",children:"Observaciones Generales"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:s.general_observations})]}),e[77]=s.general_observations,e[78]=z):z=e[78];let P;e[79]!==k||e[80]!==z?(P=t.jsxs(T,{children:[I,t.jsxs(q,{className:"space-y-4",children:[k,z]})]}),e[79]=k,e[80]=z,e[81]=P):P=e[81],e[82]!==C||e[83]!==P?(l=t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[C,P]}),e[82]=C,e[83]=P,e[84]=l):l=e[84],m="space-y-6",o=Object.entries(J).map(X=>{const[G,Y]=X;return t.jsxs(T,{children:[t.jsx("div",{className:"border-b bg-muted/50 px-6 py-4",children:t.jsx("h3",{className:"text-lg font-bold",children:G})}),t.jsx(q,{className:"p-0",children:t.jsx("div",{className:"divide-y",children:Y.map(A=>t.jsxs("div",{className:"flex flex-col justify-between gap-4 p-4 md:flex-row md:items-center",children:[t.jsx("div",{className:"flex-1 font-medium",children:A.item.name}),t.jsxs("div",{className:"flex min-w-[150px] items-center gap-3",children:[W(A.status),Q(A.status)]}),t.jsx("div",{className:"flex-1 text-sm text-muted-foreground italic",children:A.notes||"Sin observaciones"})]},A.id))})})]},G)}),e[0]=B,e[1]=s.captain,e[2]=s.captain_reviewed_at,e[3]=s.commander,e[4]=s.commander_reviewed_at,e[5]=s.created_at,e[6]=s.details,e[7]=s.general_observations,e[8]=s.id,e[9]=s.inspector,e[10]=s.inspector_reviewed_at,e[11]=s.machinist,e[12]=s.machinist_reviewed_at,e[13]=s.status,e[14]=s.user.name,e[15]=s.vehicle.company,e[16]=s.vehicle.name,e[17]=s.vehicle.plate,e[18]=d,e[19]=m,e[20]=o,e[21]=x,e[22]=n,e[23]=r,e[24]=l,e[25]=h,e[26]=c}else d=e[18],m=e[19],o=e[20],x=e[21],n=e[22],r=e[23],l=e[24],h=e[25],c=e[26];let f;e[85]!==m||e[86]!==o?(f=t.jsx("div",{className:m,children:o}),e[85]=m,e[86]=o,e[87]=f):f=e[87];let p;e[88]!==x||e[89]!==n||e[90]!==r||e[91]!==l||e[92]!==f?(p=t.jsxs("div",{className:x,children:[n,r,l,f]}),e[88]=x,e[89]=n,e[90]=r,e[91]=l,e[92]=f,e[93]=p):p=e[93];let R;return e[94]!==d||e[95]!==p||e[96]!==h||e[97]!==c?(R=t.jsxs(d,{breadcrumbs:h,children:[c,p]}),e[94]=d,e[95]=p,e[96]=h,e[97]=c,e[98]=R):R=e[98],R}function xe(i){switch(i){case"ok":return t.jsx(S,{className:"size-5 text-green-500"});case"next_maint":return t.jsx(de,{className:"size-5 text-yellow-500"});case"urgent":return t.jsx(ce,{className:"size-5 text-red-500"});default:return null}}function he(i){switch(i){case"ok":return t.jsx(a,{className:"bg-green-500",children:"OK"});case"next_maint":return t.jsx(a,{className:"bg-yellow-500",children:"Próx. Mant."});case"urgent":return t.jsx(a,{className:"bg-red-500",children:"Urgente"});default:return t.jsx(a,{variant:"outline",children:i})}}function fe(i,e){const s=e.item.category;return i[s]||(i[s]=[]),i[s].push(e),i}export{Pe as default};
