import{c as X,d as Y,j as s,L as V,H as Z}from"./app-wnKN9CVg.js";import{B as ee}from"./badge-yR2XmMdk.js";import{a as se,B as G}from"./button-CI6QHPU4.js";import{c as k,C as L,a as D,d as M}from"./card-DXvtFMD_.js";import{W as U,A as te}from"./app-layout-CabxjczX.js";import{C as ae}from"./circle-check-DSDPIbzk.js";import{C as le}from"./circle-alert-FHubKqlx.js";import{C as J}from"./calendar-BFrAJldo.js";import{A as re}from"./arrow-left-CyJELlxp.js";/* empty css            */import"./index-Bj31yZN9.js";import"./index-ug40lpza.js";import"./index-C4J_hXM0.js";import"./shield-qK57_5kL.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ce=se("DollarSign",ie);function we(B){const e=X.c(73),{vehicle:t,totalMaintenanceCost:P}=B,a=Y().props,l=t.issues?.[0],r=t.maintenances?.[0],K=ne;let E;e[0]===Symbol.for("react.memo_cache_sentinel")?(E={title:"Material Mayor",href:"/vehicles/status"},e[0]=E):E=e[0];const q=`/vehicles/status/${t.id}`;let i;e[1]!==q||e[2]!==t.name?(i=[E,{title:t.name,href:q}],e[1]=q,e[2]=t.name,e[3]=i):i=e[3];const z=`Detalle ${t.name}`;let c;e[4]!==z?(c=s.jsx(Z,{title:z}),e[4]=z,e[5]=c):c=e[5];let O;e[6]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(G,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(V,{href:"/vehicles/status",children:s.jsx(re,{className:"h-5 w-5"})})}),e[6]=O):O=e[6];const Q=t.name,F=K(t.status),R=t.status==="Operative"?"En Servicio":t.status==="Workshop"?"En Taller":"Fuera de Servicio";let n;e[7]!==F||e[8]!==R?(n=s.jsx(ee,{className:F,children:R}),e[7]=F,e[8]=R,e[9]=n):n=e[9];let o;e[10]!==n||e[11]!==t.name?(o=s.jsxs("h1",{className:"flex items-center gap-3 text-2xl font-bold",children:[Q,n]}),e[10]=n,e[11]=t.name,e[12]=o):o=e[12];let m;e[13]!==t.company||e[14]!==t.make||e[15]!==t.model?(m=s.jsxs("p",{className:"text-muted-foreground",children:[t.company," - ",t.make," ",t.model]}),e[13]=t.company,e[14]=t.make,e[15]=t.model,e[16]=m):m=e[16];let d;e[17]!==o||e[18]!==m?(d=s.jsxs("div",{className:"flex items-center gap-4",children:[O,s.jsxs("div",{children:[o,m]})]}),e[17]=o,e[18]=m,e[19]=d):d=e[19];let x;e[20]!==a.auth||e[21]!==t.id?(x=a.auth?.user&&(a.auth.user.role==="admin"||a.auth.user.role==="capitan")&&s.jsx(G,{asChild:!0,children:s.jsxs(V,{href:`/vehicles/${t.id}/edit`,children:[s.jsx(U,{className:"mr-2 h-4 w-4"}),"Editar Unidad"]})}),e[20]=a.auth,e[21]=t.id,e[22]=x):x=e[22];let h;e[23]!==d||e[24]!==x?(h=s.jsxs("div",{className:"flex items-center justify-between",children:[d,x]}),e[23]=d,e[24]=x,e[25]=h):h=e[25];let A;e[26]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(L,{children:s.jsx(D,{children:"Información del Vehículo"})}),e[26]=A):A=e[26];let T;e[27]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Patente"}),e[27]=T):T=e[27];let f;e[28]!==t.plate?(f=s.jsxs("div",{children:[T,s.jsx("p",{className:"text-lg font-semibold",children:t.plate})]}),e[28]=t.plate,e[29]=f):f=e[29];let H;e[30]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Año"}),e[30]=H):H=e[30];let u;e[31]!==t.year?(u=s.jsxs("div",{children:[H,s.jsx("p",{className:"text-lg font-semibold",children:t.year})]}),e[31]=t.year,e[32]=u):u=e[32];let I;e[33]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Marca"}),e[33]=I):I=e[33];let p;e[34]!==t.make?(p=s.jsxs("div",{children:[I,s.jsx("p",{className:"text-lg font-semibold",children:t.make})]}),e[34]=t.make,e[35]=p):p=e[35];let W;e[36]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Modelo"}),e[36]=W):W=e[36];let j;e[37]!==t.model?(j=s.jsxs("div",{children:[W,s.jsx("p",{className:"text-lg font-semibold",children:t.model})]}),e[37]=t.model,e[38]=j):j=e[38];let N;e[39]!==f||e[40]!==u||e[41]!==p||e[42]!==j?(N=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f,u,p,j]}),e[39]=f,e[40]=u,e[41]=p,e[42]=j,e[43]=N):N=e[43];let g;e[44]!==a.auth||e[45]!==P?(g=a.auth?.user&&(a.auth.user.company==="Comandancia"||a.auth.user.role==="admin")&&s.jsxs("div",{className:"mt-4 rounded-md bg-blue-50 p-4",children:[s.jsxs("div",{className:"mb-1 flex items-center gap-2 text-blue-800",children:[s.jsx(ce,{className:"h-5 w-5"}),s.jsx("span",{className:"font-bold",children:"Inversión Total en Mantenimiento"})]}),s.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["$",(P||0).toLocaleString("es-CL")]}),s.jsx("p",{className:"mt-1 text-xs text-blue-700",children:"Suma histórica de todas los trabajos realizados."})]}),e[44]=a.auth,e[45]=P,e[46]=g):g=e[46];let b;e[47]!==N||e[48]!==g?(b=s.jsxs(k,{className:"md:col-span-2",children:[A,s.jsxs(M,{className:"space-y-4",children:[N,g]})]}),e[47]=N,e[48]=g,e[49]=b):b=e[49];let y;e[50]!==t.status?(y=t.status==="Operative"&&s.jsxs(k,{className:"border-green-200 bg-green-50",children:[s.jsx(L,{className:"pb-2",children:s.jsxs(D,{className:"flex items-center gap-2 text-green-800",children:[s.jsx(ae,{className:"h-5 w-5"}),"Unidad Operativa"]})}),s.jsx(M,{children:s.jsx("p",{className:"text-sm text-green-700",children:"La unidad se encuentra operativa y disponible para el servicio."})})]}),e[50]=t.status,e[51]=y):y=e[51];let v;e[52]!==l||e[53]!==t.status?(v=t.status==="Out of Service"&&l&&s.jsxs(k,{className:"border-red-200 bg-red-50",children:[s.jsx(L,{className:"pb-2",children:s.jsxs(D,{className:"flex items-center gap-2 text-red-800",children:[s.jsx(le,{className:"h-5 w-5"}),"Fuera de Servicio"]})}),s.jsxs(M,{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-red-900",children:"Motivo:"}),s.jsx("p",{className:"text-sm text-red-800",children:l.description}),s.jsxs("div",{className:"mt-2 flex gap-2 text-xs text-red-700",children:[s.jsx(J,{className:"h-3 w-3"})," ",l.date?new Date(l.date).toLocaleDateString():new Date(l.created_at).toLocaleDateString()]})]})]}),e[52]=l,e[53]=t.status,e[54]=v):v=e[54];let w;e[55]!==l||e[56]!==r||e[57]!==t.status?(w=(t.status==="Workshop"||t.status==="Out of Service"&&!l&&r)&&(r?s.jsxs(k,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx(L,{className:"pb-2",children:s.jsxs(D,{className:"flex items-center gap-2 text-yellow-800",children:[s.jsx(U,{className:"h-5 w-5"}),"En Taller"]})}),s.jsxs(M,{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium text-yellow-900",children:["Taller:"," ",r.workshop_name]}),s.jsx("p",{className:"text-sm text-yellow-800",children:r.description}),s.jsxs("div",{className:"mt-2 flex gap-2 text-xs text-yellow-700",children:[s.jsx(J,{className:"h-3 w-3"})," ","Ingreso:"," ",new Date(r.entry_date).toLocaleDateString()]})]})]}):s.jsxs(k,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx(L,{className:"pb-2",children:s.jsxs(D,{className:"flex items-center gap-2 text-yellow-800",children:[s.jsx(U,{className:"h-5 w-5"}),"En Taller"]})}),s.jsx(M,{children:s.jsx("p",{className:"text-sm text-yellow-800",children:"No hay información de orden de trabajo activa."})})]})),e[55]=l,e[56]=r,e[57]=t.status,e[58]=w):w=e[58];let S;e[59]!==y||e[60]!==v||e[61]!==w?(S=s.jsxs("div",{className:"space-y-6",children:[y,v,w]}),e[59]=y,e[60]=v,e[61]=w,e[62]=S):S=e[62];let _;e[63]!==b||e[64]!==S?(_=s.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[b,S]}),e[63]=b,e[64]=S,e[65]=_):_=e[65];let C;e[66]!==h||e[67]!==_?(C=s.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-6 p-4",children:[h,_]}),e[66]=h,e[67]=_,e[68]=C):C=e[68];let $;return e[69]!==i||e[70]!==C||e[71]!==c?($=s.jsxs(te,{breadcrumbs:i,children:[c,C]}),e[69]=i,e[70]=C,e[71]=c,e[72]=$):$=e[72],$}function ne(B){switch(B){case"Operative":return"bg-green-100 text-green-800";case"Workshop":return"bg-yellow-100 text-yellow-800";case"Out of Service":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}export{we as default};
