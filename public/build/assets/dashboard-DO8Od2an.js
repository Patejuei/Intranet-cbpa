import{c as F,r as I,j as e,H as V,L as x}from"./app-CPM0qqBN.js";import{B as H,M as P,A as U}from"./app-layout-BRytu26V.js";import{c as J}from"./button-CqEo9HDw.js";/* empty css            */import"./index-BlbzEdsQ.js";import"./index-CWMEVgmi.js";import"./index-C4J_hXM0.js";import"./shield-DKSAdIwv.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],W=J("Clock",K),Y=[{title:"Panel Principal",href:"/dashboard"}],G="recent_modules";function ue(t){const s=F.c(38),{upcomingBatteries:p,pendingTickets:a,respondedTickets:h,vehiclesStopped:u,pendingIncidents:f}=t;let g;s[0]!==p?(g=p===void 0?[]:p,s[0]=p,s[1]=g):g=s[1];const j=g;let b;s[2]!==a?(b=a===void 0?[]:a,s[2]=a,s[3]=b):b=s[3];const N=b;let v;s[4]!==h?(v=h===void 0?[]:h,s[4]=h,s[5]=v):v=s[5];const y=v;let _;s[6]!==u?(_=u===void 0?[]:u,s[6]=u,s[7]=_):_=s[7];const w=_;let S;s[8]!==f?(S=f===void 0?[]:f,s[8]=f,s[9]=S):S=s[9];const k=S;let E;s[10]===Symbol.for("react.memo_cache_sentinel")?(E=[],s[10]=E):E=s[10];const[D,$]=I.useState(E);let T,M;s[11]===Symbol.for("react.memo_cache_sentinel")?(T=()=>{try{const r=localStorage.getItem(G);if(r){const A=JSON.parse(r).map(de).filter(le);$(A)}}catch(r){console.error("Error loading recent modules",r)}},M=[],s[11]=T,s[12]=M):(T=s[11],M=s[12]),I.useEffect(T,M);const O=ae;let z;s[13]===Symbol.for("react.memo_cache_sentinel")?(z=e.jsx(V,{title:"Material Menor - CBPA"}),s[13]=z):z=s[13];let l;s[14]!==N?(l=N.length>0&&e.jsxs("div",{className:"rounded-xl border border-l-4 border-l-yellow-500 bg-card p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx("span",{className:"flex size-3 rounded-full bg-yellow-500"}),"Tickets Pendientes"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Solicitudes que requieren atención."})]}),e.jsx("div",{className:"space-y-3",children:N.map(re)})]}),s[14]=N,s[15]=l):l=s[15];let d;s[16]!==y?(d=y.length>0&&e.jsxs("div",{className:"rounded-xl border border-l-4 border-l-blue-500 bg-card p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx("span",{className:"flex size-3 rounded-full bg-blue-500"}),"Tickets en Proceso"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Solicitudes con respuesta de Comandancia."})]}),e.jsx("div",{className:"space-y-3",children:y.map(te)})]}),s[16]=y,s[17]=d):d=s[17];let n;s[18]!==w?(n=w.length>0&&e.jsxs("div",{className:"rounded-xl border border-l-4 border-l-red-500 bg-card p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx("span",{className:"flex size-3 rounded-full bg-red-500"}),"Material Fuera de Servicio"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Vehículos detenidos o en taller."})]}),e.jsx("div",{className:"space-y-3",children:w.map(se)})]}),s[18]=w,s[19]=n):n=s[19];let i;s[20]!==k?(i=k.length>0&&e.jsxs("div",{className:"rounded-xl border border-l-4 border-l-orange-500 bg-card p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx("span",{className:"flex size-3 rounded-full bg-orange-500"}),"Incidencias Pendientes"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Novedades reportadas sin resolver."})]}),e.jsx("div",{className:"space-y-3",children:k.map(ee)})]}),s[20]=k,s[21]=i):i=s[21];let c;s[22]!==n||s[23]!==i?(c=e.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[n,i]}),s[22]=n,s[23]=i,s[24]=c):c=s[24];let o;s[25]!==j?(o=j.length>0&&e.jsxs("div",{className:"rounded-xl border bg-card p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-3 text-primary",children:e.jsx(H,{className:"size-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Próximos Cambios de Baterías"}),e.jsx("p",{className:"text-muted-foreground",children:"Equipos que requieren atención pronto"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b text-left font-medium text-muted-foreground",children:[e.jsx("th",{className:"pb-2",children:"Fecha"}),e.jsx("th",{className:"pb-2",children:"Días"}),e.jsx("th",{className:"pb-2",children:"Equipo"}),e.jsx("th",{className:"pb-2",children:"Responsable"}),e.jsx("th",{className:"pb-2",children:"Compañía"})]})}),e.jsx("tbody",{className:"divide-y",children:j.map(r=>{const C=O(r.next_change_date);return e.jsxs("tr",{children:[e.jsx("td",{className:"py-3",children:new Date(r.next_change_date).toLocaleDateString()}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:`rounded px-2 py-1 font-bold ${C<=3?"bg-destructive/20 text-destructive":"bg-muted text-muted-foreground"}`,children:[C," días"]})}),e.jsx("td",{className:"py-3",children:r.equipment_type}),e.jsx("td",{className:"py-3",children:r.responsible_name}),e.jsx("td",{className:"py-3",children:r.company})]},r.id)})})]})})]}),s[25]=j,s[26]=o):o=s[26];let m;s[27]!==D?(m=D.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(W,{className:"size-4"}),e.jsx("h2",{className:"text-sm font-medium tracking-wider uppercase",children:"Visitados Recientemente"})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:D.map(Z)})]}),s[27]=D,s[28]=m):m=s[28];let L;s[29]===Symbol.for("react.memo_cache_sentinel")?(L=e.jsx("h2",{className:"text-sm font-medium tracking-wider text-muted-foreground uppercase",children:"Todos los Módulos"}),s[29]=L):L=s[29];let R;s[30]===Symbol.for("react.memo_cache_sentinel")?(R=e.jsxs("div",{className:"space-y-4",children:[L,e.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:P.filter(X).map(Q)})]}),s[30]=R):R=s[30];let q;s[31]===Symbol.for("react.memo_cache_sentinel")?(q=e.jsxs("div",{className:"rounded-xl border bg-muted/40 p-6",children:[e.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Bienvenido al Sistema de Material Menor"}),e.jsx("p",{className:"text-muted-foreground",children:"Seleccione una opción de arriba para comenzar sus operaciones."})]}),s[31]=q):q=s[31];let B;return s[32]!==l||s[33]!==d||s[34]!==c||s[35]!==o||s[36]!==m?(B=e.jsxs(U,{breadcrumbs:Y,children:[z,e.jsxs("div",{className:"flex flex-1 flex-col gap-8 p-4",children:[l,d,c,o,m,R,q]})]}),s[32]=l,s[33]=d,s[34]=c,s[35]=o,s[36]=m,s[37]=B):B=s[37],B}function Q(t){const s=t.icon;return e.jsx(x,{href:t.href,className:"group relative overflow-hidden rounded-xl border bg-card p-6 shadow-sm transition-all hover:border-primary hover:shadow-md",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-3 text-primary transition-colors group-hover:bg-primary group-hover:text-primary-foreground",children:e.jsx(s,{className:"size-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]})]})},t.key)}function X(t){return!t.key.startsWith("admin-")}function Z(t){const s=t.icon;return e.jsxs(x,{href:t.href,className:"group relative flex items-center gap-3 overflow-hidden rounded-lg border bg-card p-4 shadow-sm transition-all hover:border-primary hover:shadow-md",children:[e.jsx("div",{className:"rounded-md bg-primary/10 p-2 text-primary transition-colors group-hover:bg-primary group-hover:text-primary-foreground",children:e.jsx(s,{className:"size-5"})}),e.jsx("div",{children:e.jsx("h3",{className:"leading-none font-medium",children:t.title})})]},t.key)}function ee(t){return e.jsx(x,{href:"/vehicles/incidents",className:"block",children:e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 transition-colors hover:bg-muted/50",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"line-clamp-1 font-medium",children:[t.vehicle.name," -"," ",t.description]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Reportado:"," ",new Date(t.created_at).toLocaleDateString()]})]}),e.jsx("div",{className:"rounded bg-orange-100 px-2 py-1 text-xs text-orange-700",children:t.severity})]})},t.id)}function se(t){return e.jsx(x,{href:`/vehicles/status/${t.id}`,className:"block",children:e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 transition-colors hover:bg-muted/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.company})]}),e.jsx("div",{className:`rounded px-2 py-1 text-xs font-medium ${t.status==="Out of Service"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:t.status==="Out of Service"?"Fuera de Servicio":"En Taller"})]})},t.id)}function te(t){return e.jsx(x,{href:`/tickets/${t.id}`,className:"block",children:e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 transition-colors hover:bg-muted/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.subject}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estado: ",t.status]})]}),e.jsx("div",{className:"rounded bg-blue-100 px-2 py-1 text-xs text-blue-700",children:"Ver Respuesta"})]})},t.id)}function re(t){return e.jsx(x,{href:`/tickets/${t.id}`,className:"block",children:e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 transition-colors hover:bg-muted/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.subject}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.user.company," -"," ",t.user.name]})]}),e.jsx("div",{className:"font-mono text-xs text-muted-foreground",children:new Date(t.created_at).toLocaleDateString()})]})},t.id)}function ae(t){const s=new Date,a=new Date(t).getTime()-s.getTime();return Math.ceil(a/864e5)}function le(t){return!!t}function de(t){return P.find(s=>s.key===t)}export{ue as default};
