import{c as we,r as ue,u as Ie,j as l,a as ke,H as Ae}from"./app-HCn7GW-H.js";import{P as Ge}from"./Pagination-DTK6iCPd.js";import{B as Te}from"./button-Fsm2Ckjd.js";import{D as Oe,a as Ue,b as ze,c as He,d as Le}from"./dialog-C32emGSd.js";import{I as L}from"./input-CAfP4kHB.js";import{L as $}from"./label-BKqtdB9a.js";import{S as $e,a as qe,b as Qe,c as Ve,d as i}from"./select-jpYO0Y-k.js";import{A as Je}from"./app-layout-CScgN7Wl.js";import{P as Ke}from"./pencil-BtRJaPfP.js";import{T as Me}from"./trash-DhGyOlgc.js";import{U as We}from"./user-plus-CRarkvr8.js";import{S as Xe}from"./search-zripIQD7.js";/* empty css            */import"./index-DpPexbFW.js";import"./index-DSd-9y70.js";import"./index-y7gJODmz.js";import"./chevron-down-B4ql7f5e.js";import"./check-C4ReZzXj.js";import"./index-q7GIQJN5.js";import"./shield-Dya8Sb46.js";function bl(pe){const e=we.c(118),{firefighters:m,filters:Be}=pe,[xe,Pe]=ue.useState(Be.search||""),[H,De]=ue.useState(!1),[fe,n]=ue.useState(!1);let q;e[0]===Symbol.for("react.memo_cache_sentinel")?(q={id:0,general_registry_number:"",full_name:"",rut:"",company:"",email:""},e[0]=q):q=e[0];const{data:s,setData:r,post:he,put:je,processing:ge,errors:a,reset:be}=Ie(q);let Q;e[1]!==be?(Q=()=>{be(),De(!1),n(!0)},e[1]=be,e[2]=Q):Q=e[2];const _e=Q;let V;e[3]!==r?(V=t=>{r({id:t.id,general_registry_number:t.general_registry_number||"",full_name:t.full_name,rut:t.rut,company:t.company,email:t.email||""}),De(!0),n(!0)},e[3]=r,e[4]=V):V=e[4];const ye=V;let J;e[5]!==s.id||e[6]!==H||e[7]!==he||e[8]!==je?(J=t=>{t.preventDefault(),H?je(`/admin/firefighters/${s.id}`,{onSuccess:()=>n(!1)}):he("/admin/firefighters",{onSuccess:()=>n(!1)})},e[5]=s.id,e[6]=H,e[7]=he,e[8]=je,e[9]=J):J=e[9];const Ne=J,Re=Ye,[K,Fe]=ue.useState();let M;e[10]!==K?(M=t=>{const Ee=t.target.value;Pe(Ee),K&&clearTimeout(K),Fe(setTimeout(()=>{ke.get("/admin/firefighters",{search:Ee},{preserveState:!0,preserveScroll:!0,replace:!0})},300))},e[10]=K,e[11]=M):M=e[11];const ve=M;let W,X;e[12]===Symbol.for("react.memo_cache_sentinel")?(W=[{title:"Panel Principal",href:"/dashboard"},{title:"Administración",href:"/admin/firefighters"}],X=l.jsx(Ae,{title:"Gestión de Bomberos"}),e[12]=W,e[13]=X):(W=e[12],X=e[13]);let Y;e[14]===Symbol.for("react.memo_cache_sentinel")?(Y=l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestión de Bomberos"}),l.jsx("p",{className:"text-muted-foreground",children:"Administra el personal de bomberos."})]}),e[14]=Y):Y=e[14];let Z;e[15]===Symbol.for("react.memo_cache_sentinel")?(Z=l.jsx(We,{className:"size-4"}),e[15]=Z):Z=e[15];let o;e[16]!==_e?(o=l.jsxs("div",{className:"flex items-center justify-between",children:[Y,l.jsxs(Te,{onClick:_e,className:"gap-2",children:[Z,"Nuevo Bombero"]})]}),e[16]=_e,e[17]=o):o=e[17];let ee;e[18]===Symbol.for("react.memo_cache_sentinel")?(ee=l.jsx(Xe,{className:"size-4 text-muted-foreground"}),e[18]=ee):ee=e[18];let c;e[19]!==ve||e[20]!==xe?(c=l.jsxs("div",{className:"flex max-w-sm items-center gap-2",children:[ee,l.jsx(L,{placeholder:"Buscar por nombre, RUT o N° Reg...",value:xe,onChange:ve,className:"h-9"})]}),e[19]=ve,e[20]=xe,e[21]=c):c=e[21];let le;e[22]===Symbol.for("react.memo_cache_sentinel")?(le=l.jsx("thead",{className:"bg-muted/50 text-muted-foreground",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 font-medium",children:"N° Reg. General"}),l.jsx("th",{className:"px-4 py-3 font-medium",children:"Nombre Completo"}),l.jsx("th",{className:"px-4 py-3 font-medium",children:"RUT"}),l.jsx("th",{className:"px-4 py-3 font-medium",children:"Compañía"}),l.jsx("th",{className:"px-4 py-3 font-medium",children:"Email"}),l.jsx("th",{className:"px-4 py-3 font-medium",children:"Acciones"})]})}),e[22]=le):le=e[22];let d;e[23]!==m.data||e[24]!==ye?(d=m.data.length>0?m.data.map(t=>l.jsxs("tr",{className:"hover:bg-muted/30",children:[l.jsx("td",{className:"px-4 py-3",children:t.general_registry_number||"-"}),l.jsx("td",{className:"px-4 py-3 font-medium",children:t.full_name}),l.jsx("td",{className:"px-4 py-3",children:t.rut}),l.jsx("td",{className:"px-4 py-3",children:t.company}),l.jsx("td",{className:"px-4 py-3",children:t.email||"-"}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>ye(t),className:"rounded p-1 text-blue-600 hover:bg-blue-100",children:l.jsx(Ke,{className:"size-4"})}),l.jsx("button",{onClick:()=>Re(t.id),className:"rounded p-1 text-red-600 hover:bg-red-100",children:l.jsx(Me,{className:"size-4"})})]})})]},t.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-muted-foreground",children:"No se encontraron bomberos en esta página."})}),e[23]=m.data,e[24]=ye,e[25]=d):d=e[25];let u;e[26]!==d?(u=l.jsx("div",{className:"rounded-xl border bg-card shadow-sm",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[le,l.jsx("tbody",{className:"divide-y",children:d})]})})}),e[26]=d,e[27]=u):u=e[27];let p;e[28]!==m.links?(p=l.jsx(Ge,{links:m.links}),e[28]=m.links,e[29]=p):p=e[29];let x;e[30]!==o||e[31]!==c||e[32]!==u||e[33]!==p?(x=l.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[o,c,u,p]}),e[30]=o,e[31]=c,e[32]=u,e[33]=p,e[34]=x):x=e[34];const Ce=H?"Editar Bombero":"Nuevo Bombero";let f;e[35]!==Ce?(f=l.jsx(Oe,{children:Ce}),e[35]=Ce,e[36]=f):f=e[36];let te;e[37]===Symbol.for("react.memo_cache_sentinel")?(te=l.jsx(Ue,{children:"Complete los datos del bombero."}),e[37]=te):te=e[37];let h;e[38]!==f?(h=l.jsxs(ze,{children:[f,te]}),e[38]=f,e[39]=h):h=e[39];let ae;e[40]===Symbol.for("react.memo_cache_sentinel")?(ae=l.jsx($,{htmlFor:"company",children:"Compañía"}),e[40]=ae):ae=e[40];let j;e[41]!==r?(j=t=>r("company",t),e[41]=r,e[42]=j):j=e[42];let se;e[43]===Symbol.for("react.memo_cache_sentinel")?(se=l.jsx(qe,{className:"w-full",children:l.jsx(Qe,{placeholder:"Seleccione Compañía"})}),e[43]=se):se=e[43];let re;e[44]===Symbol.for("react.memo_cache_sentinel")?(re=l.jsxs(Ve,{children:[l.jsx(i,{value:"Primera Compañía",children:"Primera Compañía"}),l.jsx(i,{value:"Segunda Compañía",children:"Segunda Compañía"}),l.jsx(i,{value:"Tercera Compañía",children:"Tercera Compañía"}),l.jsx(i,{value:"Cuarta Compañía",children:"Cuarta Compañía"}),l.jsx(i,{value:"Quinta Compañía",children:"Quinta Compañía"}),l.jsx(i,{value:"Séptima Compañía",children:"Séptima Compañía"}),l.jsx(i,{value:"Octava Compañía",children:"Octava Compañía"}),l.jsx(i,{value:"Novena Compañía",children:"Novena Compañía"}),l.jsx(i,{value:"Décima Compañía",children:"Décima Compañía"}),l.jsx(i,{value:"Comandancia",children:"Comandancia"})]}),e[44]=re):re=e[44];let g;e[45]!==s.company||e[46]!==j?(g=l.jsxs($e,{value:s.company,onValueChange:j,children:[se,re]}),e[45]=s.company,e[46]=j,e[47]=g):g=e[47];let b;e[48]!==a.company?(b=a.company&&l.jsx("p",{className:"text-sm text-red-500",children:a.company}),e[48]=a.company,e[49]=b):b=e[49];let _;e[50]!==g||e[51]!==b?(_=l.jsxs("div",{className:"grid gap-2",children:[ae,g,b]}),e[50]=g,e[51]=b,e[52]=_):_=e[52];let ie;e[53]===Symbol.for("react.memo_cache_sentinel")?(ie=l.jsx($,{htmlFor:"full_name",children:"Nombre Completo"}),e[53]=ie):ie=e[53];let y;e[54]!==r?(y=t=>r("full_name",t.target.value),e[54]=r,e[55]=y):y=e[55];let N;e[56]!==s.full_name||e[57]!==y?(N=l.jsx(L,{id:"full_name",value:s.full_name,onChange:y,required:!0}),e[56]=s.full_name,e[57]=y,e[58]=N):N=e[58];let v;e[59]!==a.full_name?(v=a.full_name&&l.jsx("p",{className:"text-sm text-red-500",children:a.full_name}),e[59]=a.full_name,e[60]=v):v=e[60];let C;e[61]!==N||e[62]!==v?(C=l.jsxs("div",{className:"grid gap-2",children:[ie,N,v]}),e[61]=N,e[62]=v,e[63]=C):C=e[63];let me;e[64]===Symbol.for("react.memo_cache_sentinel")?(me=l.jsx($,{htmlFor:"rut",children:"RUT"}),e[64]=me):me=e[64];let S;e[65]!==r?(S=t=>r("rut",t.target.value),e[65]=r,e[66]=S):S=e[66];let T;e[67]!==s.rut||e[68]!==S?(T=l.jsx(L,{id:"rut",value:s.rut,onChange:S,placeholder:"12.345.678-9",required:!0}),e[67]=s.rut,e[68]=S,e[69]=T):T=e[69];let D;e[70]!==a.rut?(D=a.rut&&l.jsx("p",{className:"text-sm text-red-500",children:a.rut}),e[70]=a.rut,e[71]=D):D=e[71];let E;e[72]!==T||e[73]!==D?(E=l.jsxs("div",{className:"grid gap-2",children:[me,T,D]}),e[72]=T,e[73]=D,e[74]=E):E=e[74];let ne;e[75]===Symbol.for("react.memo_cache_sentinel")?(ne=l.jsx($,{htmlFor:"general_registry_number",children:"N° Registro General"}),e[75]=ne):ne=e[75];let k;e[76]!==r?(k=t=>r("general_registry_number",t.target.value),e[76]=r,e[77]=k):k=e[77];let B;e[78]!==s.general_registry_number||e[79]!==k?(B=l.jsx(L,{id:"general_registry_number",value:s.general_registry_number,onChange:k}),e[78]=s.general_registry_number,e[79]=k,e[80]=B):B=e[80];let P;e[81]!==a.general_registry_number?(P=a.general_registry_number&&l.jsx("p",{className:"text-sm text-red-500",children:a.general_registry_number}),e[81]=a.general_registry_number,e[82]=P):P=e[82];let R;e[83]!==B||e[84]!==P?(R=l.jsxs("div",{className:"grid gap-2",children:[ne,B,P]}),e[83]=B,e[84]=P,e[85]=R):R=e[85];let oe;e[86]===Symbol.for("react.memo_cache_sentinel")?(oe=l.jsx($,{htmlFor:"email",children:"Correo Electrónico"}),e[86]=oe):oe=e[86];let F;e[87]!==r?(F=t=>r("email",t.target.value),e[87]=r,e[88]=F):F=e[88];let w;e[89]!==s.email||e[90]!==F?(w=l.jsx(L,{id:"email",type:"email",value:s.email,onChange:F,placeholder:"bombero@ejemplo.com"}),e[89]=s.email,e[90]=F,e[91]=w):w=e[91];let I;e[92]!==a.email?(I=a.email&&l.jsx("p",{className:"text-sm text-red-500",children:a.email}),e[92]=a.email,e[93]=I):I=e[93];let A;e[94]!==w||e[95]!==I?(A=l.jsxs("div",{className:"grid gap-2",children:[oe,w,I]}),e[94]=w,e[95]=I,e[96]=A):A=e[96];let ce;e[97]===Symbol.for("react.memo_cache_sentinel")?(ce=l.jsx(Te,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),e[97]=ce):ce=e[97];const Se=H?"Guardar Cambios":"Crear Bombero";let G;e[98]!==ge||e[99]!==Se?(G=l.jsxs("div",{className:"flex justify-end gap-2",children:[ce,l.jsx(Te,{type:"submit",disabled:ge,children:Se})]}),e[98]=ge,e[99]=Se,e[100]=G):G=e[100];let O;e[101]!==Ne||e[102]!==_||e[103]!==C||e[104]!==E||e[105]!==R||e[106]!==A||e[107]!==G?(O=l.jsxs("form",{onSubmit:Ne,className:"grid gap-4 py-4",children:[_,C,E,R,A,G]}),e[101]=Ne,e[102]=_,e[103]=C,e[104]=E,e[105]=R,e[106]=A,e[107]=G,e[108]=O):O=e[108];let U;e[109]!==h||e[110]!==O?(U=l.jsxs(He,{children:[h,O]}),e[109]=h,e[110]=O,e[111]=U):U=e[111];let z;e[112]!==fe||e[113]!==U?(z=l.jsx(Le,{open:fe,onOpenChange:n,children:U}),e[112]=fe,e[113]=U,e[114]=z):z=e[114];let de;return e[115]!==x||e[116]!==z?(de=l.jsxs(Je,{breadcrumbs:W,children:[X,x,z]}),e[115]=x,e[116]=z,e[117]=de):de=e[117],de}function Ye(pe){confirm("¿Estás seguro de eliminar este bombero?")&&ke.delete(`/admin/firefighters/${pe}`)}export{bl as default};
