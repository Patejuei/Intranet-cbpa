import{c as he,u as fe,j as s,H as pe,a as ne}from"./app-Bf-ojoLk.js";import{B as ue}from"./badge-ekAfoPog.js";import{B as ce}from"./button-RDZROtyk.js";import{b as Z,C as ee,a as se,d as ae,c as te}from"./card-CQFZ7jRY.js";import{I as le}from"./input-C9ya--bm.js";import{L as re}from"./label-BK_x2Y1w.js";import{S as xe,a as je,b as ve,c as Ce,d as r}from"./select-DEzfdNsP.js";import{S as ge}from"./separator-CMsFX3WY.js";import{A as _e}from"./app-layout-By4TFRiQ.js";import{T as ye}from"./trash-2-ipCwPejl.js";import{P as be}from"./plus-BxdGAKJf.js";/* empty css            */import"./index-B2C5_TXF.js";import"./index-BSE0trOz.js";import"./index-BxnHZsPN.js";import"./chevron-down-BXsECYdc.js";import"./check-C34i1KtU.js";import"./index-q7GIQJN5.js";import"./shield-AbyImIQU.js";function Ge(i){const e=he.c(83),{items:J,canConfigureAll:K,currentCompany:a,companies:L}=i;let P;e[0]!==a?(P={short_name:"",full_name:"",category:"",company:a},e[0]=a,e[1]=P):P=e[1];const{data:c,setData:t,post:U,processing:W,errors:l,reset:X}=fe(P);let H;e[2]!==a||e[3]!==U||e[4]!==X||e[5]!==t?(H=n=>{n.preventDefault(),U("/vehicles/checklist-items",{onSuccess:()=>{X(),t("company",a)}})},e[2]=a,e[3]=U,e[4]=X,e[5]=t,e[6]=H):H=e[6];const Y=H,oe=ke,me=Se;let I,M;e[7]===Symbol.for("react.memo_cache_sentinel")?(I=[{title:"Material Mayor",href:"/vehicles/dashboard"},{title:"Configurar Checklist",href:"/vehicles/checklist-items"}],M=s.jsx(pe,{title:"Configurar Checklist"}),e[7]=I,e[8]=M):(I=e[7],M=e[8]);let O;e[9]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Configuración de Checklist"}),s.jsx("p",{className:"text-muted-foreground",children:"Administre los ítems que aparecen en los checklists."})]})}),e[9]=O):O=e[9];let o;e[10]!==K||e[11]!==L||e[12]!==a?(o=K&&s.jsxs(Z,{children:[s.jsxs(ee,{children:[s.jsx(se,{children:"Seleccionar Compañía"}),s.jsxs(ae,{children:["Está configurando los ítems para:"," ",s.jsx("span",{className:"font-bold",children:a})]})]}),s.jsx(te,{children:s.jsxs(xe,{value:a,onValueChange:me,children:[s.jsx(je,{className:"w-[280px]",children:s.jsx(ve,{placeholder:"Seleccione una compañía"})}),s.jsxs(Ce,{children:[s.jsx(r,{value:"Comandancia",children:"Comandancia"}),L&&L.length>0?L.map(Ne):s.jsxs(s.Fragment,{children:[s.jsx(r,{value:"Primera Compañía",children:"Primera Compañía"}),s.jsx(r,{value:"Segunda Compañía",children:"Segunda Compañía"}),s.jsx(r,{value:"Tercera Compañía",children:"Tercera Compañía"}),s.jsx(r,{value:"Cuarta Compañía",children:"Cuarta Compañía"}),s.jsx(r,{value:"Quinta Compañía",children:"Quinta Compañía"}),s.jsx(r,{value:"Sexta Compañía",children:"Sexta Compañía"}),s.jsx(r,{value:"Septima Compañía",children:"Septima Compañía"}),s.jsx(r,{value:"Octava Compañía",children:"Octava Compañía"}),s.jsx(r,{value:"Novena Compañía",children:"Novena Compañía"})]})]})]})})]}),e[10]=K,e[11]=L,e[12]=a,e[13]=o):o=e[13];let m;e[14]!==a?(m=s.jsxs(se,{children:["Nuevo Ítem para ",a]}),e[14]=a,e[15]=m):m=e[15];let V;e[16]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(ae,{children:"Agregue un nuevo punto de revisión."}),e[16]=V):V=e[16];let d;e[17]!==m?(d=s.jsxs(ee,{children:[m,V]}),e[17]=m,e[18]=d):d=e[18];let h;e[19]!==a?(h=s.jsx("input",{type:"hidden",value:a}),e[19]=a,e[20]=h):h=e[20];let Q;e[21]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(re,{htmlFor:"category",children:"Categoría"}),e[21]=Q):Q=e[21];let f;e[22]!==t?(f=n=>t("category",n.target.value),e[22]=t,e[23]=f):f=e[23];let p;e[24]!==c.category||e[25]!==f?(p=s.jsx(le,{id:"category",placeholder:"Ej: Motor, Cabina, Luces...",value:c.category,onChange:f}),e[24]=c.category,e[25]=f,e[26]=p):p=e[26];let u;e[27]!==l.category?(u=l.category&&s.jsx("p",{className:"text-sm text-destructive",children:l.category}),e[27]=l.category,e[28]=u):u=e[28];let x;e[29]!==p||e[30]!==u?(x=s.jsxs("div",{className:"space-y-2",children:[Q,p,u]}),e[29]=p,e[30]=u,e[31]=x):x=e[31];let R;e[32]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(re,{htmlFor:"short_name",children:"Nombre Corto"}),e[32]=R):R=e[32];let j;e[33]!==t?(j=n=>t("short_name",n.target.value),e[33]=t,e[34]=j):j=e[34];let v;e[35]!==c.short_name||e[36]!==j?(v=s.jsx(le,{id:"short_name",placeholder:"Ej: Nivel de Aceite",value:c.short_name,onChange:j}),e[35]=c.short_name,e[36]=j,e[37]=v):v=e[37];let C;e[38]!==l.short_name?(C=l.short_name&&s.jsx("p",{className:"text-sm text-destructive",children:l.short_name}),e[38]=l.short_name,e[39]=C):C=e[39];let g;e[40]!==v||e[41]!==C?(g=s.jsxs("div",{className:"space-y-2",children:[R,v,C]}),e[40]=v,e[41]=C,e[42]=g):g=e[42];let $;e[43]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(re,{htmlFor:"full_name",children:"Descripción Completa"}),e[43]=$):$=e[43];let _;e[44]!==t?(_=n=>t("full_name",n.target.value),e[44]=t,e[45]=_):_=e[45];let y;e[46]!==c.full_name||e[47]!==_?(y=s.jsx(le,{id:"full_name",placeholder:"Ej: Verificar nivel de aceite de motor y estado...",value:c.full_name,onChange:_}),e[46]=c.full_name,e[47]=_,e[48]=y):y=e[48];let b;e[49]!==l.full_name?(b=l.full_name&&s.jsx("p",{className:"text-sm text-destructive",children:l.full_name}),e[49]=l.full_name,e[50]=b):b=e[50];let N;e[51]!==y||e[52]!==b?(N=s.jsxs("div",{className:"space-y-2",children:[$,y,b]}),e[51]=y,e[52]=b,e[53]=N):N=e[53];let q;e[54]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(be,{className:"mr-2 h-4 w-4"}),e[54]=q):q=e[54];let S;e[55]!==W?(S=s.jsxs(ce,{type:"submit",disabled:W,children:[q,"Agregar Ítem"]}),e[55]=W,e[56]=S):S=e[56];let k;e[57]!==Y||e[58]!==h||e[59]!==x||e[60]!==g||e[61]!==N||e[62]!==S?(k=s.jsx(te,{children:s.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[h,x,g,N,S]})}),e[57]=Y,e[58]=h,e[59]=x,e[60]=g,e[61]=N,e[62]=S,e[63]=k):k=e[63];let E;e[64]!==k||e[65]!==d?(E=s.jsxs(Z,{children:[d,k]}),e[64]=k,e[65]=d,e[66]=E):E=e[66];let A;e[67]!==a?(A=s.jsxs(se,{children:["Ítems Existentes (",a,")"]}),e[67]=a,e[68]=A):A=e[68];let z;e[69]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx(ae,{children:"Listado de puntos de control actuales."}),e[69]=z):z=e[69];let w;e[70]!==A?(w=s.jsxs(ee,{children:[A,z]}),e[70]=A,e[71]=w):w=e[71];let T;e[72]!==J?(T=s.jsx(te,{className:"max-h-[600px] overflow-y-auto",children:Object.entries(J).map(n=>{const[ie,de]=n;return s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"mb-2 text-lg font-semibold",children:ie}),s.jsx("div",{className:"space-y-2",children:de.map(B=>s.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3 hover:bg-muted/50",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:B.short_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:B.full_name}),B.company===null&&s.jsx(ue,{variant:"secondary",className:"mt-1",children:"Global"})]}),s.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>oe(B.id),children:s.jsx(ye,{className:"h-4 w-4 text-destructive"})})]},B.id))}),s.jsx(ge,{className:"my-4"})]},ie)})}),e[72]=J,e[73]=T):T=e[73];let D;e[74]!==w||e[75]!==T?(D=s.jsxs(Z,{children:[w,T]}),e[74]=w,e[75]=T,e[76]=D):D=e[76];let F;e[77]!==E||e[78]!==D?(F=s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[E,D]}),e[77]=E,e[78]=D,e[79]=F):F=e[79];let G;return e[80]!==F||e[81]!==o?(G=s.jsxs(_e,{breadcrumbs:I,children:[M,s.jsxs("div",{className:"flex h-full flex-col gap-6 p-4",children:[O,o,F]})]}),e[80]=F,e[81]=o,e[82]=G):G=e[82],G}function Ne(i){return s.jsx(r,{value:i,children:i},i)}function Se(i){ne.get("/vehicles/checklist-items",{company:i},{preserveState:!0})}function ke(i){confirm("¿Está seguro de eliminar este ítem?")&&ne.delete(`/vehicles/checklist-items/${i}`)}export{Ge as default};
