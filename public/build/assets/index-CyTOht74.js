import{c as z,r as O,j as t,L as P,H as F}from"./app-BzTiI1vx.js";import{C as H}from"./CompanyFilter-DgtAFYgE.js";import{B as o}from"./badge-D1BqYX3d.js";import{B as I}from"./createLucideIcon-BwNl2ouA.js";import{I as M}from"./input-biSxcUox.js";import{A as $}from"./app-layout-nP07Hnxr.js";import{E as q}from"./eye-CLcn9QNJ.js";import{P as G}from"./plus-BhdBHgSu.js";import{S as J}from"./search-DY11Zgp9.js";/* empty css            */import"./select-Coc38mFL.js";import"./index-BiALZKL6.js";import"./index-Cc9F1Pjn.js";import"./index-CiUfUXpG.js";import"./check-BBPj8J4q.js";import"./index-C4J_hXM0.js";import"./shield-Dgb1-bwJ.js";function de(m){const e=z.c(51),{tickets:T}=m,[a,R]=O.useState("");let d,x,l,r,h,f,i,u,p,j,c,n;if(e[0]!==a||e[1]!==T){let w;e[14]!==a?(w=s=>s.subject.toLowerCase().includes(a.toLowerCase())||s.company.toLowerCase().includes(a.toLowerCase())||s.id.toString().includes(a),e[14]=a,e[15]=w):w=e[15];const L=T.filter(w),k=K,D=V;d=$,e[16]===Symbol.for("react.memo_cache_sentinel")?(l=[{title:"Panel Principal",href:"/dashboard"},{title:"Ticketera",href:"/tickets"}],r=t.jsx(F,{title:"Ticketera / Solicitudes"}),e[16]=l,e[17]=r):(l=e[16],r=e[17]),j="flex flex-col gap-6 p-4";let A;e[18]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Solicitudes y Soporte"}),t.jsx("p",{className:"text-muted-foreground",children:"Gestión de requerimientos a Comandancia."})]}),e[18]=A):A=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs("div",{className:"flex items-center justify-between",children:[A,t.jsx(P,{href:"/tickets/create",children:t.jsxs(I,{className:"gap-2",children:[t.jsx(G,{className:"size-4"}),"Nuevo Ticket"]})})]}),e[19]=c):c=e[19];let C;e[20]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(J,{className:"size-4 text-muted-foreground"}),e[20]=C):C=e[20];let E;e[21]===Symbol.for("react.memo_cache_sentinel")?(E=s=>R(s.target.value),e[21]=E):E=e[21];let S;e[22]!==a?(S=t.jsxs("div",{className:"flex max-w-sm items-center gap-2",children:[C,t.jsx(M,{placeholder:"Buscar ticket...",value:a,onChange:E,className:"h-9"})]}),e[22]=a,e[23]=S):S=e[23];let B;e[24]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(H,{}),e[24]=B):B=e[24],e[25]!==S?(n=t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[S,B]}),e[25]=S,e[26]=n):n=e[26],p="rounded-xl border bg-card shadow-sm",u="overflow-x-auto",f="w-full text-left text-sm",e[27]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("thead",{className:"bg-muted/50 text-muted-foreground",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 font-medium",children:"ID"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Asunto"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Prioridad"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Estado"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Compañía"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Solicitante"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Fecha"}),t.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Acciones"})]})}),e[27]=i):i=e[27],x="divide-y",h=L.length>0?L.map(s=>t.jsxs("tr",{className:"hover:bg-muted/30",children:[t.jsxs("td",{className:"px-4 py-3 font-medium",children:["#",s.id]}),t.jsx("td",{className:"px-4 py-3 font-medium",children:s.subject}),t.jsx("td",{className:"px-4 py-3",children:D(s.priority)}),t.jsx("td",{className:"px-4 py-3",children:k(s.status)}),t.jsx("td",{className:"px-4 py-3",children:s.company}),t.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:s.user.name}),t.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()}),t.jsx("td",{className:"px-4 py-3 text-right",children:t.jsx(P,{href:`/tickets/${s.id}`,children:t.jsxs(I,{variant:"ghost",size:"sm",className:"h-8 gap-2",children:[t.jsx(q,{className:"size-4"}),"Ver"]})})})]},s.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-muted-foreground",children:"No se encontraron tickets."})}),e[0]=a,e[1]=T,e[2]=d,e[3]=x,e[4]=l,e[5]=r,e[6]=h,e[7]=f,e[8]=i,e[9]=u,e[10]=p,e[11]=j,e[12]=c,e[13]=n}else d=e[2],x=e[3],l=e[4],r=e[5],h=e[6],f=e[7],i=e[8],u=e[9],p=e[10],j=e[11],c=e[12],n=e[13];let N;e[28]!==x||e[29]!==h?(N=t.jsx("tbody",{className:x,children:h}),e[28]=x,e[29]=h,e[30]=N):N=e[30];let y;e[31]!==N||e[32]!==f||e[33]!==i?(y=t.jsxs("table",{className:f,children:[i,N]}),e[31]=N,e[32]=f,e[33]=i,e[34]=y):y=e[34];let g;e[35]!==y||e[36]!==u?(g=t.jsx("div",{className:u,children:y}),e[35]=y,e[36]=u,e[37]=g):g=e[37];let b;e[38]!==g||e[39]!==p?(b=t.jsx("div",{className:p,children:g}),e[38]=g,e[39]=p,e[40]=b):b=e[40];let v;e[41]!==b||e[42]!==j||e[43]!==c||e[44]!==n?(v=t.jsxs("div",{className:j,children:[c,n,b]}),e[41]=b,e[42]=j,e[43]=c,e[44]=n,e[45]=v):v=e[45];let _;return e[46]!==d||e[47]!==l||e[48]!==r||e[49]!==v?(_=t.jsxs(d,{breadcrumbs:l,children:[r,v]}),e[46]=d,e[47]=l,e[48]=r,e[49]=v,e[50]=_):_=e[50],_}function V(m){switch(m){case"ALTA":return t.jsx(o,{variant:"destructive",children:"Alta"});case"MEDIA":return t.jsx(o,{variant:"outline",className:"border-yellow-600 text-yellow-600",children:"Media"});case"BAJA":return t.jsx(o,{variant:"outline",className:"border-green-600 text-green-600",children:"Baja"});default:return t.jsx(o,{variant:"outline",children:m})}}function K(m){switch(m){case"ABIERTO":return t.jsx(o,{variant:"default",className:"bg-yellow-500 hover:bg-yellow-600",children:"Pendiente"});case"EN_PROCESO":return t.jsx(o,{variant:"default",className:"bg-blue-500 hover:bg-blue-600",children:"En Proceso"});case"CERRADO":return t.jsx(o,{variant:"secondary",children:"Cerrado"});default:return t.jsx(o,{variant:"outline",children:m})}}export{de as default};
