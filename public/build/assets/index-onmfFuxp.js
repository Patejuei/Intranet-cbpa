import{c as j,j as e,H as N,L as h,a as b}from"./app-tubDXl9A.js";import{P as y}from"./Pagination-DhqUDRnn.js";import{A as g}from"./app-layout-BcOV7iqU.js";import{U as v}from"./user-plus-CMeDif3I.js";import{P as _}from"./pencil-BipedJoD.js";import{T as k}from"./trash-BKDWp1Rb.js";/* empty css            */import"./button-BWp4tIff.js";import"./index-CQqCNELc.js";import"./index-DKfK0T6v.js";import"./index-C4J_hXM0.js";import"./shield-DulB0qDz.js";function D(a){const s=j.c(15),{users:l}=a,u=P;let d,n;s[0]===Symbol.for("react.memo_cache_sentinel")?(d=[{title:"Panel Principal",href:"/dashboard"},{title:"Administración",href:"/admin/users"}],n=e.jsx(N,{title:"Gestión de Usuarios"}),s[0]=d,s[1]=n):(d=s[0],n=s[1]);let o;s[2]===Symbol.for("react.memo_cache_sentinel")?(o=e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestión de Usuarios"}),e.jsx("p",{className:"text-muted-foreground",children:"Administra usuarios, roles y permisos."})]}),s[2]=o):o=s[2];let c;s[3]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsxs("div",{className:"flex items-center justify-between",children:[o,e.jsxs(h,{href:"/admin/users/create",className:"flex items-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90",children:[e.jsx(v,{className:"size-4"}),"Nuevo Usuario"]})]}),s[3]=c):c=s[3];let x;s[4]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsx("thead",{className:"bg-muted/50 text-muted-foreground",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 font-medium",children:"Nombre"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Email"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Compañía"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Rol"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Permisos"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Acciones"})]})}),s[4]=x):x=s[4];let i;if(s[5]!==l.data){let f;s[7]===Symbol.for("react.memo_cache_sentinel")?(f=t=>e.jsxs("tr",{className:"hover:bg-muted/30",children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:t.name}),e.jsx("td",{className:"px-4 py-3",children:t.email}),e.jsx("td",{className:"px-4 py-3",children:t.company||"-"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${t.role==="admin"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:t.role})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:t.role==="admin"?e.jsx("span",{className:"text-xs text-muted-foreground",children:"Acceso Total"}):(Array.isArray(t.permissions)?t.permissions:[]).map(A)})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{href:`/admin/users/${t.id}/edit`,className:"rounded p-1 text-blue-600 hover:bg-blue-100",children:e.jsx(_,{className:"size-4"})}),t.id!==1&&e.jsx("button",{onClick:()=>u(t.id),className:"rounded p-1 text-red-600 hover:bg-red-100",children:e.jsx(k,{className:"size-4"})})]})})]},t.id),s[7]=f):f=s[7],i=l.data.map(f),s[5]=l.data,s[6]=i}else i=s[6];let r;s[8]!==i?(r=e.jsx("div",{className:"rounded-xl border bg-card shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[x,e.jsx("tbody",{className:"divide-y",children:i})]})})}),s[8]=i,s[9]=r):r=s[9];let m;s[10]!==l.links?(m=e.jsx(y,{links:l.links}),s[10]=l.links,s[11]=m):m=s[11];let p;return s[12]!==r||s[13]!==m?(p=e.jsxs(g,{breadcrumbs:d,children:[n,e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[c,r,m]})]}),s[12]=r,s[13]=m,s[14]=p):p=s[14],p}function A(a){return e.jsx("span",{className:"rounded border bg-background px-1.5 py-0.5 text-xs text-muted-foreground",children:a},a)}function P(a){confirm("¿Estás seguro de eliminar este usuario?")&&b.delete(`/admin/users/${a}`)}export{D as default};
