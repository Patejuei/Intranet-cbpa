import{c as _,j as e,L as y,H as R}from"./app-B61HxmhB.js";import{B as o}from"./badge-vEvJTU3_.js";import{B as C}from"./button-DEfvv7zK.js";import{C as w,a as S,d as T,b as B,c as L}from"./card-BSIOn_Bx.js";import{T as g,a,b as P,c as l,d as H,e as D}from"./table-BeD9VpgZ.js";import{A as E}from"./app-layout-B6JJyxYC.js";import{E as A}from"./eye-CcaOm9eg.js";import{P as I}from"./plus-DEtsulu_.js";/* empty css            */import"./index-DnuNE2iH.js";import"./index-0lwPlNm7.js";import"./index-q7GIQJN5.js";import"./shield-BxyVENHa.js";function Y(d){const s=_.c(16),{renditions:h,userRole:b}=d,v=z,N=M;let m,x;s[0]===Symbol.for("react.memo_cache_sentinel")?(m=[{title:"Material Mayor",href:"/vehicles/status"},{title:"Caja Chica",href:"/vehicles/petty-cash"}],x=e.jsx(R,{title:"Rendición Caja Chica"}),s[0]=m,s[1]=x):(m=s[0],x=s[1]);let j;s[2]===Symbol.for("react.memo_cache_sentinel")?(j=e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Rendición de Caja Chica"}),e.jsx("p",{className:"text-muted-foreground",children:"Gestión de gastos menores y aprobaciones."})]}),s[2]=j):j=s[2];let r;s[3]!==b?(r=b==="mechanic"&&e.jsx(C,{asChild:!0,children:e.jsxs(y,{href:"/vehicles/petty-cash/create",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Nueva Rendición"]})}),s[3]=b,s[4]=r):r=s[4];let n;s[5]!==r?(n=e.jsxs("div",{className:"flex items-center justify-between",children:[j,r]}),s[5]=r,s[6]=n):n=s[6];let u;s[7]===Symbol.for("react.memo_cache_sentinel")?(u=e.jsxs(w,{children:[e.jsx(S,{children:"Historial de Rendiciones"}),e.jsx(T,{children:"Revise el estado de sus rendiciones y solicitudes pendientes."})]}),s[7]=u):u=s[7];let f;s[8]===Symbol.for("react.memo_cache_sentinel")?(f=e.jsx(P,{children:e.jsxs(g,{children:[e.jsx(l,{children:"Fecha"}),e.jsx(l,{children:"Solicitante"}),e.jsx(l,{children:"Descripción"}),e.jsx(l,{children:"Monto"}),e.jsx(l,{children:"Estado"}),e.jsx(l,{className:"text-right",children:"Acciones"})]})}),s[8]=f):f=s[8];let i;s[9]!==h.data?(i=h.data.length===0?e.jsx(g,{children:e.jsx(a,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No hay rendiciones registradas."})}):h.data.map(t=>e.jsxs(g,{children:[e.jsx(a,{children:new Date(t.created_at).toLocaleDateString()}),e.jsx(a,{children:t.user.name}),e.jsx(a,{className:"max-w-[200px] truncate",children:t.description}),e.jsx(a,{className:"font-mono",children:v(t.amount)}),e.jsx(a,{children:N(t.status)}),e.jsx(a,{className:"text-right",children:e.jsx(C,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(y,{href:`/vehicles/petty-cash/${t.id}`,children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Ver Detalles"]})})})]},t.id)),s[9]=h.data,s[10]=i):i=s[10];let c;s[11]!==i?(c=e.jsxs(B,{children:[u,e.jsx(L,{children:e.jsxs(H,{children:[f,e.jsx(D,{children:i})]})})]}),s[11]=i,s[12]=c):c=s[12];let p;return s[13]!==n||s[14]!==c?(p=e.jsxs(E,{breadcrumbs:m,children:[x,e.jsxs("div",{className:"flex flex-1 flex-col gap-8 p-4",children:[n,c]})]}),s[13]=n,s[14]=c,s[15]=p):p=s[15],p}function M(d){switch(d){case"approved":return e.jsx(o,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:"Liberado a Pago"});case"pending_inspector":return e.jsx(o,{variant:"outline",className:"border-orange-200 text-orange-600",children:"Pendiente Inspector"});case"pending_comandante":return e.jsx(o,{variant:"outline",className:"border-blue-200 text-blue-600",children:"Pendiente Comandante"});case"rejected":return e.jsx(o,{variant:"destructive",className:"bg-red-100 text-red-700 hover:bg-red-100",children:"Rechazado"});default:return e.jsx(o,{variant:"secondary",children:"Borrador"})}}function z(d){return new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(d)}export{Y as default};
