import{c as Le,r as Be,u as Pe,j as l,H as Ie,a as ke}from"./app-BzTiI1vx.js";import{B as we}from"./createLucideIcon-BwNl2ouA.js";import{D as Ae,a as Ge,b as Oe,c as Ue,d as ze}from"./dialog-DYTAo1B3.js";import{I as xe}from"./input-biSxcUox.js";import{L as fe}from"./label-Czzj5tKt.js";import{S as He,a as $e,b as qe,c as Je,d as n}from"./select-Coc38mFL.js";import{A as Qe}from"./app-layout-nP07Hnxr.js";import{P as Ve,U as Ke}from"./user-plus-CSAm6gyC.js";import{T as Me}from"./trash-B7D5OhgX.js";import{S as We}from"./search-DY11Zgp9.js";/* empty css            */import"./index-BiALZKL6.js";import"./index-Cc9F1Pjn.js";import"./index-CiUfUXpG.js";import"./check-BBPj8J4q.js";import"./index-C4J_hXM0.js";import"./shield-Dgb1-bwJ.js";function fl(he){const e=Le.c(131),{firefighters:ge}=he,[m,Re]=Be.useState(""),[M,De]=Be.useState(!1),[je,x]=Be.useState(!1);let X;e[0]===Symbol.for("react.memo_cache_sentinel")?(X={id:0,general_registry_number:"",full_name:"",rut:"",company:""},e[0]=X):X=e[0];const{data:a,setData:r,post:be,put:_e,processing:ye,errors:s,reset:Ne}=Pe(X);let Y;e[1]!==Ne?(Y=()=>{Ne(),De(!1),x(!0)},e[1]=Ne,e[2]=Y):Y=e[2];const W=Y;let Z;e[3]!==r?(Z=t=>{r({id:t.id,general_registry_number:t.general_registry_number||"",full_name:t.full_name,rut:t.rut,company:t.company}),De(!0),x(!0)},e[3]=r,e[4]=Z):Z=e[4];const Ce=Z;let ee;e[5]!==a.id||e[6]!==M||e[7]!==be||e[8]!==_e?(ee=t=>{t.preventDefault(),M?_e(`/admin/firefighters/${a.id}`,{onSuccess:()=>x(!1)}):be("/admin/firefighters",{onSuccess:()=>x(!1)})},e[5]=a.id,e[6]=M,e[7]=be,e[8]=_e,e[9]=ee):ee=e[9];const ve=ee,Fe=Xe;let f,h,g,o,c,d,u,j,b,_,p,y;if(e[10]!==ge||e[11]!==W||e[12]!==Ce||e[13]!==m){let t;e[26]!==m?(t=i=>i.full_name.toLowerCase().includes(m.toLowerCase())||i.rut.toLowerCase().includes(m.toLowerCase())||i.general_registry_number&&i.general_registry_number.includes(m),e[26]=m,e[27]=t):t=e[27];const Ee=ge.filter(t);f=Qe,e[28]===Symbol.for("react.memo_cache_sentinel")?(d=[{title:"Panel Principal",href:"/dashboard"},{title:"Administración",href:"/admin/firefighters"}],u=l.jsx(Ie,{title:"Gestión de Bomberos"}),e[28]=d,e[29]=u):(d=e[28],u=e[29]),g="flex flex-col gap-6 p-4";let ce;e[30]===Symbol.for("react.memo_cache_sentinel")?(ce=l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestión de Bomberos"}),l.jsx("p",{className:"text-muted-foreground",children:"Administra el personal de bomberos."})]}),e[30]=ce):ce=e[30];let de;e[31]===Symbol.for("react.memo_cache_sentinel")?(de=l.jsx(Ke,{className:"size-4"}),e[31]=de):de=e[31],e[32]!==W?(o=l.jsxs("div",{className:"flex items-center justify-between",children:[ce,l.jsxs(we,{onClick:W,className:"gap-2",children:[de,"Nuevo Bombero"]})]}),e[32]=W,e[33]=o):o=e[33];let ue;e[34]===Symbol.for("react.memo_cache_sentinel")?(ue=l.jsx(We,{className:"size-4 text-muted-foreground"}),e[34]=ue):ue=e[34];let pe;e[35]===Symbol.for("react.memo_cache_sentinel")?(pe=i=>Re(i.target.value),e[35]=pe):pe=e[35],e[36]!==m?(c=l.jsxs("div",{className:"flex max-w-sm items-center gap-2",children:[ue,l.jsx(xe,{placeholder:"Buscar por nombre, RUT o N° Reg...",value:m,onChange:pe,className:"h-9"})]}),e[36]=m,e[37]=c):c=e[37],h="rounded-xl border bg-card shadow-sm",y="overflow-x-auto",_="w-full text-left text-sm",e[38]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsx("thead",{className:"bg-muted/50 text-muted-foreground",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 font-medium",children:"N° Reg. General"}),l.jsx("th",{className:"px-4 py-3 font-medium",children:"Nombre Completo"}),l.jsx("th",{className:"px-4 py-3 font-medium",children:"RUT"}),l.jsx("th",{className:"px-4 py-3 font-medium",children:"Compañía"}),l.jsx("th",{className:"px-4 py-3 font-medium",children:"Acciones"})]})}),e[38]=p):p=e[38],j="divide-y",b=Ee.length>0?Ee.map(i=>l.jsxs("tr",{className:"hover:bg-muted/30",children:[l.jsx("td",{className:"px-4 py-3",children:i.general_registry_number||"-"}),l.jsx("td",{className:"px-4 py-3 font-medium",children:i.full_name}),l.jsx("td",{className:"px-4 py-3",children:i.rut}),l.jsx("td",{className:"px-4 py-3",children:i.company}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>Ce(i),className:"rounded p-1 text-blue-600 hover:bg-blue-100",children:l.jsx(Ve,{className:"size-4"})}),l.jsx("button",{onClick:()=>Fe(i.id),className:"rounded p-1 text-red-600 hover:bg-red-100",children:l.jsx(Me,{className:"size-4"})})]})})]},i.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-muted-foreground",children:"No se encontraron bomberos."})}),e[10]=ge,e[11]=W,e[12]=Ce,e[13]=m,e[14]=f,e[15]=h,e[16]=g,e[17]=o,e[18]=c,e[19]=d,e[20]=u,e[21]=j,e[22]=b,e[23]=_,e[24]=p,e[25]=y}else f=e[14],h=e[15],g=e[16],o=e[17],c=e[18],d=e[19],u=e[20],j=e[21],b=e[22],_=e[23],p=e[24],y=e[25];let N;e[39]!==j||e[40]!==b?(N=l.jsx("tbody",{className:j,children:b}),e[39]=j,e[40]=b,e[41]=N):N=e[41];let C;e[42]!==N||e[43]!==_||e[44]!==p?(C=l.jsxs("table",{className:_,children:[p,N]}),e[42]=N,e[43]=_,e[44]=p,e[45]=C):C=e[45];let v;e[46]!==C||e[47]!==y?(v=l.jsx("div",{className:y,children:C}),e[46]=C,e[47]=y,e[48]=v):v=e[48];let S;e[49]!==h||e[50]!==v?(S=l.jsx("div",{className:h,children:v}),e[49]=h,e[50]=v,e[51]=S):S=e[51];let T;e[52]!==g||e[53]!==o||e[54]!==c||e[55]!==S?(T=l.jsxs("div",{className:g,children:[o,c,S]}),e[52]=g,e[53]=o,e[54]=c,e[55]=S,e[56]=T):T=e[56];const Se=M?"Editar Bombero":"Nuevo Bombero";let B;e[57]!==Se?(B=l.jsx(Ae,{children:Se}),e[57]=Se,e[58]=B):B=e[58];let le;e[59]===Symbol.for("react.memo_cache_sentinel")?(le=l.jsx(Ge,{children:"Complete los datos del bombero."}),e[59]=le):le=e[59];let w;e[60]!==B?(w=l.jsxs(Oe,{children:[B,le]}),e[60]=B,e[61]=w):w=e[61];let te;e[62]===Symbol.for("react.memo_cache_sentinel")?(te=l.jsx(fe,{htmlFor:"company",children:"Compañía"}),e[62]=te):te=e[62];let D;e[63]!==r?(D=t=>r("company",t),e[63]=r,e[64]=D):D=e[64];let se;e[65]===Symbol.for("react.memo_cache_sentinel")?(se=l.jsx($e,{className:"w-full",children:l.jsx(qe,{placeholder:"Seleccione Compañía"})}),e[65]=se):se=e[65];let ae;e[66]===Symbol.for("react.memo_cache_sentinel")?(ae=l.jsxs(Je,{children:[l.jsx(n,{value:"Primera Compañía",children:"Primera Compañía"}),l.jsx(n,{value:"Segunda Compañía",children:"Segunda Compañía"}),l.jsx(n,{value:"Tercera Compañía",children:"Tercera Compañía"}),l.jsx(n,{value:"Cuarta Compañía",children:"Cuarta Compañía"}),l.jsx(n,{value:"Quinta Compañía",children:"Quinta Compañía"}),l.jsx(n,{value:"Sexta Compañía",children:"Sexta Compañía"}),l.jsx(n,{value:"Séptima Compañía",children:"Séptima Compañía"}),l.jsx(n,{value:"Octava Compañía",children:"Octava Compañía"}),l.jsx(n,{value:"Novena Compañía",children:"Novena Compañía"}),l.jsx(n,{value:"Brigada Juvenil",children:"Brigada Juvenil"}),l.jsx(n,{value:"Comandancia",children:"Comandancia"})]}),e[66]=ae):ae=e[66];let E;e[67]!==a.company||e[68]!==D?(E=l.jsxs(He,{value:a.company,onValueChange:D,children:[se,ae]}),e[67]=a.company,e[68]=D,e[69]=E):E=e[69];let R;e[70]!==s.company?(R=s.company&&l.jsx("p",{className:"text-sm text-red-500",children:s.company}),e[70]=s.company,e[71]=R):R=e[71];let F;e[72]!==E||e[73]!==R?(F=l.jsxs("div",{className:"grid gap-2",children:[te,E,R]}),e[72]=E,e[73]=R,e[74]=F):F=e[74];let re;e[75]===Symbol.for("react.memo_cache_sentinel")?(re=l.jsx(fe,{htmlFor:"full_name",children:"Nombre Completo"}),e[75]=re):re=e[75];let L;e[76]!==r?(L=t=>r("full_name",t.target.value),e[76]=r,e[77]=L):L=e[77];let P;e[78]!==a.full_name||e[79]!==L?(P=l.jsx(xe,{id:"full_name",value:a.full_name,onChange:L,required:!0}),e[78]=a.full_name,e[79]=L,e[80]=P):P=e[80];let I;e[81]!==s.full_name?(I=s.full_name&&l.jsx("p",{className:"text-sm text-red-500",children:s.full_name}),e[81]=s.full_name,e[82]=I):I=e[82];let k;e[83]!==P||e[84]!==I?(k=l.jsxs("div",{className:"grid gap-2",children:[re,P,I]}),e[83]=P,e[84]=I,e[85]=k):k=e[85];let ie;e[86]===Symbol.for("react.memo_cache_sentinel")?(ie=l.jsx(fe,{htmlFor:"rut",children:"RUT"}),e[86]=ie):ie=e[86];let A;e[87]!==r?(A=t=>r("rut",t.target.value),e[87]=r,e[88]=A):A=e[88];let G;e[89]!==a.rut||e[90]!==A?(G=l.jsx(xe,{id:"rut",value:a.rut,onChange:A,placeholder:"12.345.678-9",required:!0}),e[89]=a.rut,e[90]=A,e[91]=G):G=e[91];let O;e[92]!==s.rut?(O=s.rut&&l.jsx("p",{className:"text-sm text-red-500",children:s.rut}),e[92]=s.rut,e[93]=O):O=e[93];let U;e[94]!==G||e[95]!==O?(U=l.jsxs("div",{className:"grid gap-2",children:[ie,G,O]}),e[94]=G,e[95]=O,e[96]=U):U=e[96];let ne;e[97]===Symbol.for("react.memo_cache_sentinel")?(ne=l.jsx(fe,{htmlFor:"general_registry_number",children:"N° Registro General"}),e[97]=ne):ne=e[97];let z;e[98]!==r?(z=t=>r("general_registry_number",t.target.value),e[98]=r,e[99]=z):z=e[99];let H;e[100]!==a.general_registry_number||e[101]!==z?(H=l.jsx(xe,{id:"general_registry_number",value:a.general_registry_number,onChange:z}),e[100]=a.general_registry_number,e[101]=z,e[102]=H):H=e[102];let $;e[103]!==s.general_registry_number?($=s.general_registry_number&&l.jsx("p",{className:"text-sm text-red-500",children:s.general_registry_number}),e[103]=s.general_registry_number,e[104]=$):$=e[104];let q;e[105]!==H||e[106]!==$?(q=l.jsxs("div",{className:"grid gap-2",children:[ne,H,$]}),e[105]=H,e[106]=$,e[107]=q):q=e[107];let me;e[108]===Symbol.for("react.memo_cache_sentinel")?(me=l.jsx(we,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),e[108]=me):me=e[108];const Te=M?"Guardar Cambios":"Crear Bombero";let J;e[109]!==ye||e[110]!==Te?(J=l.jsxs("div",{className:"flex justify-end gap-2",children:[me,l.jsx(we,{type:"submit",disabled:ye,children:Te})]}),e[109]=ye,e[110]=Te,e[111]=J):J=e[111];let Q;e[112]!==ve||e[113]!==F||e[114]!==k||e[115]!==U||e[116]!==q||e[117]!==J?(Q=l.jsxs("form",{onSubmit:ve,className:"grid gap-4 py-4",children:[F,k,U,q,J]}),e[112]=ve,e[113]=F,e[114]=k,e[115]=U,e[116]=q,e[117]=J,e[118]=Q):Q=e[118];let V;e[119]!==w||e[120]!==Q?(V=l.jsxs(Ue,{children:[w,Q]}),e[119]=w,e[120]=Q,e[121]=V):V=e[121];let K;e[122]!==je||e[123]!==V?(K=l.jsx(ze,{open:je,onOpenChange:x,children:V}),e[122]=je,e[123]=V,e[124]=K):K=e[124];let oe;return e[125]!==f||e[126]!==d||e[127]!==u||e[128]!==T||e[129]!==K?(oe=l.jsxs(f,{breadcrumbs:d,children:[u,T,K]}),e[125]=f,e[126]=d,e[127]=u,e[128]=T,e[129]=K,e[130]=oe):oe=e[130],oe}function Xe(he){confirm("¿Estás seguro de eliminar este bombero?")&&ke.delete(`/admin/firefighters/${he}`)}export{fl as default};
