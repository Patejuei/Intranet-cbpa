import{c as xe,u as ge,r as be,j as t,H as je,L as ve}from"./app-1yum4nef.js";import{P as _e,C as Ce,a as ye,b as Se,c as Ne,d as we,e as Ie,f as Re,g as qe,M as Ae}from"./MaterialSelector-BQoXVDkZ.js";import{B as U,c as Pe}from"./button-CKGGjUwb.js";import{I as ue}from"./input-CsiaQWRs.js";import{L as $}from"./label-BR3jzi2C.js";import{S as Fe,a as Te,b as ke,c as De,d as g}from"./select-BloMUJqf.js";import{b as Le,A as Me}from"./app-layout-CU1SNS-M.js";import{C as Oe}from"./check-C3gDIJJl.js";import{P as ze}from"./plus-B40UTu2L.js";import{S as Ee}from"./save-CVy3jBP4.js";import{T as Be}from"./trash-DVXdHVNA.js";/* empty css            */import"./index-C4D9tU3H.js";import"./search-CfNOhaI0.js";import"./index-CThbTi0F.js";import"./index-Dyzk4_z-.js";import"./chevron-down-BJqogzLF.js";import"./index-C4J_hXM0.js";import"./shield-CJ5aZyZ9.js";function nt(fe){const e=xe.c(107),{firefighters:n,materials:r}=fe;let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b=new Date().toISOString().split("T"),e[0]=b):b=e[0];let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c={firefighter_id:"",date:b[0],observations:"",company:"Segunda Compañía",items:[{material_id:"",quantity:1}]},e[1]=c):c=e[1];const{data:a,setData:s,post:j,processing:_,errors:l}=ge(c),[o,C]=be.useState(!1);let d;e[2]!==a.items||e[3]!==s?(d=()=>{s("items",[...a.items,{material_id:"",quantity:1}])},e[2]=a.items,e[3]=s,e[4]=d):d=e[4];const h=d;let f;e[5]!==a.items||e[6]!==s?(f=i=>{const m=[...a.items];m.splice(i,1),s("items",m)},e[5]=a.items,e[6]=s,e[7]=f):f=e[7];const x=f;let p;e[8]!==a.items||e[9]!==s?(p=(i,m,de)=>{const he=[...a.items];he[i][m]=de,s("items",he)},e[8]=a.items,e[9]=s,e[10]=p):p=e[10];const u=p;let v;e[11]!==j?(v=i=>{i.preventDefault(),j("/receptions")},e[11]=j,e[12]=v):v=e[12];const pe=v;let J,K;e[13]===Symbol.for("react.memo_cache_sentinel")?(J=[{title:"Actas de Recepción",href:"/receptions"},{title:"Nueva Acta",href:"/receptions/create"}],K=t.jsx(je,{title:"Nueva Acta de Recepción"}),e[13]=J,e[14]=K):(J=e[13],K=e[14]);let W;e[15]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Nueva Acta de Recepción"}),t.jsx("p",{className:"text-muted-foreground",children:"Registre la recepción de material devuelto por un voluntario."})]}),e[15]=W):W=e[15];let X;e[16]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx($,{children:"Bombero (Entrega Material)"}),e[16]=X):X=e[16];let y;e[17]!==a.firefighter_id||e[18]!==n?(y=a.firefighter_id?n.find(i=>i.id.toString()===a.firefighter_id)?.full_name:"Seleccione bombero...",e[17]=a.firefighter_id,e[18]=n,e[19]=y):y=e[19];let Y;e[20]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(Le,{className:"opacity-50"}),e[20]=Y):Y=e[20];let S;e[21]!==o||e[22]!==y?(S=t.jsx(_e,{asChild:!0,children:t.jsxs(U,{variant:"outline",role:"combobox","aria-expanded":o,className:"w-full justify-between",children:[y,Y]})}),e[21]=o,e[22]=y,e[23]=S):S=e[23];let Z;e[24]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(Ce,{placeholder:"Buscar bombero..."}),e[24]=Z):Z=e[24];let ee;e[25]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(ye,{children:"No se encontró bombero."}),e[25]=ee):ee=e[25];let N;if(e[26]!==a.firefighter_id||e[27]!==n||e[28]!==s){let i;e[30]!==a.firefighter_id||e[31]!==s?(i=m=>t.jsxs(Se,{value:m.full_name,onSelect:()=>{s("firefighter_id",m.id.toString()),C(!1)},children:[m.full_name,t.jsx(Oe,{className:Pe("ml-auto",a.firefighter_id===m.id.toString()?"opacity-100":"opacity-0")})]},m.id),e[30]=a.firefighter_id,e[31]=s,e[32]=i):i=e[32],N=n.map(i),e[26]=a.firefighter_id,e[27]=n,e[28]=s,e[29]=N}else N=e[29];let w;e[33]!==N?(w=t.jsx(Ne,{className:"w-[--radix-popover-trigger-width] p-0",children:t.jsxs(we,{children:[Z,t.jsxs(Ie,{children:[ee,t.jsx(Re,{children:N})]})]})}),e[33]=N,e[34]=w):w=e[34];let I;e[35]!==o||e[36]!==S||e[37]!==w?(I=t.jsxs(qe,{open:o,onOpenChange:C,children:[S,w]}),e[35]=o,e[36]=S,e[37]=w,e[38]=I):I=e[38];let R;e[39]!==l.firefighter_id?(R=l.firefighter_id&&t.jsx("p",{className:"text-sm text-red-500",children:l.firefighter_id}),e[39]=l.firefighter_id,e[40]=R):R=e[40];let q;e[41]!==I||e[42]!==R?(q=t.jsxs("div",{className:"flex flex-col gap-2",children:[X,I,R]}),e[41]=I,e[42]=R,e[43]=q):q=e[43];let te;e[44]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx($,{htmlFor:"date",children:"Fecha"}),e[44]=te):te=e[44];let A;e[45]!==s?(A=i=>s("date",i.target.value),e[45]=s,e[46]=A):A=e[46];let P;e[47]!==a.date||e[48]!==A?(P=t.jsx(ue,{id:"date",type:"date",value:a.date,onChange:A,required:!0}),e[47]=a.date,e[48]=A,e[49]=P):P=e[49];let F;e[50]!==l.date?(F=l.date&&t.jsx("p",{className:"text-sm text-red-500",children:l.date}),e[50]=l.date,e[51]=F):F=e[51];let T;e[52]!==P||e[53]!==F?(T=t.jsxs("div",{className:"grid gap-2",children:[te,P,F]}),e[52]=P,e[53]=F,e[54]=T):T=e[54];let k;e[55]!==q||e[56]!==T?(k=t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[q,T]}),e[55]=q,e[56]=T,e[57]=k):k=e[57];let ae;e[58]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx($,{htmlFor:"company",children:"Compañía"}),e[58]=ae):ae=e[58];let D;e[59]!==s?(D=i=>s("company",i),e[59]=s,e[60]=D):D=e[60];let se;e[61]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(Te,{className:"w-full",children:t.jsx(ke,{placeholder:"Seleccione Compañía"})}),e[61]=se):se=e[61];let ie;e[62]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs(De,{children:[t.jsx(g,{value:"Primera Compañía",children:"Primera Compañía"}),t.jsx(g,{value:"Segunda Compañía",children:"Segunda Compañía"}),t.jsx(g,{value:"Tercera Compañía",children:"Tercera Compañía"}),t.jsx(g,{value:"Cuarta Compañía",children:"Cuarta Compañía"}),t.jsx(g,{value:"Quinta Compañía",children:"Quinta Compañía"}),t.jsx(g,{value:"Séptima Compañía",children:"Séptima Compañía"}),t.jsx(g,{value:"Octava Compañía",children:"Octava Compañía"}),t.jsx(g,{value:"Novena Compañía",children:"Novena Compañía"}),t.jsx(g,{value:"Décima Compañía",children:"Décima Compañía"}),t.jsx(g,{value:"Comandancia",children:"Comandancia"})]}),e[62]=ie):ie=e[62];let L;e[63]!==a.company||e[64]!==D?(L=t.jsxs("div",{className:"grid gap-2",children:[ae,t.jsxs(Fe,{value:a.company,onValueChange:D,children:[se,ie]})]}),e[63]=a.company,e[64]=D,e[65]=L):L=e[65];let M;e[66]!==k||e[67]!==L?(M=t.jsxs("div",{className:"grid gap-4 rounded-xl border bg-card p-6 shadow-sm",children:[k,L]}),e[66]=k,e[67]=L,e[68]=M):M=e[68];let le;e[69]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("h3",{className:"text-lg font-semibold",children:"Materiales Recibidos"}),e[69]=le):le=e[69];let re;e[70]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(ze,{className:"mr-2 size-4"}),e[70]=re):re=e[70];let O;e[71]!==h?(O=t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[le,t.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:h,children:[re," Agregar Item"]})]}),e[71]=h,e[72]=O):O=e[72];let z;if(e[73]!==a.items||e[74]!==r||e[75]!==x||e[76]!==u){let i;e[78]!==a.items.length||e[79]!==r||e[80]!==x||e[81]!==u?(i=(m,de)=>t.jsx(Ge,{item:m,index:de,materials:r,updateItem:u,removeItem:x,isSingle:a.items.length===1},de),e[78]=a.items.length,e[79]=r,e[80]=x,e[81]=u,e[82]=i):i=e[82],z=a.items.map(i),e[73]=a.items,e[74]=r,e[75]=x,e[76]=u,e[77]=z}else z=e[77];let E;e[83]!==z?(E=t.jsx("div",{className:"space-y-4",children:z}),e[83]=z,e[84]=E):E=e[84];let B;e[85]!==l.items?(B=l.items&&t.jsx("p",{className:"mt-2 text-sm text-red-500",children:l.items}),e[85]=l.items,e[86]=B):B=e[86];let G;e[87]!==O||e[88]!==E||e[89]!==B?(G=t.jsxs("div",{className:"rounded-xl border bg-card p-6 shadow-sm",children:[O,E,B]}),e[87]=O,e[88]=E,e[89]=B,e[90]=G):G=e[90];let oe;e[91]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx($,{htmlFor:"observations",children:"Observaciones"}),e[91]=oe):oe=e[91];let H;e[92]!==s?(H=i=>s("observations",i.target.value),e[92]=s,e[93]=H):H=e[93];let Q;e[94]!==a.observations||e[95]!==H?(Q=t.jsxs("div",{className:"grid gap-2 rounded-xl border bg-card p-6 shadow-sm",children:[oe,t.jsx("textarea",{id:"observations",value:a.observations,onChange:H,className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50"})]}),e[94]=a.observations,e[95]=H,e[96]=Q):Q=e[96];let ne;e[97]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(ve,{href:"/receptions",children:t.jsx(U,{type:"button",variant:"outline",children:"Cancelar"})}),e[97]=ne):ne=e[97];let me;e[98]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(Ee,{className:"size-4"}),e[98]=me):me=e[98];let V;e[99]!==_?(V=t.jsxs("div",{className:"flex justify-end gap-4",children:[ne,t.jsxs(U,{type:"submit",disabled:_,className:"gap-2",children:[me," Guardar Acta"]})]}),e[99]=_,e[100]=V):V=e[100];let ce;return e[101]!==pe||e[102]!==M||e[103]!==G||e[104]!==Q||e[105]!==V?(ce=t.jsxs(Me,{breadcrumbs:J,children:[K,t.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-6 p-4",children:[W,t.jsxs("form",{onSubmit:pe,className:"flex flex-col gap-6",children:[M,G,Q,V]})]})]}),e[101]=pe,e[102]=M,e[103]=G,e[104]=Q,e[105]=V,e[106]=ce):ce=e[106],ce}function Ge(fe){const e=xe.c(26),{item:n,index:r,materials:b,updateItem:c,removeItem:a,isSingle:s}=fe;let j;e[0]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx($,{children:"Material"}),e[0]=j):j=e[0];const _=n.material_id?parseInt(n.material_id):void 0;let l;e[1]!==r||e[2]!==c?(l=v=>c(r,"material_id",v.toString()),e[1]=r,e[2]=c,e[3]=l):l=e[3];let o;e[4]!==b||e[5]!==_||e[6]!==l?(o=t.jsxs("div",{className:"flex flex-1 flex-col gap-2",children:[j,t.jsx(Ae,{materials:b,value:_,onChange:l,placeholder:"Seleccione material (Nombre, Cód, o S/N)..."})]}),e[4]=b,e[5]=_,e[6]=l,e[7]=o):o=e[7];let C;e[8]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx($,{children:"Cantidad"}),e[8]=C):C=e[8];let d;e[9]!==r||e[10]!==c?(d=v=>c(r,"quantity",parseInt(v.target.value)),e[9]=r,e[10]=c,e[11]=d):d=e[11];let h;e[12]!==n.quantity||e[13]!==d?(h=t.jsxs("div",{className:"grid w-32 gap-2",children:[C,t.jsx(ue,{type:"number",min:"1",value:n.quantity,onChange:d,required:!0})]}),e[12]=n.quantity,e[13]=d,e[14]=h):h=e[14];let f;e[15]!==r||e[16]!==a?(f=()=>a(r),e[15]=r,e[16]=a,e[17]=f):f=e[17];let x;e[18]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(Be,{className:"size-4"}),e[18]=x):x=e[18];let p;e[19]!==s||e[20]!==f?(p=t.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"text-red-500 hover:bg-red-50 hover:text-red-600",onClick:f,disabled:s,children:x}),e[19]=s,e[20]=f,e[21]=p):p=e[21];let u;return e[22]!==p||e[23]!==o||e[24]!==h?(u=t.jsxs("div",{className:"flex items-end gap-4 border-b pb-4 last:border-0 last:pb-0",children:[o,h,p]}),e[22]=p,e[23]=o,e[24]=h,e[25]=u):u=e[25],u}export{nt as default};
