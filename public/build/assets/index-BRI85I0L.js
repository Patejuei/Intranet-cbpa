import{r as v,j as o,R as h,c as _,L as pe,H as ue}from"./app-CPM0qqBN.js";import{c as W,u as T,a as K,P as fe,d as me}from"./index-BlbzEdsQ.js";import{u as U,G as xe,E as he,A as ge,W as ve}from"./app-layout-BRytu26V.js";import{u as z,a as M,B as be}from"./button-CqEo9HDw.js";import{P as I}from"./index-CWMEVgmi.js";import{C as Ce}from"./chevron-down-BYJQCYpr.js";import{B as F}from"./badge-CudTdBLW.js";import{c as je,C as Ae,a as Ne,b as ye,d as we}from"./card-CH3A71aL.js";import{C as _e}from"./circle-alert-1WP9gQ7p.js";import{C as Ie}from"./circle-check-CHUI7abf.js";/* empty css            */import"./index-C4J_hXM0.js";import"./shield-DKSAdIwv.js";var P="Collapsible",[Re,q]=W(P),[Pe,$]=Re(P),Y=v.forwardRef((r,e)=>{const{__scopeCollapsible:t,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...c}=r,[d,p]=T({prop:n,defaultProp:s??!1,onChange:i,caller:P});return o.jsx(Pe,{scope:t,disabled:a,contentId:U(),open:d,onOpenToggle:v.useCallback(()=>p(u=>!u),[p]),children:o.jsx(I.div,{"data-state":H(d),"data-disabled":a?"":void 0,...c,ref:e})})});Y.displayName=P;var J="CollapsibleTrigger",Q=v.forwardRef((r,e)=>{const{__scopeCollapsible:t,...n}=r,s=$(J,t);return o.jsx(I.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":H(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:e,onClick:K(r.onClick,s.onOpenToggle)})});Q.displayName=J;var V="CollapsibleContent",X=v.forwardRef((r,e)=>{const{forceMount:t,...n}=r,s=$(V,r.__scopeCollapsible);return o.jsx(fe,{present:t||s.open,children:({present:a})=>o.jsx(Ee,{...n,ref:e,present:a})})});X.displayName=V;var Ee=v.forwardRef((r,e)=>{const{__scopeCollapsible:t,present:n,children:s,...a}=r,i=$(V,t),[c,d]=v.useState(n),p=v.useRef(null),u=z(e,p),f=v.useRef(0),b=f.current,C=v.useRef(0),j=C.current,m=i.open||c,g=v.useRef(m),x=v.useRef(void 0);return v.useEffect(()=>{const l=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(l)},[]),me(()=>{const l=p.current;if(l){x.current=x.current||{transitionDuration:l.style.transitionDuration,animationName:l.style.animationName},l.style.transitionDuration="0s",l.style.animationName="none";const N=l.getBoundingClientRect();f.current=N.height,C.current=N.width,g.current||(l.style.transitionDuration=x.current.transitionDuration,l.style.animationName=x.current.animationName),d(n)}},[i.open,n]),o.jsx(I.div,{"data-state":H(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!m,...a,ref:u,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...r.style},children:m&&s})});function H(r){return r?"open":"closed"}var Se=Y,Oe=Q,ke=X,A="Accordion",De=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[L,Te,Me]=xe(A),[E,ft]=W(A,[Me,q]),B=q(),Z=h.forwardRef((r,e)=>{const{type:t,...n}=r,s=n,a=n;return o.jsx(L.Provider,{scope:r.__scopeAccordion,children:t==="multiple"?o.jsx(Le,{...a,ref:e}):o.jsx(He,{...s,ref:e})})});Z.displayName=A;var[ee,$e]=E(A),[te,Ve]=E(A,{collapsible:!1}),He=h.forwardRef((r,e)=>{const{value:t,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...i}=r,[c,d]=T({prop:t,defaultProp:n??"",onChange:s,caller:A});return o.jsx(ee,{scope:r.__scopeAccordion,value:h.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:h.useCallback(()=>a&&d(""),[a,d]),children:o.jsx(te,{scope:r.__scopeAccordion,collapsible:a,children:o.jsx(oe,{...i,ref:e})})})}),Le=h.forwardRef((r,e)=>{const{value:t,defaultValue:n,onValueChange:s=()=>{},...a}=r,[i,c]=T({prop:t,defaultProp:n??[],onChange:s,caller:A}),d=h.useCallback(u=>c((f=[])=>[...f,u]),[c]),p=h.useCallback(u=>c((f=[])=>f.filter(b=>b!==u)),[c]);return o.jsx(ee,{scope:r.__scopeAccordion,value:i,onItemOpen:d,onItemClose:p,children:o.jsx(te,{scope:r.__scopeAccordion,collapsible:!0,children:o.jsx(oe,{...a,ref:e})})})}),[Be,S]=E(A),oe=h.forwardRef((r,e)=>{const{__scopeAccordion:t,disabled:n,dir:s,orientation:a="vertical",...i}=r,c=h.useRef(null),d=z(c,e),p=Te(t),f=he(s)==="ltr",b=K(r.onKeyDown,C=>{if(!De.includes(C.key))return;const j=C.target,m=p().filter(k=>!k.ref.current?.disabled),g=m.findIndex(k=>k.ref.current===j),x=m.length;if(g===-1)return;C.preventDefault();let l=g;const N=0,y=x-1,w=()=>{l=g+1,l>y&&(l=N)},O=()=>{l=g-1,l<N&&(l=y)};switch(C.key){case"Home":l=N;break;case"End":l=y;break;case"ArrowRight":a==="horizontal"&&(f?w():O());break;case"ArrowDown":a==="vertical"&&w();break;case"ArrowLeft":a==="horizontal"&&(f?O():w());break;case"ArrowUp":a==="vertical"&&O();break}const de=l%x;m[de].ref.current?.focus()});return o.jsx(Be,{scope:t,disabled:n,direction:s,orientation:a,children:o.jsx(L.Slot,{scope:t,children:o.jsx(I.div,{...i,"data-orientation":a,ref:d,onKeyDown:n?void 0:b})})})}),R="AccordionItem",[Ge,G]=E(R),re=h.forwardRef((r,e)=>{const{__scopeAccordion:t,value:n,...s}=r,a=S(R,t),i=$e(R,t),c=B(t),d=U(),p=n&&i.value.includes(n)||!1,u=a.disabled||r.disabled;return o.jsx(Ge,{scope:t,open:p,disabled:u,triggerId:d,children:o.jsx(Se,{"data-orientation":a.orientation,"data-state":ce(p),...c,...s,ref:e,disabled:u,open:p,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});re.displayName=R;var ne="AccordionHeader",se=h.forwardRef((r,e)=>{const{__scopeAccordion:t,...n}=r,s=S(A,t),a=G(ne,t);return o.jsx(I.h3,{"data-orientation":s.orientation,"data-state":ce(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:e})});se.displayName=ne;var D="AccordionTrigger",ae=h.forwardRef((r,e)=>{const{__scopeAccordion:t,...n}=r,s=S(A,t),a=G(D,t),i=Ve(D,t),c=B(t);return o.jsx(L.ItemSlot,{scope:t,children:o.jsx(Oe,{"aria-disabled":a.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...c,...n,ref:e})})});ae.displayName=D;var ie="AccordionContent",le=h.forwardRef((r,e)=>{const{__scopeAccordion:t,...n}=r,s=S(A,t),a=G(ie,t),i=B(t);return o.jsx(ke,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...i,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...r.style}})});le.displayName=ie;function ce(r){return r?"open":"closed"}var Fe=Z,We=re,Ke=se,Ue=ae,ze=le;function qe(r){const e=_.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let n;return e[2]!==t?(n=o.jsx(Fe,{"data-slot":"accordion",...t}),e[2]=t,e[3]=n):n=e[3],n}function Ye(r){const e=_.c(8);let t,n;e[0]!==r?({className:t,...n}=r,e[0]=r,e[1]=t,e[2]=n):(t=e[1],n=e[2]);let s;e[3]!==t?(s=M("border-b last:border-b-0",t),e[3]=t,e[4]=s):s=e[4];let a;return e[5]!==n||e[6]!==s?(a=o.jsx(We,{"data-slot":"accordion-item",className:s,...n}),e[5]=n,e[6]=s,e[7]=a):a=e[7],a}function Je(r){const e=_.c(11);let t,n,s;e[0]!==r?({className:n,children:t,...s}=r,e[0]=r,e[1]=t,e[2]=n,e[3]=s):(t=e[1],n=e[2],s=e[3]);let a;e[4]!==n?(a=M("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",n),e[4]=n,e[5]=a):a=e[5];let i;e[6]===Symbol.for("react.memo_cache_sentinel")?(i=o.jsx(Ce,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"}),e[6]=i):i=e[6];let c;return e[7]!==t||e[8]!==s||e[9]!==a?(c=o.jsx(Ke,{className:"flex",children:o.jsxs(Ue,{"data-slot":"accordion-trigger",className:a,...s,children:[t,i]})}),e[7]=t,e[8]=s,e[9]=a,e[10]=c):c=e[10],c}function Qe(r){const e=_.c(12);let t,n,s;e[0]!==r?({className:n,children:t,...s}=r,e[0]=r,e[1]=t,e[2]=n,e[3]=s):(t=e[1],n=e[2],s=e[3]);let a;e[4]!==n?(a=M("pt-0 pb-4",n),e[4]=n,e[5]=a):a=e[5];let i;e[6]!==t||e[7]!==a?(i=o.jsx("div",{className:a,children:t}),e[6]=t,e[7]=a,e[8]=i):i=e[8];let c;return e[9]!==s||e[10]!==i?(c=o.jsx(ze,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...s,children:i}),e[9]=s,e[10]=i,e[11]=c):c=e[11],c}function mt(r){const e=_.c(13),{groupedVehicles:t,vehicles:n,isComandancia:s,userCompany:a}=r,i=Ze,c=Xe;let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=x=>{const{vehicle:l}=x;return o.jsx(pe,{href:`/vehicles/status/${l.id}`,children:o.jsxs(je,{className:"h-full transition-all hover:shadow-md",children:[o.jsxs(Ae,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ne,{className:"text-2xl font-bold",children:l.name}),o.jsx(F,{variant:"secondary",className:i(l.status),children:o.jsxs("span",{className:"flex items-center gap-1",children:[c(l.status),l.status==="Operative"?"En Servicio":l.status==="Workshop"?"En Taller":"Fuera de Servicio"]})})]}),o.jsxs(ye,{children:[l.make," ",l.model]})]}),o.jsxs(we,{children:[o.jsxs("p",{className:"mb-2 text-sm text-muted-foreground",children:["PPU: ",l.plate]}),o.jsx(be,{variant:"outline",className:"w-full",children:"Ver Detalles"})]})]})})},e[0]=d):d=e[0];const p=d;let u,f;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=[{title:"Panel Principal",href:"/dashboard"},{title:"Material Mayor",href:"/vehicles/dashboard"},{title:"Estado de Carros",href:"/vehicles/status"}],f=o.jsx(ue,{title:"Estado de Carros"}),e[1]=u,e[2]=f):(u=e[1],f=e[2]);let b;e[3]===Symbol.for("react.memo_cache_sentinel")?(b=o.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Estado de la Flota"}),e[3]=b):b=e[3];const C=s?"Vista General de todas las compañías.":`Vehículos de ${a}`;let j;e[4]!==C?(j=o.jsxs("div",{children:[b,o.jsx("p",{className:"text-muted-foreground",children:C})]}),e[4]=C,e[5]=j):j=e[5];let m;e[6]!==t||e[7]!==s||e[8]!==n?(m=s&&t?o.jsx(qe,{type:"multiple",className:"w-full space-y-4",children:Object.entries(t).map((x,l)=>{const[N,y]=x;return o.jsxs(Ye,{value:N,className:"rounded-lg border px-4",children:[o.jsx(Je,{className:"py-4 hover:no-underline",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-lg font-semibold",children:N}),o.jsxs(F,{variant:"outline",children:[y.length," ","Unidades"]})]})}),o.jsx(Qe,{className:"pt-4 pb-4",children:o.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:y.map(w=>o.jsx(p,{vehicle:w},w.id))})})]},N)})}):o.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:n?.map(x=>o.jsx(p,{vehicle:x},x.id))}),e[6]=t,e[7]=s,e[8]=n,e[9]=m):m=e[9];let g;return e[10]!==j||e[11]!==m?(g=o.jsxs(ge,{breadcrumbs:u,children:[f,o.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[j,m]})]}),e[10]=j,e[11]=m,e[12]=g):g=e[12],g}function Xe(r){switch(r){case"Operative":return o.jsx(Ie,{className:"h-4 w-4 text-green-600"});case"Workshop":return o.jsx(ve,{className:"h-4 w-4 text-yellow-600"});case"Out of Service":return o.jsx(_e,{className:"h-4 w-4 text-red-600"});default:return null}}function Ze(r){switch(r){case"Operative":return"bg-green-100 text-green-800 hover:bg-green-100";case"Workshop":return"bg-yellow-100 text-yellow-800 hover:bg-yellow-100";case"Out of Service":return"bg-red-100 text-red-800 hover:bg-red-100";default:return"bg-gray-100 text-gray-800"}}export{mt as default};
