import{c as k,b as z,j as s,L as y,H as P,a as w}from"./app-lrD-X_g2.js";import{B as A}from"./badge-CNMh2flQ.js";import{B as T,f as D}from"./button-C30YfVAU.js";import{C as E,a as F,b as I,c as L}from"./card-CeLWOmyr.js";import{a as $,b as q,d as V,c as G,S as J}from"./select-CyJ-A37M.js";import{b as H,e as l,a as K,c as x,T as M,d as O}from"./table-cRJ9TjCv.js";import{S as Q,A as U}from"./app-layout-B-w059ge.js";import{P as W}from"./plus-DUGX3CSH.js";/* empty css            */import"./index-zozu2mmz.js";import"./index-D28iW8MQ.js";import"./index-BxHzOl0z.js";import"./chevron-down-DC4OJ025.js";import"./check-KNjNtnR0.js";import"./index-C4J_hXM0.js";import"./shield-DP_TgMF-.js";const X=[{title:"Vehículos",href:"/vehicles/status"},{title:"Checklists",href:"/vehicles/checklists"}];function pe(t){const e=k.c(29),{checklists:r,vehicles:C,filters:R}=t,{auth:f}=z().props,B=ee;let j;e[0]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(P,{title:"Historial Checklists"}),e[0]=j):j=e[0];let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Historial de Checklists"}),s.jsx("p",{className:"text-muted-foreground",children:"Registro de revisiones preventivas."})]}),e[1]=u):u=e[1];const N=R.vehicle_id||"all";let p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx($,{children:s.jsx(q,{placeholder:"Filtrar por Vehículo"})}),e[2]=p):p=e[2];let v;e[3]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(V,{value:"all",children:"Todos los Vehículos"}),e[3]=v):v=e[3];let a;e[4]!==C?(a=C.map(Z),e[4]=C,e[5]=a):a=e[5];let i;e[6]!==a?(i=s.jsxs(G,{children:[v,a]}),e[6]=a,e[7]=i):i=e[7];let c;e[8]!==N||e[9]!==i?(c=s.jsx("div",{className:"w-[200px]",children:s.jsxs(J,{value:N,onValueChange:B,children:[p,i]})}),e[8]=N,e[9]=i,e[10]=c):c=e[10];let n;e[11]!==f.user.role?(n=(f.user.role==="admin"||f.user.role==="capitan")&&s.jsx(y,{href:"/vehicles/checklist-items",children:s.jsxs(T,{variant:"outline",children:[s.jsx(Q,{className:"mr-2 size-4"}),"Configurar"]})}),e[11]=f.user.role,e[12]=n):n=e[12];let g;e[13]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(y,{href:"/vehicles/checklists/create",children:s.jsxs(T,{children:[s.jsx(W,{className:"mr-2 size-4"}),"Nuevo Checklist"]})}),e[13]=g):g=e[13];let o;e[14]!==c||e[15]!==n?(o=s.jsxs("div",{className:"flex items-center justify-between",children:[u,s.jsxs("div",{className:"flex gap-2",children:[c,n,g]})]}),e[14]=c,e[15]=n,e[16]=o):o=e[16];let _;e[17]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(E,{children:s.jsx(F,{children:"Registros"})}),e[17]=_):_=e[17];let b;e[18]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(K,{children:s.jsxs(H,{children:[s.jsx(x,{children:"ID"}),s.jsx(x,{children:"Fecha"}),s.jsx(x,{children:"Vehículo"}),s.jsx(x,{children:"Realizado Por"}),s.jsx(x,{children:"Estado"}),s.jsx(x,{className:"text-right",children:"Acciones"})]})}),e[18]=b):b=e[18];let d;e[19]!==r.data?(d=r.data.map(Y),e[19]=r.data,e[20]=d):d=e[20];let h;e[21]!==r.data.length?(h=r.data.length===0&&s.jsx(H,{children:s.jsx(l,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No hay registros encontrados."})}),e[21]=r.data.length,e[22]=h):h=e[22];let m;e[23]!==d||e[24]!==h?(m=s.jsxs(I,{children:[_,s.jsx(L,{children:s.jsxs(M,{children:[b,s.jsxs(O,{children:[d,h]})]})})]}),e[23]=d,e[24]=h,e[25]=m):m=e[25];let S;return e[26]!==o||e[27]!==m?(S=s.jsxs(U,{breadcrumbs:X,children:[j,s.jsxs("div",{className:"flex flex-1 flex-col gap-8 p-4",children:[o,m]})]}),e[26]=o,e[27]=m,e[28]=S):S=e[28],S}function Y(t){return s.jsxs(H,{children:[s.jsxs(l,{className:"font-medium",children:["#",t.id]}),s.jsx(l,{children:D(t.created_at)}),s.jsxs(l,{children:[s.jsx("div",{className:"font-medium",children:t.vehicle.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:t.vehicle.company})]}),s.jsx(l,{children:t.user.name}),s.jsx(l,{children:s.jsx(A,{variant:t.status==="Completed"?"default":"secondary",children:t.status})}),s.jsx(l,{className:"text-right",children:s.jsx(y,{href:`/vehicles/checklists/${t.id}`,children:s.jsx(T,{variant:"ghost",size:"sm",children:"Ver Detalles"})})})]},t.id)}function Z(t){return s.jsx(V,{value:t.id.toString(),children:t.name},t.id)}function ee(t){w.get("/vehicles/checklists",{vehicle_id:t==="all"?void 0:t},{preserveState:!0,replace:!0})}export{pe as default};
