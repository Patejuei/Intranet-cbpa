import{c as oe,r as ce,u as me,j as t,H as de}from"./app-BzTiI1vx.js";import{l as ue,A as fe}from"./app-layout-nP07Hnxr.js";import{c as ae}from"./createLucideIcon-BwNl2ouA.js";import{S as xe}from"./save-7iWZngaE.js";/* empty css            */import"./index-Cc9F1Pjn.js";import"./index-BiALZKL6.js";import"./index-C4J_hXM0.js";import"./shield-Dgb1-bwJ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],be=ae("CircleArrowDown",pe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],he=ae("CircleArrowUp",ge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ye=ae("History",je);function Ee(r){const e=oe.c(87),{logs:L}=r,[E,ne]=ce.useState("ALTA");let T;e[0]===Symbol.for("react.memo_cache_sentinel")?(T={item_name:"",brand:"",model:"",serial_number:"",type:"ALTA",reason:"",status:"PENDIENTE",document:null},e[0]=T):T=e[0];const{data:i,setData:s,post:Q,processing:W,reset:Y,errors:D}=me(T);let R;e[1]!==Q||e[2]!==Y?(R=l=>{l.preventDefault(),Q("/equipment",{onSuccess:()=>Y()})},e[1]=Q,e[2]=Y,e[3]=R):R=e[3];const Z=R;let H;e[4]!==s?(H=l=>{ne(l),s("type",l)},e[4]=s,e[5]=H):H=e[5];const a=H;let q,z;e[6]===Symbol.for("react.memo_cache_sentinel")?(q=[{title:"Panel Principal",href:"/dashboard"},{title:"Material Menor",href:"/equipment"}],z=t.jsx(de,{title:"Gestión Material Menor"}),e[6]=q,e[7]=z):(q=e[6],z=e[7]);let $;e[8]===Symbol.for("react.memo_cache_sentinel")?($=t.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[t.jsx(ue,{className:"size-5 text-primary"}),t.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Registro de Material"})]}),e[8]=$):$=e[8];let n;e[9]!==a?(n=()=>a("ALTA"),e[9]=a,e[10]=n):n=e[10];const ee=`flex-1 rounded-md px-3 py-1.5 text-sm font-medium transition-all ${E==="ALTA"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`;let B;e[11]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx(he,{className:"size-4"})," Alta"]}),e[11]=B):B=e[11];let o;e[12]!==n||e[13]!==ee?(o=t.jsx("button",{onClick:n,className:ee,children:B}),e[12]=n,e[13]=ee,e[14]=o):o=e[14];let c;e[15]!==a?(c=()=>a("BAJA"),e[15]=a,e[16]=c):c=e[16];const te=`flex-1 rounded-md px-3 py-1.5 text-sm font-medium transition-all ${E==="BAJA"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`;let P;e[17]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx(be,{className:"size-4"})," Baja"]}),e[17]=P):P=e[17];let m;e[18]!==c||e[19]!==te?(m=t.jsx("button",{onClick:c,className:te,children:P}),e[18]=c,e[19]=te,e[20]=m):m=e[20];let d;e[21]!==o||e[22]!==m?(d=t.jsxs("div",{className:"mb-6 flex gap-2 rounded-lg bg-muted p-1",children:[o,m]}),e[21]=o,e[22]=m,e[23]=d):d=e[23];let I;e[24]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Nombre del Material"}),e[24]=I):I=e[24];let u;e[25]!==s?(u=l=>s("item_name",l.target.value),e[25]=s,e[26]=u):u=e[26];let f;e[27]!==i.item_name||e[28]!==u?(f=t.jsx("input",{type:"text",value:i.item_name,onChange:u,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:"Ej: Pitón Protek, Hacha...",required:!0}),e[27]=i.item_name,e[28]=u,e[29]=f):f=e[29];let x;e[30]!==D.item_name?(x=D.item_name&&t.jsx("p",{className:"mt-1 text-xs text-destructive",children:D.item_name}),e[30]=D.item_name,e[31]=x):x=e[31];let p;e[32]!==f||e[33]!==x?(p=t.jsxs("div",{children:[I,f,x]}),e[32]=f,e[33]=x,e[34]=p):p=e[34];let J;e[35]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Marca"}),e[35]=J):J=e[35];const se=i.brand||"";let b;e[36]!==s?(b=l=>s("brand",l.target.value),e[36]=s,e[37]=b):b=e[37];let g;e[38]!==se||e[39]!==b?(g=t.jsxs("div",{children:[J,t.jsx("input",{type:"text",value:se,onChange:b,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:"Ej: Rosenbauer"})]}),e[38]=se,e[39]=b,e[40]=g):g=e[40];let O;e[41]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Modelo"}),e[41]=O):O=e[41];const le=i.model||"";let h;e[42]!==s?(h=l=>s("model",l.target.value),e[42]=s,e[43]=h):h=e[43];let j;e[44]!==le||e[45]!==h?(j=t.jsxs("div",{children:[O,t.jsx("input",{type:"text",value:le,onChange:h,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:"Ej: Hercul-X"})]}),e[44]=le,e[45]=h,e[46]=j):j=e[46];let y;e[47]!==g||e[48]!==j?(y=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g,j]}),e[47]=g,e[48]=j,e[49]=y):y=e[49];let U;e[50]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Número de Serie / Inventario"}),e[50]=U):U=e[50];let v;e[51]!==s?(v=l=>s("serial_number",l.target.value),e[51]=s,e[52]=v):v=e[52];let N;e[53]!==i.serial_number||e[54]!==v?(N=t.jsxs("div",{children:[U,t.jsx("input",{type:"text",value:i.serial_number,onChange:v,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:"Opcional"})]}),e[53]=i.serial_number,e[54]=v,e[55]=N):N=e[55];let F;e[56]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Motivo / Descripción"}),e[56]=F):F=e[56];let _;e[57]!==s?(_=l=>s("reason",l.target.value),e[57]=s,e[58]=_):_=e[58];const re=E==="ALTA"?"Detalles de la adquisición...":"Razón de la baja (daño, pérdida, etc)...";let k;e[59]!==i.reason||e[60]!==_||e[61]!==re?(k=t.jsxs("div",{children:[F,t.jsx("textarea",{value:i.reason,onChange:_,className:"min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:re})]}),e[59]=i.reason,e[60]=_,e[61]=re,e[62]=k):k=e[62];let G;e[63]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Documento de Respaldo (Opcional)"}),e[63]=G):G=e[63];let A;e[64]!==s?(A=t.jsxs("div",{children:[G,t.jsx("input",{type:"file",onChange:l=>s("document",l.target.files?l.target.files[0]:null),className:"w-full cursor-pointer rounded-md border border-input bg-background px-3 py-2 text-sm file:mr-4 file:rounded-full file:border-0 file:bg-primary/10 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-primary hover:file:bg-primary/20",accept:".pdf,.jpg,.png,.jpeg"})]}),e[64]=s,e[65]=A):A=e[65];let V;e[66]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(xe,{className:"size-4"}),e[66]=V):V=e[66];const ie=E==="ALTA"?"Alta":"Baja";let w;e[67]!==W||e[68]!==ie?(w=t.jsxs("button",{type:"submit",disabled:W,className:"flex h-10 w-full items-center justify-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90",children:[V,"Registrar"," ",ie]}),e[67]=W,e[68]=ie,e[69]=w):w=e[69];let S;e[70]!==Z||e[71]!==p||e[72]!==y||e[73]!==N||e[74]!==k||e[75]!==A||e[76]!==w?(S=t.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[p,y,N,k,A,w]}),e[70]=Z,e[71]=p,e[72]=y,e[73]=N,e[74]=k,e[75]=A,e[76]=w,e[77]=S):S=e[77];let M;e[78]!==d||e[79]!==S?(M=t.jsxs("div",{className:"rounded-xl border bg-card p-6 shadow-sm",children:[$,d,S]}),e[78]=d,e[79]=S,e[80]=M):M=e[80];let X;e[81]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsxs("div",{className:"mb-6 flex items-center gap-2 text-primary",children:[t.jsx(ye,{className:"size-5"}),t.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Historial de Movimientos"})]}),e[81]=X):X=e[81];let C;e[82]!==L?(C=t.jsxs("div",{className:"flex max-h-[600px] flex-col overflow-hidden rounded-xl border bg-card p-6 shadow-sm",children:[X,t.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:L.length===0?t.jsx("p",{className:"py-8 text-center text-muted-foreground",children:"No hay registros recientes."}):t.jsx("div",{className:"space-y-4",children:L.map(ve)})})]}),e[82]=L,e[83]=C):C=e[83];let K;return e[84]!==M||e[85]!==C?(K=t.jsxs(fe,{breadcrumbs:q,children:[z,t.jsx("div",{className:"flex flex-col gap-6 p-4",children:t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[M,C]})})]}),e[84]=M,e[85]=C,e[86]=K):K=e[86],K}function ve(r){return t.jsxs("div",{className:"rounded-lg border bg-muted/30 p-3 transition-colors hover:bg-muted/50",children:[t.jsxs("div",{className:"mb-1 flex items-start justify-between",children:[t.jsx("span",{className:"font-semibold",children:r.item_name}),t.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${r.type==="ALTA"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:r.type})]}),t.jsxs("p",{className:"mb-1 text-sm text-muted-foreground",children:[r.serial_number&&t.jsxs("span",{className:"mr-2",children:["S/N: ",r.serial_number]}),"Recorded by ",r.user.name]}),r.reason&&t.jsxs("p",{className:"border-l-2 border-primary/30 pl-2 text-sm italic",children:['"',r.reason,'"']}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(r.created_at).toLocaleString()}),t.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase",children:r.status})]})]},r.id)}export{Ee as default};
