import{r as c,c as U,j as s,u as _t,H as Nt,L as Pt}from"./app-f77woEWo.js";import{b as Ce,a as Y,u as Xe,d as Rt,B as ve}from"./button-BUox-IYX.js";import{u as le,R as Et,P as kt,O as It,C as At,c as Ye,a as Ze,b as Ot,d as Mt,h as Ft,e as Dt,f as $t,F as Tt,D as Lt,g as qt,i as zt,j as et,A as Kt}from"./app-layout-B4XzD86h.js";import{P as W}from"./index-CE2_aldF.js";import{S as Vt}from"./search-CsxSDLNZ.js";import{I as tt}from"./input-BD7Eroi9.js";import{L as ge}from"./label-P30CEsyl.js";import{c as Bt,a as ye,u as Gt,P as rt}from"./index-BJkESKFP.js";import{S as Ht,a as Ut,b as Wt,c as Qt,d as H}from"./select-CUASvSPl.js";import{C as at}from"./check-DZ06pTr0.js";import{P as Jt}from"./plus-DxwsFPlv.js";import{S as Xt}from"./save-CRxZ0H0S.js";import{T as Yt}from"./trash-Bps6EIIV.js";/* empty css            */import"./index-C4J_hXM0.js";import"./shield-R2tHue2s.js";import"./index-CPAQGPCJ.js";var We=1,Zt=.9,er=.8,tr=.17,Oe=.1,Me=.999,rr=.9999,ar=.99,lr=/[\\\/_+.#"@\[\(\{&]/,or=/[\\\/_+.#"@\[\(\{&]/g,nr=/[\s-]/,lt=/[\s-]/g;function De(r,e,t,n,a,o,l){if(o===e.length)return a===r.length?We:ar;var d=`${a},${o}`;if(l[d]!==void 0)return l[d];for(var v=n.charAt(o),u=t.indexOf(v,a),f=0,h,C,y,E;u>=0;)h=De(r,e,t,n,u+1,o+1,l),h>f&&(u===a?h*=We:lr.test(r.charAt(u-1))?(h*=er,y=r.slice(a,u-1).match(or),y&&a>0&&(h*=Math.pow(Me,y.length))):nr.test(r.charAt(u-1))?(h*=Zt,E=r.slice(a,u-1).match(lt),E&&a>0&&(h*=Math.pow(Me,E.length))):(h*=tr,a>0&&(h*=Math.pow(Me,u-a))),r.charAt(u)!==e.charAt(o)&&(h*=rr)),(h<Oe&&t.charAt(u-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&t.charAt(u-1)!==n.charAt(o))&&(C=De(r,e,t,n,u+1,o+2,l),C*Oe>h&&(h=C*Oe)),h>f&&(f=h),u=t.indexOf(v,u+1);return l[d]=f,f}function Qe(r){return r.toLowerCase().replace(lt," ")}function sr(r,e,t){return r=t&&t.length>0?`${r+" "+t.join(" ")}`:r,De(r,e,Qe(r),Qe(e),0,0,{})}var be='[cmdk-group=""]',Fe='[cmdk-group-items=""]',ir='[cmdk-group-heading=""]',ot='[cmdk-item=""]',Je=`${ot}:not([aria-disabled="true"])`,$e="cmdk-item-select",pe="data-value",cr=(r,e,t)=>sr(r,e,t),nt=c.createContext(void 0),je=()=>c.useContext(nt),st=c.createContext(void 0),Te=()=>c.useContext(st),it=c.createContext(void 0),ct=c.forwardRef((r,e)=>{let t=he(()=>{var i,p;return{search:"",value:(p=(i=r.value)!=null?i:r.defaultValue)!=null?p:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=he(()=>new Set),a=he(()=>new Map),o=he(()=>new Map),l=he(()=>new Set),d=dt(r),{label:v,children:u,value:f,onValueChange:h,filter:C,shouldFilter:y,loop:E,disablePointerSelection:T=!1,vimBindings:N=!0,...A}=r,O=le(),q=le(),F=le(),P=c.useRef(null),b=yr();oe(()=>{if(f!==void 0){let i=f.trim();t.current.value=i,S.emit()}},[f]),oe(()=>{b(6,re)},[]);let S=c.useMemo(()=>({subscribe:i=>(l.current.add(i),()=>l.current.delete(i)),snapshot:()=>t.current,setState:(i,p,g)=>{var m,x,j,R;if(!Object.is(t.current[i],p)){if(t.current[i]=p,i==="search")Z(),k(),b(1,I);else if(i==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let _=document.getElementById(F);_?_.focus():(m=document.getElementById(O))==null||m.focus()}if(b(7,()=>{var _;t.current.selectedItemId=(_=L())==null?void 0:_.id,S.emit()}),g||b(5,re),((x=d.current)==null?void 0:x.value)!==void 0){let _=p??"";(R=(j=d.current).onValueChange)==null||R.call(j,_);return}}S.emit()}},emit:()=>{l.current.forEach(i=>i())}}),[]),M=c.useMemo(()=>({value:(i,p,g)=>{var m;p!==((m=o.current.get(i))==null?void 0:m.value)&&(o.current.set(i,{value:p,keywords:g}),t.current.filtered.items.set(i,D(p,g)),b(2,()=>{k(),S.emit()}))},item:(i,p)=>(n.current.add(i),p&&(a.current.has(p)?a.current.get(p).add(i):a.current.set(p,new Set([i]))),b(3,()=>{Z(),k(),t.current.value||I(),S.emit()}),()=>{o.current.delete(i),n.current.delete(i),t.current.filtered.items.delete(i);let g=L();b(4,()=>{Z(),g?.getAttribute("id")===i&&I(),S.emit()})}),group:i=>(a.current.has(i)||a.current.set(i,new Set),()=>{o.current.delete(i),a.current.delete(i)}),filter:()=>d.current.shouldFilter,label:v||r["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:O,inputId:F,labelId:q,listInnerRef:P}),[]);function D(i,p){var g,m;let x=(m=(g=d.current)==null?void 0:g.filter)!=null?m:cr;return i?x(i,t.current.search,p):0}function k(){if(!t.current.search||d.current.shouldFilter===!1)return;let i=t.current.filtered.items,p=[];t.current.filtered.groups.forEach(m=>{let x=a.current.get(m),j=0;x.forEach(R=>{let _=i.get(R);j=Math.max(_,j)}),p.push([m,j])});let g=P.current;z().sort((m,x)=>{var j,R;let _=m.getAttribute("id"),V=x.getAttribute("id");return((j=i.get(V))!=null?j:0)-((R=i.get(_))!=null?R:0)}).forEach(m=>{let x=m.closest(Fe);x?x.appendChild(m.parentElement===x?m:m.closest(`${Fe} > *`)):g.appendChild(m.parentElement===g?m:m.closest(`${Fe} > *`))}),p.sort((m,x)=>x[1]-m[1]).forEach(m=>{var x;let j=(x=P.current)==null?void 0:x.querySelector(`${be}[${pe}="${encodeURIComponent(m[0])}"]`);j?.parentElement.appendChild(j)})}function I(){let i=z().find(g=>g.getAttribute("aria-disabled")!=="true"),p=i?.getAttribute(pe);S.setState("value",p||void 0)}function Z(){var i,p,g,m;if(!t.current.search||d.current.shouldFilter===!1){t.current.filtered.count=n.current.size;return}t.current.filtered.groups=new Set;let x=0;for(let j of n.current){let R=(p=(i=o.current.get(j))==null?void 0:i.value)!=null?p:"",_=(m=(g=o.current.get(j))==null?void 0:g.keywords)!=null?m:[],V=D(R,_);t.current.filtered.items.set(j,V),V>0&&x++}for(let[j,R]of a.current)for(let _ of R)if(t.current.filtered.items.get(_)>0){t.current.filtered.groups.add(j);break}t.current.filtered.count=x}function re(){var i,p,g;let m=L();m&&(((i=m.parentElement)==null?void 0:i.firstChild)===m&&((g=(p=m.closest(be))==null?void 0:p.querySelector(ir))==null||g.scrollIntoView({block:"nearest"})),m.scrollIntoView({block:"nearest"}))}function L(){var i;return(i=P.current)==null?void 0:i.querySelector(`${ot}[aria-selected="true"]`)}function z(){var i;return Array.from(((i=P.current)==null?void 0:i.querySelectorAll(Je))||[])}function B(i){let p=z()[i];p&&S.setState("value",p.getAttribute(pe))}function G(i){var p;let g=L(),m=z(),x=m.findIndex(R=>R===g),j=m[x+i];(p=d.current)!=null&&p.loop&&(j=x+i<0?m[m.length-1]:x+i===m.length?m[0]:m[x+i]),j&&S.setState("value",j.getAttribute(pe))}function Q(i){let p=L(),g=p?.closest(be),m;for(;g&&!m;)g=i>0?xr(g,be):br(g,be),m=g?.querySelector(Je);m?S.setState("value",m.getAttribute(pe)):G(i)}let ae=()=>B(z().length-1),J=i=>{i.preventDefault(),i.metaKey?ae():i.altKey?Q(1):G(1)},X=i=>{i.preventDefault(),i.metaKey?B(0):i.altKey?Q(-1):G(-1)};return c.createElement(W.div,{ref:e,tabIndex:-1,...A,"cmdk-root":"",onKeyDown:i=>{var p;(p=A.onKeyDown)==null||p.call(A,i);let g=i.nativeEvent.isComposing||i.keyCode===229;if(!(i.defaultPrevented||g))switch(i.key){case"n":case"j":{N&&i.ctrlKey&&J(i);break}case"ArrowDown":{J(i);break}case"p":case"k":{N&&i.ctrlKey&&X(i);break}case"ArrowUp":{X(i);break}case"Home":{i.preventDefault(),B(0);break}case"End":{i.preventDefault(),ae();break}case"Enter":{i.preventDefault();let m=L();if(m){let x=new Event($e);m.dispatchEvent(x)}}}}},c.createElement("label",{"cmdk-label":"",htmlFor:M.inputId,id:M.labelId,style:jr},v),Ie(r,i=>c.createElement(st.Provider,{value:S},c.createElement(nt.Provider,{value:M},i))))}),dr=c.forwardRef((r,e)=>{var t,n;let a=le(),o=c.useRef(null),l=c.useContext(it),d=je(),v=dt(r),u=(n=(t=v.current)==null?void 0:t.forceMount)!=null?n:l?.forceMount;oe(()=>{if(!u)return d.item(a,l?.id)},[u]);let f=ut(a,o,[r.value,r.children,o],r.keywords),h=Te(),C=ee(b=>b.value&&b.value===f.current),y=ee(b=>u||d.filter()===!1?!0:b.search?b.filtered.items.get(a)>0:!0);c.useEffect(()=>{let b=o.current;if(!(!b||r.disabled))return b.addEventListener($e,E),()=>b.removeEventListener($e,E)},[y,r.onSelect,r.disabled]);function E(){var b,S;T(),(S=(b=v.current).onSelect)==null||S.call(b,f.current)}function T(){h.setState("value",f.current,!0)}if(!y)return null;let{disabled:N,value:A,onSelect:O,forceMount:q,keywords:F,...P}=r;return c.createElement(W.div,{ref:Ce(o,e),...P,id:a,"cmdk-item":"",role:"option","aria-disabled":!!N,"aria-selected":!!C,"data-disabled":!!N,"data-selected":!!C,onPointerMove:N||d.getDisablePointerSelection()?void 0:T,onClick:N?void 0:E},r.children)}),ur=c.forwardRef((r,e)=>{let{heading:t,children:n,forceMount:a,...o}=r,l=le(),d=c.useRef(null),v=c.useRef(null),u=le(),f=je(),h=ee(y=>a||f.filter()===!1?!0:y.search?y.filtered.groups.has(l):!0);oe(()=>f.group(l),[]),ut(l,d,[r.value,r.heading,v]);let C=c.useMemo(()=>({id:l,forceMount:a}),[a]);return c.createElement(W.div,{ref:Ce(d,e),...o,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},t&&c.createElement("div",{ref:v,"cmdk-group-heading":"","aria-hidden":!0,id:u},t),Ie(r,y=>c.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?u:void 0},c.createElement(it.Provider,{value:C},y))))}),mr=c.forwardRef((r,e)=>{let{alwaysRender:t,...n}=r,a=c.useRef(null),o=ee(l=>!l.search);return!t&&!o?null:c.createElement(W.div,{ref:Ce(a,e),...n,"cmdk-separator":"",role:"separator"})}),fr=c.forwardRef((r,e)=>{let{onValueChange:t,...n}=r,a=r.value!=null,o=Te(),l=ee(u=>u.search),d=ee(u=>u.selectedItemId),v=je();return c.useEffect(()=>{r.value!=null&&o.setState("search",r.value)},[r.value]),c.createElement(W.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":v.listId,"aria-labelledby":v.labelId,"aria-activedescendant":d,id:v.inputId,type:"text",value:a?r.value:l,onChange:u=>{a||o.setState("search",u.target.value),t?.(u.target.value)}})}),pr=c.forwardRef((r,e)=>{let{children:t,label:n="Suggestions",...a}=r,o=c.useRef(null),l=c.useRef(null),d=ee(u=>u.selectedItemId),v=je();return c.useEffect(()=>{if(l.current&&o.current){let u=l.current,f=o.current,h,C=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let y=u.offsetHeight;f.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return C.observe(u),()=>{cancelAnimationFrame(h),C.unobserve(u)}}},[]),c.createElement(W.div,{ref:Ce(o,e),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":n,id:v.listId},Ie(r,u=>c.createElement("div",{ref:Ce(l,v.listInnerRef),"cmdk-list-sizer":""},u)))}),hr=c.forwardRef((r,e)=>{let{open:t,onOpenChange:n,overlayClassName:a,contentClassName:o,container:l,...d}=r;return c.createElement(Et,{open:t,onOpenChange:n},c.createElement(kt,{container:l},c.createElement(It,{"cmdk-overlay":"",className:a}),c.createElement(At,{"aria-label":r.label,"cmdk-dialog":"",className:o},c.createElement(ct,{ref:e,...d}))))}),vr=c.forwardRef((r,e)=>ee(t=>t.filtered.count===0)?c.createElement(W.div,{ref:e,...r,"cmdk-empty":"",role:"presentation"}):null),gr=c.forwardRef((r,e)=>{let{progress:t,children:n,label:a="Loading...",...o}=r;return c.createElement(W.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Ie(r,l=>c.createElement("div",{"aria-hidden":!0},l)))}),$=Object.assign(ct,{List:pr,Item:dr,Input:fr,Group:ur,Separator:mr,Dialog:hr,Empty:vr,Loading:gr});function xr(r,e){let t=r.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function br(r,e){let t=r.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function dt(r){let e=c.useRef(r);return oe(()=>{e.current=r}),e}var oe=typeof window>"u"?c.useEffect:c.useLayoutEffect;function he(r){let e=c.useRef();return e.current===void 0&&(e.current=r()),e}function ee(r){let e=Te(),t=()=>r(e.snapshot());return c.useSyncExternalStore(e.subscribe,t,t)}function ut(r,e,t,n=[]){let a=c.useRef(),o=je();return oe(()=>{var l;let d=(()=>{var u;for(let f of t){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():a.current}})(),v=n.map(u=>u.trim());o.value(r,d,v),(l=e.current)==null||l.setAttribute(pe,d),a.current=d}),a}var yr=()=>{let[r,e]=c.useState(),t=he(()=>new Map);return oe(()=>{t.current.forEach(n=>n()),t.current=new Map},[r]),(n,a)=>{t.current.set(n,a),e({})}};function Cr(r){let e=r.type;return typeof e=="function"?e(r.props):"render"in e?e.render(r.props):r}function Ie({asChild:r,children:e},t){return r&&c.isValidElement(e)?c.cloneElement(Cr(e),{ref:e.ref},t(e.props.children)):t(e)}var jr={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Le=c.forwardRef((r,e)=>{const t=U.c(9);let n,a;t[0]!==r?({className:n,...a}=r,t[0]=r,t[1]=n,t[2]=a):(n=t[1],a=t[2]);let o;t[3]!==n?(o=Y("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),t[3]=n,t[4]=o):o=t[4];let l;return t[5]!==a||t[6]!==e||t[7]!==o?(l=s.jsx($,{ref:e,className:o,...a}),t[5]=a,t[6]=e,t[7]=o,t[8]=l):l=t[8],l});Le.displayName=$.displayName;const qe=c.forwardRef((r,e)=>{const t=U.c(10);let n,a;t[0]!==r?({className:n,...a}=r,t[0]=r,t[1]=n,t[2]=a):(n=t[1],a=t[2]);let o;t[3]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(Vt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),t[3]=o):o=t[3];let l;t[4]!==n?(l=Y("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n),t[4]=n,t[5]=l):l=t[5];let d;return t[6]!==a||t[7]!==e||t[8]!==l?(d=s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o,s.jsx($.Input,{ref:e,className:l,...a})]}),t[6]=a,t[7]=e,t[8]=l,t[9]=d):d=t[9],d});qe.displayName=$.Input.displayName;const ze=c.forwardRef((r,e)=>{const t=U.c(9);let n,a;t[0]!==r?({className:n,...a}=r,t[0]=r,t[1]=n,t[2]=a):(n=t[1],a=t[2]);let o;t[3]!==n?(o=Y("max-h-[300px] overflow-y-auto overflow-x-hidden",n),t[3]=n,t[4]=o):o=t[4];let l;return t[5]!==a||t[6]!==e||t[7]!==o?(l=s.jsx($.List,{ref:e,className:o,...a}),t[5]=a,t[6]=e,t[7]=o,t[8]=l):l=t[8],l});ze.displayName=$.List.displayName;const Ke=c.forwardRef((r,e)=>{const t=U.c(3);let n;return t[0]!==r||t[1]!==e?(n=s.jsx($.Empty,{ref:e,className:"py-6 text-center text-sm",...r}),t[0]=r,t[1]=e,t[2]=n):n=t[2],n});Ke.displayName=$.Empty.displayName;const Ve=c.forwardRef((r,e)=>{const t=U.c(9);let n,a;t[0]!==r?({className:n,...a}=r,t[0]=r,t[1]=n,t[2]=a):(n=t[1],a=t[2]);let o;t[3]!==n?(o=Y("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),t[3]=n,t[4]=o):o=t[4];let l;return t[5]!==a||t[6]!==e||t[7]!==o?(l=s.jsx($.Group,{ref:e,className:o,...a}),t[5]=a,t[6]=e,t[7]=o,t[8]=l):l=t[8],l});Ve.displayName=$.Group.displayName;const Sr=c.forwardRef((r,e)=>{const t=U.c(9);let n,a;t[0]!==r?({className:n,...a}=r,t[0]=r,t[1]=n,t[2]=a):(n=t[1],a=t[2]);let o;t[3]!==n?(o=Y("-mx-1 h-px bg-border",n),t[3]=n,t[4]=o):o=t[4];let l;return t[5]!==a||t[6]!==e||t[7]!==o?(l=s.jsx($.Separator,{ref:e,className:o,...a}),t[5]=a,t[6]=e,t[7]=o,t[8]=l):l=t[8],l});Sr.displayName=$.Separator.displayName;const Be=c.forwardRef((r,e)=>{const t=U.c(9);let n,a;t[0]!==r?({className:n,...a}=r,t[0]=r,t[1]=n,t[2]=a):(n=t[1],a=t[2]);let o;t[3]!==n?(o=Y("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",n),t[3]=n,t[4]=o):o=t[4];let l;return t[5]!==a||t[6]!==e||t[7]!==o?(l=s.jsx($.Item,{ref:e,className:o,...a}),t[5]=a,t[6]=e,t[7]=o,t[8]=l):l=t[8],l});Be.displayName=$.Item.displayName;var Ae="Popover",[mt,ta]=Bt(Ae,[Ye]),Se=Ye(),[wr,te]=mt(Ae),ft=r=>{const{__scopePopover:e,children:t,open:n,defaultOpen:a,onOpenChange:o,modal:l=!1}=r,d=Se(e),v=c.useRef(null),[u,f]=c.useState(!1),[h,C]=Gt({prop:n,defaultProp:a??!1,onChange:o,caller:Ae});return s.jsx(Ot,{...d,children:s.jsx(wr,{scope:e,contentId:le(),triggerRef:v,open:h,onOpenChange:C,onOpenToggle:c.useCallback(()=>C(y=>!y),[C]),hasCustomAnchor:u,onCustomAnchorAdd:c.useCallback(()=>f(!0),[]),onCustomAnchorRemove:c.useCallback(()=>f(!1),[]),modal:l,children:t})})};ft.displayName=Ae;var pt="PopoverAnchor",_r=c.forwardRef((r,e)=>{const{__scopePopover:t,...n}=r,a=te(pt,t),o=Se(t),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=a;return c.useEffect(()=>(l(),()=>d()),[l,d]),s.jsx(Ze,{...o,...n,ref:e})});_r.displayName=pt;var ht="PopoverTrigger",vt=c.forwardRef((r,e)=>{const{__scopePopover:t,...n}=r,a=te(ht,t),o=Se(t),l=Xe(e,a.triggerRef),d=s.jsx(W.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Ct(a.open),...n,ref:l,onClick:ye(r.onClick,a.onOpenToggle)});return a.hasCustomAnchor?d:s.jsx(Ze,{asChild:!0,...o,children:d})});vt.displayName=ht;var Ge="PopoverPortal",[Nr,Pr]=mt(Ge,{forceMount:void 0}),gt=r=>{const{__scopePopover:e,forceMount:t,children:n,container:a}=r,o=te(Ge,e);return s.jsx(Nr,{scope:e,forceMount:t,children:s.jsx(rt,{present:t||o.open,children:s.jsx(Mt,{asChild:!0,container:a,children:n})})})};gt.displayName=Ge;var xe="PopoverContent",xt=c.forwardRef((r,e)=>{const t=Pr(xe,r.__scopePopover),{forceMount:n=t.forceMount,...a}=r,o=te(xe,r.__scopePopover);return s.jsx(rt,{present:n||o.open,children:o.modal?s.jsx(Er,{...a,ref:e}):s.jsx(kr,{...a,ref:e})})});xt.displayName=xe;var Rr=Rt("PopoverContent.RemoveScroll"),Er=c.forwardRef((r,e)=>{const t=te(xe,r.__scopePopover),n=c.useRef(null),a=Xe(e,n),o=c.useRef(!1);return c.useEffect(()=>{const l=n.current;if(l)return Ft(l)},[]),s.jsx(Dt,{as:Rr,allowPinchZoom:!0,children:s.jsx(bt,{...r,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(r.onCloseAutoFocus,l=>{l.preventDefault(),o.current||t.triggerRef.current?.focus()}),onPointerDownOutside:ye(r.onPointerDownOutside,l=>{const d=l.detail.originalEvent,v=d.button===0&&d.ctrlKey===!0,u=d.button===2||v;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ye(r.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),kr=c.forwardRef((r,e)=>{const t=te(xe,r.__scopePopover),n=c.useRef(!1),a=c.useRef(!1);return s.jsx(bt,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{r.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||t.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{r.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;t.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),bt=c.forwardRef((r,e)=>{const{__scopePopover:t,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:v,onFocusOutside:u,onInteractOutside:f,...h}=r,C=te(xe,t),y=Se(t);return $t(),s.jsx(Tt,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(Lt,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:f,onEscapeKeyDown:d,onPointerDownOutside:v,onFocusOutside:u,onDismiss:()=>C.onOpenChange(!1),children:s.jsx(qt,{"data-state":Ct(C.open),role:"dialog",id:C.contentId,...y,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),yt="PopoverClose",Ir=c.forwardRef((r,e)=>{const{__scopePopover:t,...n}=r,a=te(yt,t);return s.jsx(W.button,{type:"button",...n,ref:e,onClick:ye(r.onClick,()=>a.onOpenChange(!1))})});Ir.displayName=yt;var Ar="PopoverArrow",Or=c.forwardRef((r,e)=>{const{__scopePopover:t,...n}=r,a=Se(t);return s.jsx(zt,{...a,...n,ref:e})});Or.displayName=Ar;function Ct(r){return r?"open":"closed"}var Mr=ft,Fr=vt,Dr=gt,jt=xt;const St=Mr,wt=Fr,He=c.forwardRef((r,e)=>{const t=U.c(13);let n,a,o,l;t[0]!==r?({className:n,align:o,sideOffset:l,...a}=r,t[0]=r,t[1]=n,t[2]=a,t[3]=o,t[4]=l):(n=t[1],a=t[2],o=t[3],l=t[4]);const d=o===void 0?"center":o,v=l===void 0?4:l;let u;t[5]!==n?(u=Y("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),t[5]=n,t[6]=u):u=t[6];let f;return t[7]!==d||t[8]!==a||t[9]!==e||t[10]!==v||t[11]!==u?(f=s.jsx(Dr,{children:s.jsx(jt,{ref:e,align:d,sideOffset:v,className:u,...a})}),t[7]=d,t[8]=a,t[9]=e,t[10]=v,t[11]=u,t[12]=f):f=t[12],f});He.displayName=jt.displayName;function ra(r){const e=U.c(107),{firefighters:t,materials:n}=r;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=new Date().toISOString().split("T"),e[0]=a):a=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o={firefighter_id:"",date:a[0],observations:"",company:"Segunda Compañía",items:[{material_id:"",quantity:1}]},e[1]=o):o=e[1];const{data:l,setData:d,post:v,processing:u,errors:f}=_t(o),[h,C]=c.useState(!1);let y;e[2]!==l.items||e[3]!==d?(y=()=>{d("items",[...l.items,{material_id:"",quantity:1}])},e[2]=l.items,e[3]=d,e[4]=y):y=e[4];const E=y;let T;e[5]!==l.items||e[6]!==d?(T=w=>{const K=[...l.items];K.splice(w,1),d("items",K)},e[5]=l.items,e[6]=d,e[7]=T):T=e[7];const N=T;let A;e[8]!==l.items||e[9]!==d?(A=(w,K,ke)=>{const Ue=[...l.items];Ue[w][K]=ke,d("items",Ue)},e[8]=l.items,e[9]=d,e[10]=A):A=e[10];const O=A;let q;e[11]!==v?(q=w=>{w.preventDefault(),v("/deliveries")},e[11]=v,e[12]=q):q=e[12];const F=q;let P,b;e[13]===Symbol.for("react.memo_cache_sentinel")?(P=[{title:"Actas de Entrega",href:"/deliveries"},{title:"Nueva Acta",href:"/deliveries/create"}],b=s.jsx(Nt,{title:"Nueva Acta de Entrega"}),e[13]=P,e[14]=b):(P=e[13],b=e[14]);let S;e[15]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Nueva Acta de Entrega"}),s.jsx("p",{className:"text-muted-foreground",children:"Registre la entrega de material a un voluntario."})]}),e[15]=S):S=e[15];let M;e[16]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx(ge,{children:"Bombero Receptor"}),e[16]=M):M=e[16];let D;e[17]!==l.firefighter_id||e[18]!==t?(D=l.firefighter_id?t.find(w=>w.id.toString()===l.firefighter_id)?.full_name:"Seleccione bombero...",e[17]=l.firefighter_id,e[18]=t,e[19]=D):D=e[19];let k;e[20]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(et,{className:"opacity-50"}),e[20]=k):k=e[20];let I;e[21]!==h||e[22]!==D?(I=s.jsx(wt,{asChild:!0,children:s.jsxs(ve,{variant:"outline",role:"combobox","aria-expanded":h,className:"w-full justify-between",children:[D,k]})}),e[21]=h,e[22]=D,e[23]=I):I=e[23];let Z;e[24]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(qe,{placeholder:"Buscar bombero..."}),e[24]=Z):Z=e[24];let re;e[25]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(Ke,{children:"No se encontró bombero."}),e[25]=re):re=e[25];let L;if(e[26]!==l.firefighter_id||e[27]!==t||e[28]!==d){let w;e[30]!==l.firefighter_id||e[31]!==d?(w=K=>s.jsxs(Be,{value:K.full_name,onSelect:()=>{d("firefighter_id",K.id.toString()),C(!1)},children:[K.full_name,s.jsx(at,{className:Y("ml-auto",l.firefighter_id===K.id.toString()?"opacity-100":"opacity-0")})]},K.id),e[30]=l.firefighter_id,e[31]=d,e[32]=w):w=e[32],L=t.map(w),e[26]=l.firefighter_id,e[27]=t,e[28]=d,e[29]=L}else L=e[29];let z;e[33]!==L?(z=s.jsx(He,{className:"w-[--radix-popover-trigger-width] p-0",children:s.jsxs(Le,{children:[Z,s.jsxs(ze,{children:[re,s.jsx(Ve,{children:L})]})]})}),e[33]=L,e[34]=z):z=e[34];let B;e[35]!==h||e[36]!==I||e[37]!==z?(B=s.jsxs(St,{open:h,onOpenChange:C,children:[I,z]}),e[35]=h,e[36]=I,e[37]=z,e[38]=B):B=e[38];let G;e[39]!==f.firefighter_id?(G=f.firefighter_id&&s.jsx("p",{className:"text-sm text-red-500",children:f.firefighter_id}),e[39]=f.firefighter_id,e[40]=G):G=e[40];let Q;e[41]!==B||e[42]!==G?(Q=s.jsxs("div",{className:"flex flex-col gap-2",children:[M,B,G]}),e[41]=B,e[42]=G,e[43]=Q):Q=e[43];let ae;e[44]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx(ge,{htmlFor:"date",children:"Fecha"}),e[44]=ae):ae=e[44];let J;e[45]!==d?(J=w=>d("date",w.target.value),e[45]=d,e[46]=J):J=e[46];let X;e[47]!==l.date||e[48]!==J?(X=s.jsx(tt,{id:"date",type:"date",value:l.date,onChange:J,required:!0}),e[47]=l.date,e[48]=J,e[49]=X):X=e[49];let i;e[50]!==f.date?(i=f.date&&s.jsx("p",{className:"text-sm text-red-500",children:f.date}),e[50]=f.date,e[51]=i):i=e[51];let p;e[52]!==X||e[53]!==i?(p=s.jsxs("div",{className:"grid gap-2",children:[ae,X,i]}),e[52]=X,e[53]=i,e[54]=p):p=e[54];let g;e[55]!==Q||e[56]!==p?(g=s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[Q,p]}),e[55]=Q,e[56]=p,e[57]=g):g=e[57];let m;e[58]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(ge,{htmlFor:"company",children:"Compañía"}),e[58]=m):m=e[58];let x;e[59]!==d?(x=w=>d("company",w),e[59]=d,e[60]=x):x=e[60];let j;e[61]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(Ut,{className:"w-full",children:s.jsx(Wt,{placeholder:"Seleccione Compañía"})}),e[61]=j):j=e[61];let R;e[62]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsxs(Qt,{children:[s.jsx(H,{value:"Primera Compañía",children:"Primera Compañía"}),s.jsx(H,{value:"Segunda Compañía",children:"Segunda Compañía"}),s.jsx(H,{value:"Tercera Compañía",children:"Tercera Compañía"}),s.jsx(H,{value:"Cuarta Compañía",children:"Cuarta Compañía"}),s.jsx(H,{value:"Quinta Compañía",children:"Quinta Compañía"}),s.jsx(H,{value:"Séptima Compañía",children:"Séptima Compañía"}),s.jsx(H,{value:"Octava Compañía",children:"Octava Compañía"}),s.jsx(H,{value:"Novena Compañía",children:"Novena Compañía"}),s.jsx(H,{value:"Décima Compañía",children:"Décima Compañía"}),s.jsx(H,{value:"Comandancia",children:"Comandancia"})]}),e[62]=R):R=e[62];let _;e[63]!==l.company||e[64]!==x?(_=s.jsxs("div",{className:"grid gap-2",children:[m,s.jsxs(Ht,{value:l.company,onValueChange:x,children:[j,R]})]}),e[63]=l.company,e[64]=x,e[65]=_):_=e[65];let V;e[66]!==g||e[67]!==_?(V=s.jsxs("div",{className:"grid gap-4 rounded-xl border bg-card p-6 shadow-sm",children:[g,_]}),e[66]=g,e[67]=_,e[68]=V):V=e[68];let we;e[69]===Symbol.for("react.memo_cache_sentinel")?(we=s.jsx("h3",{className:"text-lg font-semibold",children:"Materiales"}),e[69]=we):we=e[69];let _e;e[70]===Symbol.for("react.memo_cache_sentinel")?(_e=s.jsx(Jt,{className:"mr-2 size-4"}),e[70]=_e):_e=e[70];let ne;e[71]!==E?(ne=s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[we,s.jsxs(ve,{type:"button",variant:"outline",size:"sm",onClick:E,children:[_e," Agregar Item"]})]}),e[71]=E,e[72]=ne):ne=e[72];let se;if(e[73]!==l.items||e[74]!==n||e[75]!==N||e[76]!==O){let w;e[78]!==l.items.length||e[79]!==n||e[80]!==N||e[81]!==O?(w=(K,ke)=>s.jsx($r,{item:K,index:ke,materials:n,updateItem:O,removeItem:N,isSingle:l.items.length===1},ke),e[78]=l.items.length,e[79]=n,e[80]=N,e[81]=O,e[82]=w):w=e[82],se=l.items.map(w),e[73]=l.items,e[74]=n,e[75]=N,e[76]=O,e[77]=se}else se=e[77];let ie;e[83]!==se?(ie=s.jsx("div",{className:"space-y-4",children:se}),e[83]=se,e[84]=ie):ie=e[84];let ce;e[85]!==f.items?(ce=f.items&&s.jsx("p",{className:"mt-2 text-sm text-red-500",children:f.items}),e[85]=f.items,e[86]=ce):ce=e[86];let de;e[87]!==ne||e[88]!==ie||e[89]!==ce?(de=s.jsxs("div",{className:"rounded-xl border bg-card p-6 shadow-sm",children:[ne,ie,ce]}),e[87]=ne,e[88]=ie,e[89]=ce,e[90]=de):de=e[90];let Ne;e[91]===Symbol.for("react.memo_cache_sentinel")?(Ne=s.jsx(ge,{htmlFor:"observations",children:"Observaciones"}),e[91]=Ne):Ne=e[91];let ue;e[92]!==d?(ue=w=>d("observations",w.target.value),e[92]=d,e[93]=ue):ue=e[93];let me;e[94]!==l.observations||e[95]!==ue?(me=s.jsxs("div",{className:"grid gap-2 rounded-xl border bg-card p-6 shadow-sm",children:[Ne,s.jsx("textarea",{id:"observations",value:l.observations,onChange:ue,className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50"})]}),e[94]=l.observations,e[95]=ue,e[96]=me):me=e[96];let Pe;e[97]===Symbol.for("react.memo_cache_sentinel")?(Pe=s.jsx(Pt,{href:"/deliveries",children:s.jsx(ve,{type:"button",variant:"outline",children:"Cancelar"})}),e[97]=Pe):Pe=e[97];let Re;e[98]===Symbol.for("react.memo_cache_sentinel")?(Re=s.jsx(Xt,{className:"size-4"}),e[98]=Re):Re=e[98];let fe;e[99]!==u?(fe=s.jsxs("div",{className:"flex justify-end gap-4",children:[Pe,s.jsxs(ve,{type:"submit",disabled:u,className:"gap-2",children:[Re," Guardar Acta"]})]}),e[99]=u,e[100]=fe):fe=e[100];let Ee;return e[101]!==F||e[102]!==V||e[103]!==de||e[104]!==me||e[105]!==fe?(Ee=s.jsxs(Kt,{breadcrumbs:P,children:[b,s.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-6 p-4",children:[S,s.jsxs("form",{onSubmit:F,className:"flex flex-col gap-6",children:[V,de,me,fe]})]})]}),e[101]=F,e[102]=V,e[103]=de,e[104]=me,e[105]=fe,e[106]=Ee):Ee=e[106],Ee}function $r(r){const e=U.c(43),{item:t,index:n,materials:a,updateItem:o,removeItem:l,isSingle:d}=r,[v,u]=c.useState(!1);let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(ge,{children:"Material"}),e[0]=f):f=e[0];let h;e[1]!==t.material_id||e[2]!==a?(h=t.material_id?a.find(k=>k.id.toString()===t.material_id)?.product_name:"Seleccione material...",e[1]=t.material_id,e[2]=a,e[3]=h):h=e[3];let C;e[4]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(et,{className:"opacity-50"}),e[4]=C):C=e[4];let y;e[5]!==v||e[6]!==h?(y=s.jsx(wt,{asChild:!0,children:s.jsxs(ve,{variant:"outline",role:"combobox","aria-expanded":v,className:"w-full justify-between",children:[h,C]})}),e[5]=v,e[6]=h,e[7]=y):y=e[7];let E;e[8]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(qe,{placeholder:"Buscar material..."}),e[8]=E):E=e[8];let T;e[9]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(Ke,{children:"No se encontró material."}),e[9]=T):T=e[9];let N;if(e[10]!==n||e[11]!==t.material_id||e[12]!==a||e[13]!==o){let k;e[15]!==n||e[16]!==t.material_id||e[17]!==o?(k=I=>s.jsxs(Be,{value:I.product_name,onSelect:()=>{o(n,"material_id",I.id.toString()),u(!1)},children:[I.product_name," (",I.stock_quantity," ","disp.)",s.jsx(at,{className:Y("ml-auto",t.material_id===I.id.toString()?"opacity-100":"opacity-0")})]},I.id),e[15]=n,e[16]=t.material_id,e[17]=o,e[18]=k):k=e[18],N=a.map(k),e[10]=n,e[11]=t.material_id,e[12]=a,e[13]=o,e[14]=N}else N=e[14];let A;e[19]!==N?(A=s.jsx(He,{className:"w-[--radix-popover-trigger-width] p-0",children:s.jsxs(Le,{children:[E,s.jsxs(ze,{children:[T,s.jsx(Ve,{children:N})]})]})}),e[19]=N,e[20]=A):A=e[20];let O;e[21]!==v||e[22]!==y||e[23]!==A?(O=s.jsxs("div",{className:"flex flex-1 flex-col gap-2",children:[f,s.jsxs(St,{open:v,onOpenChange:u,children:[y,A]})]}),e[21]=v,e[22]=y,e[23]=A,e[24]=O):O=e[24];let q;e[25]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(ge,{children:"Cantidad"}),e[25]=q):q=e[25];let F;e[26]!==n||e[27]!==o?(F=k=>o(n,"quantity",parseInt(k.target.value)),e[26]=n,e[27]=o,e[28]=F):F=e[28];let P;e[29]!==t.quantity||e[30]!==F?(P=s.jsxs("div",{className:"grid w-32 gap-2",children:[q,s.jsx(tt,{type:"number",min:"1",value:t.quantity,onChange:F,required:!0})]}),e[29]=t.quantity,e[30]=F,e[31]=P):P=e[31];let b;e[32]!==n||e[33]!==l?(b=()=>l(n),e[32]=n,e[33]=l,e[34]=b):b=e[34];let S;e[35]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(Yt,{className:"size-4"}),e[35]=S):S=e[35];let M;e[36]!==d||e[37]!==b?(M=s.jsx(ve,{type:"button",variant:"ghost",size:"icon",className:"text-red-500 hover:bg-red-50 hover:text-red-600",onClick:b,disabled:d,children:S}),e[36]=d,e[37]=b,e[38]=M):M=e[38];let D;return e[39]!==P||e[40]!==M||e[41]!==O?(D=s.jsxs("div",{className:"flex items-end gap-4 border-b pb-4 last:border-0 last:pb-0",children:[O,P,M]}),e[39]=P,e[40]=M,e[41]=O,e[42]=D):D=e[42],D}export{ra as default};
