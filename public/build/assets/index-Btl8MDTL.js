import{c as k,r as A,j as a,a as w,H as L}from"./app-BdiyVtwP.js";import{B as P}from"./button-xAfePOcQ.js";import{C as V,a as z,b as O,c as Q}from"./card-DXh8U64W.js";import{I as U}from"./input-BjaQHf93.js";import{S as $,a as F,b as q,c as G,d as l}from"./select-DOU_d7Pk.js";import{T as I,a as u,b as J,c as T,d as K,e as W}from"./table-DUs4X4Ou.js";import{A as X}from"./app-layout-CSJ5C79X.js";import{S as Y}from"./search-DxV1-ySb.js";import{E as Z}from"./eye-CrLsAbSV.js";/* empty css            */import"./index-CqnVgCet.js";import"./index-BhFFVPsB.js";import"./index-8PdPfJj1.js";import"./check--A3dgnPr.js";import"./index-q7GIQJN5.js";import"./shield-CtYr_qvg.js";const ee=[{title:"Material Menor",href:"/inventory"},{title:"Prendas a Cargo",href:"/assigned-materials"}];function ve(s){const e=k.c(34),{firefighters:r,filters:R,can_filter_company:B}=s,[t,D]=A.useState(R.search||""),[i,M]=A.useState(R.company||"all");let f;e[0]!==i||e[1]!==t?(f=o=>{o&&o.preventDefault(),w.get("/assigned-materials",{search:t,company:i==="all"?void 0:i},{preserveState:!0,preserveScroll:!0})},e[0]=i,e[1]=t,e[2]=f):f=e[2];const H=f;let j;e[3]!==t?(j=o=>{M(o),w.get("/assigned-materials",{search:t,company:o==="all"?void 0:o},{preserveState:!0,preserveScroll:!0})},e[3]=t,e[4]=j):j=e[4];const E=j;let C;e[5]===Symbol.for("react.memo_cache_sentinel")?(C=a.jsx(L,{title:"Prendas a Cargo"}),e[5]=C):C=e[5];let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Bomberos - Prendas a Cargo"}),a.jsx("p",{className:"text-muted-foreground",children:"Seleccione un bombero para ver sus prendas asignadas."})]})}),e[6]=v):v=e[6];let b;e[7]===Symbol.for("react.memo_cache_sentinel")?(b=a.jsx(Y,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[7]=b):b=e[7];let g;e[8]===Symbol.for("react.memo_cache_sentinel")?(g=o=>D(o.target.value),e[8]=g):g=e[8];let n;e[9]!==t?(n=a.jsxs("div",{className:"relative flex-1 md:max-w-sm",children:[b,a.jsx(U,{type:"search",placeholder:"Buscar bombero (Nombre o RUT)...",className:"pl-8",value:t,onChange:g})]}),e[9]=t,e[10]=n):n=e[10];let S;e[11]===Symbol.for("react.memo_cache_sentinel")?(S=a.jsx(P,{type:"submit",variant:"secondary",children:"Buscar"}),e[11]=S):S=e[11];let c;e[12]!==H||e[13]!==n?(c=a.jsxs("form",{onSubmit:H,className:"flex w-full flex-1 gap-2",children:[n,S]}),e[12]=H,e[13]=n,e[14]=c):c=e[14];let m;e[15]!==B||e[16]!==i||e[17]!==E?(m=B&&a.jsx("div",{className:"w-full md:w-[200px]",children:a.jsxs($,{value:i,onValueChange:E,children:[a.jsx(F,{children:a.jsx(q,{placeholder:"Filtrar por Compañía"})}),a.jsxs(G,{children:[a.jsx(l,{value:"all",children:"Todas las Compañías"}),a.jsx(l,{value:"Primera Compañía",children:"Primera Compañía"}),a.jsx(l,{value:"Segunda Compañía",children:"Segunda Compañía"}),a.jsx(l,{value:"Tercera Compañía",children:"Tercera Compañía"}),a.jsx(l,{value:"Cuarta Compañía",children:"Cuarta Compañía"}),a.jsx(l,{value:"Quinta Compañía",children:"Quinta Compañía"}),a.jsx(l,{value:"Séptima Compañía",children:"Séptima Compañía"}),a.jsx(l,{value:"Octava Compañía",children:"Octava Compañía"}),a.jsx(l,{value:"Novena Compañía",children:"Novena Compañía"}),a.jsx(l,{value:"Décima Compañía",children:"Décima Compañía"}),a.jsx(l,{value:"Comandancia",children:"Comandancia"})]})]})}),e[15]=B,e[16]=i,e[17]=E,e[18]=m):m=e[18];let d;e[19]!==m||e[20]!==c?(d=a.jsxs("div",{className:"flex flex-col items-center gap-4 md:flex-row",children:[c,m]}),e[19]=m,e[20]=c,e[21]=d):d=e[21];let y;e[22]===Symbol.for("react.memo_cache_sentinel")?(y=a.jsx(V,{className:"bg-muted/50 pb-4",children:a.jsx(z,{className:"text-lg",children:"Listado de Bomberos"})}),e[22]=y):y=e[22];let N;e[23]===Symbol.for("react.memo_cache_sentinel")?(N=a.jsx(J,{children:a.jsxs(I,{children:[a.jsx(T,{children:"Nombre"}),a.jsx(T,{children:"RUT"}),a.jsx(T,{children:"Compañía"}),a.jsx(T,{className:"text-right",children:"Acción"})]})}),e[23]=N):N=e[23];let p;e[24]!==r.data?(p=r.data.length>0?r.data.map(se):a.jsx(I,{children:a.jsx(u,{colSpan:4,className:"py-8 text-center text-muted-foreground",children:"No se encontraron bomberos."})}),e[24]=r.data,e[25]=p):p=e[25];let x;e[26]!==p?(x=a.jsxs(O,{children:[y,a.jsx(Q,{className:"p-0",children:a.jsxs(K,{children:[N,a.jsx(W,{children:p})]})})]}),e[26]=p,e[27]=x):x=e[27];let h;e[28]!==r.links?(h=r.links&&a.jsx("div",{className:"mt-4 flex justify-center gap-2",children:r.links.map(ae)}),e[28]=r.links,e[29]=h):h=e[29];let _;return e[30]!==d||e[31]!==x||e[32]!==h?(_=a.jsxs(X,{breadcrumbs:ee,children:[C,a.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-8",children:[v,d,x,h]})]}),e[30]=d,e[31]=x,e[32]=h,e[33]=_):_=e[33],_}function ae(s,e){return a.jsx(P,{variant:s.active?"default":"outline",disabled:!s.url,onClick:()=>s.url&&w.visit(s.url),dangerouslySetInnerHTML:{__html:s.label}},e)}function se(s){return a.jsxs(I,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>w.visit(`/assigned-materials/${s.id}`),children:[a.jsx(u,{className:"font-medium",children:s.full_name}),a.jsx(u,{children:s.rut}),a.jsx(u,{children:s.company}),a.jsx(u,{className:"text-right",children:a.jsxs(P,{size:"sm",variant:"ghost",children:[a.jsx(Z,{className:"mr-2 size-4"}),"Ver Detalles"]})})]},s.id)}export{ve as default};
