import{c as Ke,u as Pe,j as t,H as Ge,L as Je}from"./app-BHG2hm5T.js";import{B as Ue}from"./button-Z6kmdew5.js";import{C as Oe,a as We,d as Qe,b as Xe,c as Ye}from"./card-D0sPhIom.js";import{C as qe}from"./checkbox-CsX5p4af.js";import{I as te}from"./input-SlT7uC8i.js";import{L as c}from"./label-BQc_PkxT.js";import{S as we,a as Fe,b as He,c as Re,d as n}from"./select-CKEgZyTl.js";import{T as Ze}from"./textarea-fZP289le.js";import{A as et}from"./app-layout-hnxNyFOA.js";import{A as tt}from"./arrow-left-Cy7cjKAi.js";import{S as st}from"./save-FjQUSf57.js";/* empty css            */import"./index-KJ8nIQ1N.js";import"./index-Q1HKqKhG.js";import"./index-DM6PgUW3.js";import"./check-CGeZhyYa.js";import"./chevron-down-BbetoyTj.js";import"./index-q7GIQJN5.js";import"./shield-Nszra4Fu.js";function Nt(Be){const e=Ke.c(158),{vehicles:se}=Be;let le;e[0]!==se?(le=se===void 0?[]:se,e[0]=se,e[1]=le):le=e[1];const r=le;let ie;e[2]===Symbol.for("react.memo_cache_sentinel")?(ie=[],e[2]=ie):ie=e[2];let ae;e[3]===Symbol.for("react.memo_cache_sentinel")?(ae={name:"",sku:"",category:"repuesto",stock:0,min_stock:0,unit_cost:0,location:"",compatibility:ie,description:"",unit_of_measure:"unidades"},e[3]=ae):ae=e[3];const{data:i,setData:l,post:De,processing:Ee,errors:s}=Pe(ae);let ce;e[4]!==De?(ce=a=>{a.preventDefault(),De("/vehicles/inventory")},e[4]=De,e[5]=ce):ce=e[5];const Me=ce;let oe,re;e[6]===Symbol.for("react.memo_cache_sentinel")?(oe=[{title:"Bodega",href:"/vehicles/inventory"},{title:"Nuevo Ítem",href:"#"}],re=t.jsx(Ge,{title:"Nuevo Ítem | Bodega Material Mayor"}),e[6]=oe,e[7]=re):(oe=e[6],re=e[7]);let ne;e[8]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Ue,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(Je,{href:"/vehicles/inventory",children:t.jsx(tt,{className:"h-5 w-5"})})}),t.jsx("h1",{className:"text-2xl font-bold",children:"Nuevo Ítem de Bodega"})]}),e[8]=ne):ne=e[8];let me;e[9]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsxs(Oe,{children:[t.jsx(We,{children:"Detalles del Ítem"}),t.jsx(Qe,{children:"Ingrese la información del nuevo repuesto o insumo."})]}),e[9]=me):me=e[9];let de;e[10]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(c,{children:"Nombre del Ítem"}),e[10]=de):de=e[10];let m;e[11]!==l?(m=a=>l("name",a.target.value),e[11]=l,e[12]=m):m=e[12];let d;e[13]!==i.name||e[14]!==m?(d=t.jsx(te,{value:i.name,onChange:m,placeholder:"Ej: Aceite Motor 15W40",required:!0}),e[13]=i.name,e[14]=m,e[15]=d):d=e[15];let f;e[16]!==s.name?(f=s.name&&t.jsx("p",{className:"text-sm text-red-500",children:s.name}),e[16]=s.name,e[17]=f):f=e[17];let h;e[18]!==d||e[19]!==f?(h=t.jsxs("div",{className:"space-y-2",children:[de,d,f]}),e[18]=d,e[19]=f,e[20]=h):h=e[20];let fe;e[21]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(c,{children:"SKU / Código (Opcional)"}),e[21]=fe):fe=e[21];let u;e[22]!==l?(u=a=>l("sku",a.target.value),e[22]=l,e[23]=u):u=e[23];let x;e[24]!==i.sku||e[25]!==u?(x=t.jsx(te,{value:i.sku,onChange:u,placeholder:"Ej: ACC-123456"}),e[24]=i.sku,e[25]=u,e[26]=x):x=e[26];let p;e[27]!==s.sku?(p=s.sku&&t.jsx("p",{className:"text-sm text-red-500",children:s.sku}),e[27]=s.sku,e[28]=p):p=e[28];let j;e[29]!==x||e[30]!==p?(j=t.jsxs("div",{className:"space-y-2",children:[fe,x,p]}),e[29]=x,e[30]=p,e[31]=j):j=e[31];let he;e[32]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(c,{children:"Categoría"}),e[32]=he):he=e[32];let _;e[33]!==l?(_=a=>l("category",a),e[33]=l,e[34]=_):_=e[34];let ue;e[35]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(Fe,{children:t.jsx(He,{placeholder:"Seleccione una categoría"})}),e[35]=ue):ue=e[35];let xe;e[36]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsxs(Re,{children:[t.jsx(n,{value:"insumo",children:"Insumo (Consumible)"}),t.jsx(n,{value:"repuesto",children:"Repuesto (Parte)"})]}),e[36]=xe):xe=e[36];let y;e[37]!==i.category||e[38]!==_?(y=t.jsxs(we,{value:i.category,onValueChange:_,children:[ue,xe]}),e[37]=i.category,e[38]=_,e[39]=y):y=e[39];let b;e[40]!==s.category?(b=s.category&&t.jsx("p",{className:"text-sm text-red-500",children:s.category}),e[40]=s.category,e[41]=b):b=e[41];let g;e[42]!==y||e[43]!==b?(g=t.jsxs("div",{className:"space-y-2",children:[he,y,b]}),e[42]=y,e[43]=b,e[44]=g):g=e[44];let pe;e[45]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(c,{children:"Unidad de Medida"}),e[45]=pe):pe=e[45];let v;e[46]!==l?(v=a=>l("unit_of_measure",a),e[46]=l,e[47]=v):v=e[47];let je;e[48]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(Fe,{children:t.jsx(He,{placeholder:"Seleccione unidad"})}),e[48]=je):je=e[48];let _e;e[49]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsxs(Re,{children:[t.jsx(n,{value:"unidades",children:"Unidades"}),t.jsx(n,{value:"litros",children:"Litros"}),t.jsx(n,{value:"metros",children:"Metros"}),t.jsx(n,{value:"kilos",children:"Kilos"}),t.jsx(n,{value:"set",children:"Set / Juego"})]}),e[49]=_e):_e=e[49];let N;e[50]!==i.unit_of_measure||e[51]!==v?(N=t.jsxs(we,{value:i.unit_of_measure,onValueChange:v,children:[je,_e]}),e[50]=i.unit_of_measure,e[51]=v,e[52]=N):N=e[52];let S;e[53]!==s.unit_of_measure?(S=s.unit_of_measure&&t.jsx("p",{className:"text-sm text-red-500",children:s.unit_of_measure}),e[53]=s.unit_of_measure,e[54]=S):S=e[54];let k;e[55]!==N||e[56]!==S?(k=t.jsxs("div",{className:"space-y-2",children:[pe,N,S]}),e[55]=N,e[56]=S,e[57]=k):k=e[57];let ye;e[58]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(c,{children:"Ubicación en Bodega"}),e[58]=ye):ye=e[58];let C;e[59]!==l?(C=a=>l("location",a.target.value),e[59]=l,e[60]=C):C=e[60];let I;e[61]!==i.location||e[62]!==C?(I=t.jsx(te,{value:i.location,onChange:C,placeholder:"Ej: Estante A, Nivel 2"}),e[61]=i.location,e[62]=C,e[63]=I):I=e[63];let A;e[64]!==s.location?(A=s.location&&t.jsx("p",{className:"text-sm text-red-500",children:s.location}),e[64]=s.location,e[65]=A):A=e[65];let L;e[66]!==I||e[67]!==A?(L=t.jsxs("div",{className:"space-y-2",children:[ye,I,A]}),e[66]=I,e[67]=A,e[68]=L):L=e[68];let be;e[69]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx(c,{children:"Stock Inicial"}),e[69]=be):be=e[69];let B;e[70]!==l?(B=a=>l("stock",parseInt(a.target.value)||0),e[70]=l,e[71]=B):B=e[71];let D;e[72]!==i.stock||e[73]!==B?(D=t.jsx(te,{type:"number",min:"0",value:i.stock,onChange:B,required:!0}),e[72]=i.stock,e[73]=B,e[74]=D):D=e[74];let E;e[75]!==s.stock?(E=s.stock&&t.jsx("p",{className:"text-sm text-red-500",children:s.stock}),e[75]=s.stock,e[76]=E):E=e[76];let M;e[77]!==D||e[78]!==E?(M=t.jsxs("div",{className:"space-y-2",children:[be,D,E]}),e[77]=D,e[78]=E,e[79]=M):M=e[79];let ge;e[80]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(c,{children:"Stock Mínimo (Alerta)"}),e[80]=ge):ge=e[80];let V;e[81]!==l?(V=a=>l("min_stock",parseInt(a.target.value)||0),e[81]=l,e[82]=V):V=e[82];let T;e[83]!==i.min_stock||e[84]!==V?(T=t.jsx(te,{type:"number",min:"0",value:i.min_stock,onChange:V,required:!0}),e[83]=i.min_stock,e[84]=V,e[85]=T):T=e[85];let U;e[86]!==s.min_stock?(U=s.min_stock&&t.jsx("p",{className:"text-sm text-red-500",children:s.min_stock}),e[86]=s.min_stock,e[87]=U):U=e[87];let q;e[88]!==T||e[89]!==U?(q=t.jsxs("div",{className:"space-y-2",children:[ge,T,U]}),e[88]=T,e[89]=U,e[90]=q):q=e[90];let ve;e[91]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(c,{children:"Costo Unitario (CLP)"}),e[91]=ve):ve=e[91];let w;e[92]!==l?(w=a=>l("unit_cost",parseInt(a.target.value)||0),e[92]=l,e[93]=w):w=e[93];let F;e[94]!==i.unit_cost||e[95]!==w?(F=t.jsx(te,{type:"number",min:"0",value:i.unit_cost,onChange:w,required:!0}),e[94]=i.unit_cost,e[95]=w,e[96]=F):F=e[96];let Ne;e[97]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor neto o promedio de compra."}),e[97]=Ne):Ne=e[97];let H;e[98]!==s.unit_cost?(H=s.unit_cost&&t.jsx("p",{className:"text-sm text-red-500",children:s.unit_cost}),e[98]=s.unit_cost,e[99]=H):H=e[99];let R;e[100]!==F||e[101]!==H?(R=t.jsxs("div",{className:"space-y-2",children:[ve,F,Ne,H]}),e[100]=F,e[101]=H,e[102]=R):R=e[102];let $;e[103]!==h||e[104]!==j||e[105]!==g||e[106]!==k||e[107]!==L||e[108]!==M||e[109]!==q||e[110]!==R?($=t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[h,j,g,k,L,M,q,R]}),e[103]=h,e[104]=j,e[105]=g,e[106]=k,e[107]=L,e[108]=M,e[109]=q,e[110]=R,e[111]=$):$=e[111];let Se;e[112]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(c,{children:"Compatibilidad (Vehículos)"}),e[112]=Se):Se=e[112];const Ve=i.compatibility.length===r.length;let z;e[113]!==l||e[114]!==r?(z=a=>{a?l("compatibility",r.map(lt)):l("compatibility",[])},e[113]=l,e[114]=r,e[115]=z):z=e[115];let K;e[116]!==Ve||e[117]!==z?(K=t.jsx(qe,{id:"all-vehicles",checked:Ve,onCheckedChange:z}),e[116]=Ve,e[117]=z,e[118]=K):K=e[118];let ke;e[119]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx(c,{htmlFor:"all-vehicles",className:"font-normal",children:"Todos los Vehículos"}),e[119]=ke):ke=e[119];let P;e[120]!==K?(P=t.jsxs("div",{className:"flex items-center gap-2",children:[K,ke]}),e[120]=K,e[121]=P):P=e[121];let G;if(e[122]!==i.compatibility||e[123]!==l||e[124]!==r){let a;e[126]!==i.compatibility||e[127]!==l?(a=o=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qe,{id:`vehicle-${o.id}`,checked:i.compatibility.includes(o.id),onCheckedChange:$e=>{const Te=[...i.compatibility];$e?l("compatibility",[...Te,o.id]):l("compatibility",Te.filter(ze=>ze!==o.id))}}),t.jsxs(c,{htmlFor:`vehicle-${o.id}`,className:"cursor-pointer font-normal",children:[o.name," (",o.plate,")"]})]},o.id),e[126]=i.compatibility,e[127]=l,e[128]=a):a=e[128],G=r.map(a),e[122]=i.compatibility,e[123]=l,e[124]=r,e[125]=G}else G=e[125];let J;e[129]!==P||e[130]!==G?(J=t.jsxs("div",{className:"grid max-h-60 grid-cols-1 gap-2 overflow-y-auto rounded-md border p-4 sm:grid-cols-2 lg:grid-cols-3",children:[P,G]}),e[129]=P,e[130]=G,e[131]=J):J=e[131];let O;e[132]!==s.compatibility?(O=s.compatibility&&t.jsx("p",{className:"text-sm text-red-500",children:s.compatibility}),e[132]=s.compatibility,e[133]=O):O=e[133];let Ce;e[134]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Seleccione los vehículos compatibles con este repuesto."}),e[134]=Ce):Ce=e[134];let W;e[135]!==J||e[136]!==O?(W=t.jsxs("div",{className:"space-y-4",children:[Se,J,O,Ce]}),e[135]=J,e[136]=O,e[137]=W):W=e[137];let Ie;e[138]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(c,{children:"Descripción Adicional"}),e[138]=Ie):Ie=e[138];let Q;e[139]!==l?(Q=a=>l("description",a.target.value),e[139]=l,e[140]=Q):Q=e[140];let X;e[141]!==i.description||e[142]!==Q?(X=t.jsx(Ze,{value:i.description,onChange:Q,placeholder:"Detalles técnicos, proveedor habitual, etc.",className:"resize-none"}),e[141]=i.description,e[142]=Q,e[143]=X):X=e[143];let Y;e[144]!==s.description?(Y=s.description&&t.jsx("p",{className:"text-sm text-red-500",children:s.description}),e[144]=s.description,e[145]=Y):Y=e[145];let Z;e[146]!==X||e[147]!==Y?(Z=t.jsxs("div",{className:"space-y-2",children:[Ie,X,Y]}),e[146]=X,e[147]=Y,e[148]=Z):Z=e[148];let Ae;e[149]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx(st,{className:"mr-2 h-4 w-4"}),e[149]=Ae):Ae=e[149];let ee;e[150]!==Ee?(ee=t.jsx("div",{className:"flex justify-end pt-4",children:t.jsxs(Ue,{type:"submit",disabled:Ee,children:[Ae,"Guardar Ítem"]})}),e[150]=Ee,e[151]=ee):ee=e[151];let Le;return e[152]!==Me||e[153]!==$||e[154]!==W||e[155]!==Z||e[156]!==ee?(Le=t.jsxs(et,{breadcrumbs:oe,children:[re,t.jsxs("div",{className:"flex flex-1 flex-col gap-8 p-4",children:[ne,t.jsxs(Xe,{children:[me,t.jsx(Ye,{children:t.jsxs("form",{onSubmit:Me,className:"space-y-6",children:[$,W,Z,ee]})})]})]})]}),e[152]=Me,e[153]=$,e[154]=W,e[155]=Z,e[156]=ee,e[157]=Le):Le=e[157],Le}function lt(Be){return Be.id}export{Nt as default};
