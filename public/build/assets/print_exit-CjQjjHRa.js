import{c as te,j as s,H as le}from"./app-B61HxmhB.js";import{f as se,B as ae}from"./button-DEfvv7zK.js";import{P as ie}from"./printer-BCRLKViT.js";/* empty css            */function ue(l){const e=te.c(87),{maintenance:t}=l;let D;e[0]!==t.id?(D=()=>s.jsxs("div",{className:"flex items-center justify-between border-b-2 border-slate-900 pb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:"/images/cbpa_logo.jpg",alt:"Logo CBPA",className:"h-16 w-16 object-contain"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-wider uppercase",children:"Cuerpo de Bomberos Puente Alto"}),s.jsx("h2",{className:"text-lg font-semibold text-slate-700 uppercase",children:"Depto. Material Mayor"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("h3",{className:"text-xl font-bold",children:"ORDEN DE SALIDA"}),s.jsxs("p",{className:"font-mono text-lg",children:["#",String(t.id).padStart(6,"0")]}),s.jsx("p",{className:"text-sm text-slate-600",children:se(new Date().toISOString())})]})]}),e[0]=t.id,e[1]=D):D=e[1];const a=D,Q=`Orden de Salida #${t.id}`;let i;e[2]!==Q?(i=s.jsx(le,{title:Q}),e[2]=Q,e[3]=i):i=e[3];let I;e[4]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx("style",{children:`
                @media print {
                    @page {
                        size: 21.6cm 33cm;
                        margin: 0.5cm;
                    }
                    body {
                        -webkit-print-color-adjust: exact;
                        print-color-adjust: exact;
                    }
                    .page-break {
                        break-before: page;
                    }
                }
            `}),e[4]=I):I=e[4];let F;e[5]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx("div",{className:"mx-auto mb-4 flex max-w-[21.5cm] justify-end print:hidden",children:s.jsxs(ae,{onClick:pe,children:[s.jsx(ie,{className:"mr-2 size-4"})," Imprimir Documento"]})}),e[5]=F):F=e[5];let n;e[6]!==a?(n=s.jsx(a,{}),e[6]=a,e[7]=n):n=e[7];let A;e[8]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Unidad / Carro"}),e[8]=A):A=e[8];let r;e[9]!==t.vehicle.name?(r=s.jsxs("div",{children:[A,s.jsx("p",{className:"text-sm font-semibold uppercase",children:t.vehicle.name})]}),e[9]=t.vehicle.name,e[10]=r):r=e[10];let E;e[11]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Compañía"}),e[11]=E):E=e[11];let c;e[12]!==t.vehicle.company?(c=s.jsxs("div",{children:[E,s.jsx("p",{className:"text-sm font-semibold uppercase",children:t.vehicle.company})]}),e[12]=t.vehicle.company,e[13]=c):c=e[13];let L;e[14]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Patente"}),e[14]=L):L=e[14];const V=t.vehicle.plate||"N/A";let o;e[15]!==V?(o=s.jsxs("div",{children:[L,s.jsx("p",{className:"text-sm font-semibold uppercase",children:V})]}),e[15]=V,e[16]=o):o=e[16];let M;e[17]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Taller Responsable"}),e[17]=M):M=e[17];let d;e[18]!==t.workshop_name?(d=s.jsxs("div",{children:[M,s.jsx("p",{className:"text-sm font-semibold uppercase",children:t.workshop_name})]}),e[18]=t.workshop_name,e[19]=d):d=e[19];let O;e[20]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Fecha Ingreso"}),e[20]=O):O=e[20];let m;e[21]!==t.entry_date?(m=se(t.entry_date),e[21]=t.entry_date,e[22]=m):m=e[22];let x;e[23]!==m?(x=s.jsxs("div",{children:[O,s.jsx("p",{className:"text-sm font-semibold",children:m})]}),e[23]=m,e[24]=x):x=e[24];let $;e[25]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Fecha Salida"}),e[25]=$):$=e[25];let p;e[26]!==t.exit_date?(p=t.exit_date?se(t.exit_date):"Pendiente",e[26]=t.exit_date,e[27]=p):p=e[27];let h;e[28]!==p?(h=s.jsxs("div",{children:[$,s.jsx("p",{className:"text-sm font-semibold",children:p})]}),e[28]=p,e[29]=h):h=e[29];let z;e[30]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Kilometraje Ingreso"}),e[30]=z):z=e[30];const W=t.mileage_in||"--";let b;e[31]!==W?(b=s.jsxs("div",{children:[z,s.jsxs("p",{className:"text-sm font-semibold",children:[W," km"]})]}),e[31]=W,e[32]=b):b=e[32];let B;e[33]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Responsable Ingreso"}),e[33]=B):B=e[33];const X=t.responsible_person||"N/A";let f;e[34]!==X?(f=s.jsxs("div",{children:[B,s.jsx("p",{className:"text-sm font-semibold",children:X})]}),e[34]=X,e[35]=f):f=e[35];let T;e[36]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Responsable Retiro"}),e[36]=T):T=e[36];const Y=t.withdrawal_responsible_name||"Pendiente",Z=t.withdrawal_responsible_rut?`(${t.withdrawal_responsible_rut})`:"";let j;e[37]!==Y||e[38]!==Z?(j=s.jsxs("div",{children:[T,s.jsxs("p",{className:"text-sm font-semibold uppercase",children:[Y," ",Z]})]}),e[37]=Y,e[38]=Z,e[39]=j):j=e[39];let u;e[40]!==c||e[41]!==o||e[42]!==d||e[43]!==x||e[44]!==h||e[45]!==b||e[46]!==f||e[47]!==j||e[48]!==r?(u=s.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-3",children:[r,c,o,d,x,h,b,f,j]}),e[40]=c,e[41]=o,e[42]=d,e[43]=x,e[44]=h,e[45]=b,e[46]=f,e[47]=j,e[48]=r,e[49]=u):u=e[49];let N;e[50]!==t.entry_checklist?(N=t.entry_checklist&&s.jsxs("div",{className:"mt-6 rounded border border-slate-200 bg-slate-50 p-4",children:[s.jsx("h4",{className:"mb-2 text-xs font-bold text-slate-500 uppercase",children:"Resumen Condiciones de Ingreso (Fallas Detectadas)"}),s.jsx("div",{className:"text-sm",children:Object.entries(t.entry_checklist).filter(xe).map(me).join(", ")||"Ninguna falla reportada al ingreso."})]}),e[50]=t.entry_checklist,e[51]=N):N=e[51];let _;e[52]!==u||e[53]!==N||e[54]!==n?(_=s.jsxs("div",{className:"space-y-6",children:[n,u,N]}),e[52]=u,e[53]=N,e[54]=n,e[55]=_):_=e[55];let H;e[56]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx("div",{className:"border-t pt-4 text-center text-xs text-slate-400",children:s.jsx("p",{children:"Página 1 - Datos de Salida"})}),e[56]=H):H=e[56];let g;e[57]!==_?(g=s.jsxs("div",{className:"mx-auto flex h-[31cm] max-w-[21.5cm] flex-col justify-between border border-slate-300 bg-white p-8 shadow-md print:h-auto print:border-none print:p-0 print:shadow-none",children:[_,H]}),e[57]=_,e[58]=g):g=e[58];let v;e[59]!==a?(v=s.jsx(a,{}),e[59]=a,e[60]=v):v=e[60];let y;e[61]!==t.issues?(y=t.issues.some(de)&&s.jsxs("div",{className:"mt-6",children:[s.jsx("div",{className:"mb-2 border-b border-slate-300 pb-1",children:s.jsx("span",{className:"text-sm font-bold text-slate-900 uppercase",children:"Incidencias Resueltas"})}),s.jsx("ul",{className:"list-inside list-disc space-y-1 text-sm",children:t.issues.filter(oe).map(ce)})]}),e[61]=t.issues,e[62]=y):y=e[62];let w;e[63]!==t.tasks?(w=t.tasks.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("div",{className:"mb-2 border-b border-slate-300 pb-1",children:s.jsx("span",{className:"text-sm font-bold text-slate-900 uppercase",children:"Trabajos Realizados (Mano de Obra)"})}),s.jsx("ul",{className:"list-inside list-disc space-y-1 text-sm",children:t.tasks.map(re)})]}),e[63]=t.tasks,e[64]=w):w=e[64];let k;e[65]!==t.items?(k=t.items&&t.items.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("div",{className:"mb-2 border-b border-slate-300 pb-1",children:s.jsx("span",{className:"text-sm font-bold text-slate-900 uppercase",children:"Repuestos e Insumos Consumidos"})}),s.jsx("div",{className:"text-sm",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-200",children:[s.jsx("th",{className:"py-1 font-semibold",children:"Ítem"}),s.jsx("th",{className:"py-1 text-right font-semibold",children:"Cant."}),s.jsx("th",{className:"py-1 text-right font-semibold",children:"Costo Unit."}),s.jsx("th",{className:"py-1 text-right font-semibold",children:"Total"})]})}),s.jsx("tbody",{children:t.items.map(ne)})]})})]}),e[65]=t.items,e[66]=k):k=e[66];let q;e[67]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx("span",{className:"mb-2 block text-sm font-bold text-slate-700 uppercase",children:"Observaciones Finales"}),e[67]=q):q=e[67];const ee=t.description||"Sin observaciones.";let S;e[68]!==ee?(S=s.jsxs("div",{className:"mt-6 min-h-[150px] rounded border border-slate-300 p-4",children:[q,s.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:ee})]}),e[68]=ee,e[69]=S):S=e[69];let U;e[70]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsxs("div",{className:"border-t border-slate-900 pt-2 text-center",children:[s.jsx("p",{className:"text-sm font-bold uppercase",children:"Firma Mecánico Jefe"}),s.jsx("p",{className:"text-xs text-slate-500",children:"(Aceptación de Trabajos)"})]}),e[70]=U):U=e[70];let J;e[71]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-16 pt-8",children:[U,s.jsxs("div",{className:"border-t border-slate-900 pt-2 text-center",children:[s.jsx("p",{className:"text-sm font-bold uppercase",children:"Firma Maquinista / Receptor"}),s.jsx("p",{className:"text-xs text-slate-500",children:"(Conformidad de Entrega)"})]})]}),e[71]=J):J=e[71];let R;e[72]!==v||e[73]!==y||e[74]!==w||e[75]!==k||e[76]!==S?(R=s.jsxs("div",{className:"space-y-6",children:[v,y,w,k,S,J]}),e[72]=v,e[73]=y,e[74]=w,e[75]=k,e[76]=S,e[77]=R):R=e[77];let K;e[78]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx("div",{className:"border-t pt-4 text-center text-xs text-slate-400",children:s.jsx("p",{children:"Página 2 - Conformidad"})}),e[78]=K):K=e[78];let C;e[79]!==R?(C=s.jsxs("div",{className:"page-break mx-auto mt-8 flex h-[31cm] max-w-[21.5cm] flex-col justify-between border border-slate-300 bg-white p-8 shadow-md print:mt-0 print:h-auto print:border-none print:p-0 print:shadow-none",children:[R,K]}),e[79]=R,e[80]=C):C=e[80];let P;e[81]!==g||e[82]!==C?(P=s.jsxs("div",{className:"min-h-screen bg-gray-100 p-8 text-black print:bg-white print:p-0",children:[F,g,C]}),e[81]=g,e[82]=C,e[83]=P):P=e[83];let G;return e[84]!==i||e[85]!==P?(G=s.jsxs(s.Fragment,{children:[i,I,P]}),e[84]=i,e[85]=P,e[86]=G):G=e[86],G}function ne(l){return s.jsxs("tr",{className:"border-b border-slate-100 last:border-0",children:[s.jsxs("td",{className:"py-1",children:[l.name," ",s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",l.sku,")"]})]}),s.jsx("td",{className:"py-1 text-right",children:l.pivot.quantity}),s.jsxs("td",{className:"py-1 text-right",children:["$",l.pivot.unit_cost.toLocaleString("es-CL")]}),s.jsxs("td",{className:"py-1 text-right font-medium",children:["$",l.pivot.total_cost.toLocaleString("es-CL")]})]},l.id)}function re(l){return s.jsxs("li",{children:[l.description," ",s.jsxs("span",{className:`text-xs font-bold uppercase ${l.is_completed?"text-green-600":"text-slate-400"}`,children:["(",l.is_completed?"Realizado":"No Realizado",")"]})]},l.id)}function ce(l){return s.jsxs("li",{children:[l.description," ",s.jsx("span",{className:"text-xs font-bold text-green-600 uppercase",children:"(Resuelto)"})]},l.id)}function oe(l){return l.status==="Resolved"}function de(l){return l.status==="Resolved"}function me(l){const[e]=l;return e}function xe(l){const[,e]=l;return e==="Fallas"}function pe(){return window.print()}export{ue as default};
