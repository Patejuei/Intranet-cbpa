import{r as i,c as M,j as d}from"./app-U2vxHv-X.js";import{b as J,c as q,u as Pe,d as Qe,B as et}from"./button-FyRO0OzR.js";import{d as T,R as tt,P as rt,O as ot,e as nt,f as Re,g as Ee,h as at,i as lt,j as st,k as it,l as ct,m as ut,D as dt,n as pt,o as ft,b as mt}from"./app-layout-4axmnVdW.js";import{P as _}from"./index-D32ltWjn.js";import{S as vt}from"./search-BzFLfPRL.js";import{c as ht,a as W,b as gt,P as Se}from"./index-DU5z2y3-.js";import{C as xt}from"./check-a4N9gWVE.js";var Ce=1,bt=.9,Ct=.8,yt=.17,se=.1,ie=.999,wt=.9999,Pt=.99,Rt=/[\\\/_+.#"@\[\(\{&]/,Et=/[\\\/_+.#"@\[\(\{&]/g,St=/[\s-]/,Ne=/[\s-]/g;function ue(r,t,e,n,o,a,l){if(a===t.length)return o===r.length?Ce:Pt;var u=`${o},${a}`;if(l[u]!==void 0)return l[u];for(var v=n.charAt(a),c=e.indexOf(v,o),m=0,h,C,y,N;c>=0;)h=ue(r,t,e,n,c+1,a+1,l),h>m&&(c===o?h*=Ce:Rt.test(r.charAt(c-1))?(h*=Ct,y=r.slice(o,c-1).match(Et),y&&o>0&&(h*=Math.pow(ie,y.length))):St.test(r.charAt(c-1))?(h*=bt,N=r.slice(o,c-1).match(Ne),N&&o>0&&(h*=Math.pow(ie,N.length))):(h*=yt,o>0&&(h*=Math.pow(ie,c-o))),r.charAt(c)!==t.charAt(a)&&(h*=wt)),(h<se&&e.charAt(c-1)===n.charAt(a+1)||n.charAt(a+1)===n.charAt(a)&&e.charAt(c-1)!==n.charAt(a))&&(C=ue(r,t,e,n,c+1,a+2,l),C*se>h&&(h=C*se)),h>m&&(m=h),c=e.indexOf(v,c+1);return l[u]=m,m}function ye(r){return r.toLowerCase().replace(Ne," ")}function Nt(r,t,e){return r=e&&e.length>0?`${r+" "+e.join(" ")}`:r,ue(r,t,ye(r),ye(t),0,0,{})}var U='[cmdk-group=""]',ce='[cmdk-group-items=""]',kt='[cmdk-group-heading=""]',ke='[cmdk-item=""]',we=`${ke}:not([aria-disabled="true"])`,de="cmdk-item-select",V="data-value",jt=(r,t,e)=>Nt(r,t,e),je=i.createContext(void 0),X=()=>i.useContext(je),Ae=i.createContext(void 0),pe=()=>i.useContext(Ae),Ie=i.createContext(void 0),_e=i.forwardRef((r,t)=>{let e=B(()=>{var s,f;return{search:"",value:(f=(s=r.value)!=null?s:r.defaultValue)!=null?f:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=B(()=>new Set),o=B(()=>new Map),a=B(()=>new Map),l=B(()=>new Set),u=Oe(r),{label:v,children:c,value:m,onValueChange:h,filter:C,shouldFilter:y,loop:N,disablePointerSelection:A=!1,vimBindings:j=!0,...O}=r,I=T(),$=T(),D=T(),P=i.useRef(null),g=Kt();K(()=>{if(m!==void 0){let s=m.trim();e.current.value=s,E.emit()}},[m]),K(()=>{g(6,ve)},[]);let E=i.useMemo(()=>({subscribe:s=>(l.current.add(s),()=>l.current.delete(s)),snapshot:()=>e.current,setState:(s,f,x)=>{var p,b,w,k;if(!Object.is(e.current[s],f)){if(e.current[s]=f,s==="search")ne(),re(),g(1,oe);else if(s==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let R=document.getElementById(D);R?R.focus():(p=document.getElementById(I))==null||p.focus()}if(g(7,()=>{var R;e.current.selectedItemId=(R=z())==null?void 0:R.id,E.emit()}),x||g(5,ve),((b=u.current)==null?void 0:b.value)!==void 0){let R=f??"";(k=(w=u.current).onValueChange)==null||k.call(w,R);return}}E.emit()}},emit:()=>{l.current.forEach(s=>s())}}),[]),te=i.useMemo(()=>({value:(s,f,x)=>{var p;f!==((p=a.current.get(s))==null?void 0:p.value)&&(a.current.set(s,{value:f,keywords:x}),e.current.filtered.items.set(s,me(f,x)),g(2,()=>{re(),E.emit()}))},item:(s,f)=>(n.current.add(s),f&&(o.current.has(f)?o.current.get(f).add(s):o.current.set(f,new Set([s]))),g(3,()=>{ne(),re(),e.current.value||oe(),E.emit()}),()=>{a.current.delete(s),n.current.delete(s),e.current.filtered.items.delete(s);let x=z();g(4,()=>{ne(),x?.getAttribute("id")===s&&oe(),E.emit()})}),group:s=>(o.current.has(s)||o.current.set(s,new Set),()=>{a.current.delete(s),o.current.delete(s)}),filter:()=>u.current.shouldFilter,label:v||r["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:I,inputId:D,labelId:$,listInnerRef:P}),[]);function me(s,f){var x,p;let b=(p=(x=u.current)==null?void 0:x.filter)!=null?p:jt;return s?b(s,e.current.search,f):0}function re(){if(!e.current.search||u.current.shouldFilter===!1)return;let s=e.current.filtered.items,f=[];e.current.filtered.groups.forEach(p=>{let b=o.current.get(p),w=0;b.forEach(k=>{let R=s.get(k);w=Math.max(R,w)}),f.push([p,w])});let x=P.current;H().sort((p,b)=>{var w,k;let R=p.getAttribute("id"),Z=b.getAttribute("id");return((w=s.get(Z))!=null?w:0)-((k=s.get(R))!=null?k:0)}).forEach(p=>{let b=p.closest(ce);b?b.appendChild(p.parentElement===b?p:p.closest(`${ce} > *`)):x.appendChild(p.parentElement===x?p:p.closest(`${ce} > *`))}),f.sort((p,b)=>b[1]-p[1]).forEach(p=>{var b;let w=(b=P.current)==null?void 0:b.querySelector(`${U}[${V}="${encodeURIComponent(p[0])}"]`);w?.parentElement.appendChild(w)})}function oe(){let s=H().find(x=>x.getAttribute("aria-disabled")!=="true"),f=s?.getAttribute(V);E.setState("value",f||void 0)}function ne(){var s,f,x,p;if(!e.current.search||u.current.shouldFilter===!1){e.current.filtered.count=n.current.size;return}e.current.filtered.groups=new Set;let b=0;for(let w of n.current){let k=(f=(s=a.current.get(w))==null?void 0:s.value)!=null?f:"",R=(p=(x=a.current.get(w))==null?void 0:x.keywords)!=null?p:[],Z=me(k,R);e.current.filtered.items.set(w,Z),Z>0&&b++}for(let[w,k]of o.current)for(let R of k)if(e.current.filtered.items.get(R)>0){e.current.filtered.groups.add(w);break}e.current.filtered.count=b}function ve(){var s,f,x;let p=z();p&&(((s=p.parentElement)==null?void 0:s.firstChild)===p&&((x=(f=p.closest(U))==null?void 0:f.querySelector(kt))==null||x.scrollIntoView({block:"nearest"})),p.scrollIntoView({block:"nearest"}))}function z(){var s;return(s=P.current)==null?void 0:s.querySelector(`${ke}[aria-selected="true"]`)}function H(){var s;return Array.from(((s=P.current)==null?void 0:s.querySelectorAll(we))||[])}function ae(s){let f=H()[s];f&&E.setState("value",f.getAttribute(V))}function le(s){var f;let x=z(),p=H(),b=p.findIndex(k=>k===x),w=p[b+s];(f=u.current)!=null&&f.loop&&(w=b+s<0?p[p.length-1]:b+s===p.length?p[0]:p[b+s]),w&&E.setState("value",w.getAttribute(V))}function he(s){let f=z(),x=f?.closest(U),p;for(;x&&!p;)x=s>0?Lt(x,U):Tt(x,U),p=x?.querySelector(we);p?E.setState("value",p.getAttribute(V)):le(s)}let ge=()=>ae(H().length-1),xe=s=>{s.preventDefault(),s.metaKey?ge():s.altKey?he(1):le(1)},be=s=>{s.preventDefault(),s.metaKey?ae(0):s.altKey?he(-1):le(-1)};return i.createElement(_.div,{ref:t,tabIndex:-1,...O,"cmdk-root":"",onKeyDown:s=>{var f;(f=O.onKeyDown)==null||f.call(O,s);let x=s.nativeEvent.isComposing||s.keyCode===229;if(!(s.defaultPrevented||x))switch(s.key){case"n":case"j":{j&&s.ctrlKey&&xe(s);break}case"ArrowDown":{xe(s);break}case"p":case"k":{j&&s.ctrlKey&&be(s);break}case"ArrowUp":{be(s);break}case"Home":{s.preventDefault(),ae(0);break}case"End":{s.preventDefault(),ge();break}case"Enter":{s.preventDefault();let p=z();if(p){let b=new Event(de);p.dispatchEvent(b)}}}}},i.createElement("label",{"cmdk-label":"",htmlFor:te.inputId,id:te.labelId,style:zt},v),Q(r,s=>i.createElement(Ae.Provider,{value:E},i.createElement(je.Provider,{value:te},s))))}),At=i.forwardRef((r,t)=>{var e,n;let o=T(),a=i.useRef(null),l=i.useContext(Ie),u=X(),v=Oe(r),c=(n=(e=v.current)==null?void 0:e.forceMount)!=null?n:l?.forceMount;K(()=>{if(!c)return u.item(o,l?.id)},[c]);let m=$e(o,a,[r.value,r.children,a],r.keywords),h=pe(),C=F(g=>g.value&&g.value===m.current),y=F(g=>c||u.filter()===!1?!0:g.search?g.filtered.items.get(o)>0:!0);i.useEffect(()=>{let g=a.current;if(!(!g||r.disabled))return g.addEventListener(de,N),()=>g.removeEventListener(de,N)},[y,r.onSelect,r.disabled]);function N(){var g,E;A(),(E=(g=v.current).onSelect)==null||E.call(g,m.current)}function A(){h.setState("value",m.current,!0)}if(!y)return null;let{disabled:j,value:O,onSelect:I,forceMount:$,keywords:D,...P}=r;return i.createElement(_.div,{ref:J(a,t),...P,id:o,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!C,"data-disabled":!!j,"data-selected":!!C,onPointerMove:j||u.getDisablePointerSelection()?void 0:A,onClick:j?void 0:N},r.children)}),It=i.forwardRef((r,t)=>{let{heading:e,children:n,forceMount:o,...a}=r,l=T(),u=i.useRef(null),v=i.useRef(null),c=T(),m=X(),h=F(y=>o||m.filter()===!1?!0:y.search?y.filtered.groups.has(l):!0);K(()=>m.group(l),[]),$e(l,u,[r.value,r.heading,v]);let C=i.useMemo(()=>({id:l,forceMount:o}),[o]);return i.createElement(_.div,{ref:J(u,t),...a,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},e&&i.createElement("div",{ref:v,"cmdk-group-heading":"","aria-hidden":!0,id:c},e),Q(r,y=>i.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":e?c:void 0},i.createElement(Ie.Provider,{value:C},y))))}),_t=i.forwardRef((r,t)=>{let{alwaysRender:e,...n}=r,o=i.useRef(null),a=F(l=>!l.search);return!e&&!a?null:i.createElement(_.div,{ref:J(o,t),...n,"cmdk-separator":"",role:"separator"})}),Ot=i.forwardRef((r,t)=>{let{onValueChange:e,...n}=r,o=r.value!=null,a=pe(),l=F(c=>c.search),u=F(c=>c.selectedItemId),v=X();return i.useEffect(()=>{r.value!=null&&a.setState("search",r.value)},[r.value]),i.createElement(_.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":v.listId,"aria-labelledby":v.labelId,"aria-activedescendant":u,id:v.inputId,type:"text",value:o?r.value:l,onChange:c=>{o||a.setState("search",c.target.value),e?.(c.target.value)}})}),$t=i.forwardRef((r,t)=>{let{children:e,label:n="Suggestions",...o}=r,a=i.useRef(null),l=i.useRef(null),u=F(c=>c.selectedItemId),v=X();return i.useEffect(()=>{if(l.current&&a.current){let c=l.current,m=a.current,h,C=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let y=c.offsetHeight;m.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return C.observe(c),()=>{cancelAnimationFrame(h),C.unobserve(c)}}},[]),i.createElement(_.div,{ref:J(a,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":n,id:v.listId},Q(r,c=>i.createElement("div",{ref:J(l,v.listInnerRef),"cmdk-list-sizer":""},c)))}),Mt=i.forwardRef((r,t)=>{let{open:e,onOpenChange:n,overlayClassName:o,contentClassName:a,container:l,...u}=r;return i.createElement(tt,{open:e,onOpenChange:n},i.createElement(rt,{container:l},i.createElement(ot,{"cmdk-overlay":"",className:o}),i.createElement(nt,{"aria-label":r.label,"cmdk-dialog":"",className:a},i.createElement(_e,{ref:t,...u}))))}),Dt=i.forwardRef((r,t)=>F(e=>e.filtered.count===0)?i.createElement(_.div,{ref:t,...r,"cmdk-empty":"",role:"presentation"}):null),Ft=i.forwardRef((r,t)=>{let{progress:e,children:n,label:o="Loading...",...a}=r;return i.createElement(_.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},Q(r,l=>i.createElement("div",{"aria-hidden":!0},l)))}),S=Object.assign(_e,{List:$t,Item:At,Input:Ot,Group:It,Separator:_t,Dialog:Mt,Empty:Dt,Loading:Ft});function Lt(r,t){let e=r.nextElementSibling;for(;e;){if(e.matches(t))return e;e=e.nextElementSibling}}function Tt(r,t){let e=r.previousElementSibling;for(;e;){if(e.matches(t))return e;e=e.previousElementSibling}}function Oe(r){let t=i.useRef(r);return K(()=>{t.current=r}),t}var K=typeof window>"u"?i.useEffect:i.useLayoutEffect;function B(r){let t=i.useRef();return t.current===void 0&&(t.current=r()),t}function F(r){let t=pe(),e=()=>r(t.snapshot());return i.useSyncExternalStore(t.subscribe,e,e)}function $e(r,t,e,n=[]){let o=i.useRef(),a=X();return K(()=>{var l;let u=(()=>{var c;for(let m of e){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(c=m.current.textContent)==null?void 0:c.trim():o.current}})(),v=n.map(c=>c.trim());a.value(r,u,v),(l=t.current)==null||l.setAttribute(V,u),o.current=u}),o}var Kt=()=>{let[r,t]=i.useState(),e=B(()=>new Map);return K(()=>{e.current.forEach(n=>n()),e.current=new Map},[r]),(n,o)=>{e.current.set(n,o),t({})}};function qt(r){let t=r.type;return typeof t=="function"?t(r.props):"render"in t?t.render(r.props):r}function Q({asChild:r,children:t},e){return r&&i.isValidElement(t)?i.cloneElement(qt(t),{ref:t.ref},e(t.props.children)):e(t)}var zt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Me=i.forwardRef((r,t)=>{const e=M.c(9);let n,o;e[0]!==r?({className:n,...o}=r,e[0]=r,e[1]=n,e[2]=o):(n=e[1],o=e[2]);let a;e[3]!==n?(a=q("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),e[3]=n,e[4]=a):a=e[4];let l;return e[5]!==o||e[6]!==t||e[7]!==a?(l=d.jsx(S,{ref:t,className:a,...o}),e[5]=o,e[6]=t,e[7]=a,e[8]=l):l=e[8],l});Me.displayName=S.displayName;const De=i.forwardRef((r,t)=>{const e=M.c(10);let n,o;e[0]!==r?({className:n,...o}=r,e[0]=r,e[1]=n,e[2]=o):(n=e[1],o=e[2]);let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=d.jsx(vt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e[3]=a):a=e[3];let l;e[4]!==n?(l=q("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n),e[4]=n,e[5]=l):l=e[5];let u;return e[6]!==o||e[7]!==t||e[8]!==l?(u=d.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a,d.jsx(S.Input,{ref:t,className:l,...o})]}),e[6]=o,e[7]=t,e[8]=l,e[9]=u):u=e[9],u});De.displayName=S.Input.displayName;const Fe=i.forwardRef((r,t)=>{const e=M.c(9);let n,o;e[0]!==r?({className:n,...o}=r,e[0]=r,e[1]=n,e[2]=o):(n=e[1],o=e[2]);let a;e[3]!==n?(a=q("max-h-[300px] overflow-y-auto overflow-x-hidden",n),e[3]=n,e[4]=a):a=e[4];let l;return e[5]!==o||e[6]!==t||e[7]!==a?(l=d.jsx(S.List,{ref:t,className:a,...o}),e[5]=o,e[6]=t,e[7]=a,e[8]=l):l=e[8],l});Fe.displayName=S.List.displayName;const Le=i.forwardRef((r,t)=>{const e=M.c(3);let n;return e[0]!==r||e[1]!==t?(n=d.jsx(S.Empty,{ref:t,className:"py-6 text-center text-sm",...r}),e[0]=r,e[1]=t,e[2]=n):n=e[2],n});Le.displayName=S.Empty.displayName;const Te=i.forwardRef((r,t)=>{const e=M.c(9);let n,o;e[0]!==r?({className:n,...o}=r,e[0]=r,e[1]=n,e[2]=o):(n=e[1],o=e[2]);let a;e[3]!==n?(a=q("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),e[3]=n,e[4]=a):a=e[4];let l;return e[5]!==o||e[6]!==t||e[7]!==a?(l=d.jsx(S.Group,{ref:t,className:a,...o}),e[5]=o,e[6]=t,e[7]=a,e[8]=l):l=e[8],l});Te.displayName=S.Group.displayName;const Vt=i.forwardRef((r,t)=>{const e=M.c(9);let n,o;e[0]!==r?({className:n,...o}=r,e[0]=r,e[1]=n,e[2]=o):(n=e[1],o=e[2]);let a;e[3]!==n?(a=q("-mx-1 h-px bg-border",n),e[3]=n,e[4]=a):a=e[4];let l;return e[5]!==o||e[6]!==t||e[7]!==a?(l=d.jsx(S.Separator,{ref:t,className:a,...o}),e[5]=o,e[6]=t,e[7]=a,e[8]=l):l=e[8],l});Vt.displayName=S.Separator.displayName;const Ke=i.forwardRef((r,t)=>{const e=M.c(9);let n,o;e[0]!==r?({className:n,...o}=r,e[0]=r,e[1]=n,e[2]=o):(n=e[1],o=e[2]);let a;e[3]!==n?(a=q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",n),e[3]=n,e[4]=a):a=e[4];let l;return e[5]!==o||e[6]!==t||e[7]!==a?(l=d.jsx(S.Item,{ref:t,className:a,...o}),e[5]=o,e[6]=t,e[7]=a,e[8]=l):l=e[8],l});Ke.displayName=S.Item.displayName;var ee="Popover",[qe,fr]=ht(ee,[Re]),Y=Re(),[Bt,L]=qe(ee),ze=r=>{const{__scopePopover:t,children:e,open:n,defaultOpen:o,onOpenChange:a,modal:l=!1}=r,u=Y(t),v=i.useRef(null),[c,m]=i.useState(!1),[h,C]=gt({prop:n,defaultProp:o??!1,onChange:a,caller:ee});return d.jsx(at,{...u,children:d.jsx(Bt,{scope:t,contentId:T(),triggerRef:v,open:h,onOpenChange:C,onOpenToggle:i.useCallback(()=>C(y=>!y),[C]),hasCustomAnchor:c,onCustomAnchorAdd:i.useCallback(()=>m(!0),[]),onCustomAnchorRemove:i.useCallback(()=>m(!1),[]),modal:l,children:e})})};ze.displayName=ee;var Ve="PopoverAnchor",Gt=i.forwardRef((r,t)=>{const{__scopePopover:e,...n}=r,o=L(Ve,e),a=Y(e),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=o;return i.useEffect(()=>(l(),()=>u()),[l,u]),d.jsx(Ee,{...a,...n,ref:t})});Gt.displayName=Ve;var Be="PopoverTrigger",Ge=i.forwardRef((r,t)=>{const{__scopePopover:e,...n}=r,o=L(Be,e),a=Y(e),l=Pe(t,o.triggerRef),u=d.jsx(_.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Xe(o.open),...n,ref:l,onClick:W(r.onClick,o.onOpenToggle)});return o.hasCustomAnchor?u:d.jsx(Ee,{asChild:!0,...a,children:u})});Ge.displayName=Be;var fe="PopoverPortal",[Ht,Ut]=qe(fe,{forceMount:void 0}),He=r=>{const{__scopePopover:t,forceMount:e,children:n,container:o}=r,a=L(fe,t);return d.jsx(Ht,{scope:t,forceMount:e,children:d.jsx(Se,{present:e||a.open,children:d.jsx(lt,{asChild:!0,container:o,children:n})})})};He.displayName=fe;var G="PopoverContent",Ue=i.forwardRef((r,t)=>{const e=Ut(G,r.__scopePopover),{forceMount:n=e.forceMount,...o}=r,a=L(G,r.__scopePopover);return d.jsx(Se,{present:n||a.open,children:a.modal?d.jsx(Jt,{...o,ref:t}):d.jsx(Xt,{...o,ref:t})})});Ue.displayName=G;var Wt=Qe("PopoverContent.RemoveScroll"),Jt=i.forwardRef((r,t)=>{const e=L(G,r.__scopePopover),n=i.useRef(null),o=Pe(t,n),a=i.useRef(!1);return i.useEffect(()=>{const l=n.current;if(l)return st(l)},[]),d.jsx(it,{as:Wt,allowPinchZoom:!0,children:d.jsx(We,{...r,ref:o,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:W(r.onCloseAutoFocus,l=>{l.preventDefault(),a.current||e.triggerRef.current?.focus()}),onPointerDownOutside:W(r.onPointerDownOutside,l=>{const u=l.detail.originalEvent,v=u.button===0&&u.ctrlKey===!0,c=u.button===2||v;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:W(r.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Xt=i.forwardRef((r,t)=>{const e=L(G,r.__scopePopover),n=i.useRef(!1),o=i.useRef(!1);return d.jsx(We,{...r,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{r.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||e.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{r.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=a.target;e.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),We=i.forwardRef((r,t)=>{const{__scopePopover:e,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:v,onFocusOutside:c,onInteractOutside:m,...h}=r,C=L(G,e),y=Y(e);return ct(),d.jsx(ut,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:d.jsx(dt,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:v,onFocusOutside:c,onDismiss:()=>C.onOpenChange(!1),children:d.jsx(pt,{"data-state":Xe(C.open),role:"dialog",id:C.contentId,...y,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Je="PopoverClose",Yt=i.forwardRef((r,t)=>{const{__scopePopover:e,...n}=r,o=L(Je,e);return d.jsx(_.button,{type:"button",...n,ref:t,onClick:W(r.onClick,()=>o.onOpenChange(!1))})});Yt.displayName=Je;var Zt="PopoverArrow",Qt=i.forwardRef((r,t)=>{const{__scopePopover:e,...n}=r,o=Y(e);return d.jsx(ft,{...o,...n,ref:t})});Qt.displayName=Zt;function Xe(r){return r?"open":"closed"}var er=ze,tr=Ge,rr=He,Ye=Ue;const or=er,nr=tr,Ze=i.forwardRef((r,t)=>{const e=M.c(13);let n,o,a,l;e[0]!==r?({className:n,align:a,sideOffset:l,...o}=r,e[0]=r,e[1]=n,e[2]=o,e[3]=a,e[4]=l):(n=e[1],o=e[2],a=e[3],l=e[4]);const u=a===void 0?"center":a,v=l===void 0?4:l;let c;e[5]!==n?(c=q("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),e[5]=n,e[6]=c):c=e[6];let m;return e[7]!==u||e[8]!==o||e[9]!==t||e[10]!==v||e[11]!==c?(m=d.jsx(rr,{children:d.jsx(Ye,{ref:t,align:u,sideOffset:v,className:c,...o})}),e[7]=u,e[8]=o,e[9]=t,e[10]=v,e[11]=c,e[12]=m):m=e[12],m});Ze.displayName=Ye.displayName;function mr(r){const t=M.c(30),{materials:e,value:n,onChange:o,placeholder:a,disabled:l}=r,u=a===void 0?"Seleccionar Material...":a,[v,c]=i.useState(!1);let m;if(t[0]!==e||t[1]!==n){let P;t[3]!==n?(P=g=>g.id===n,t[3]=n,t[4]=P):P=t[4],m=e.find(P),t[0]=e,t[1]=n,t[2]=m}else m=t[2];const h=m;let C;t[5]!==e?(C=e.slice(0,50),t[5]=e,t[6]=C):C=t[6],i.useState(C);let y;t[7]!==u||t[8]!==h?(y=h?d.jsxs("span",{className:"truncate",children:[h.code&&d.jsxs("span",{className:"mr-2 font-mono text-xs opacity-70",children:["[",h.code,"]"]}),h.product_name,h.serial_number&&d.jsxs("span",{className:"ml-2 font-mono text-xs text-muted-foreground",children:["(S/N: ",h.serial_number,")"]})]}):d.jsx("span",{className:"text-muted-foreground",children:u}),t[7]=u,t[8]=h,t[9]=y):y=t[9];let N;t[10]===Symbol.for("react.memo_cache_sentinel")?(N=d.jsx(mt,{className:"ml-2 size-4 shrink-0 opacity-50"}),t[10]=N):N=t[10];let A;t[11]!==l||t[12]!==v||t[13]!==y?(A=d.jsx(nr,{asChild:!0,children:d.jsxs(et,{variant:"outline",role:"combobox","aria-expanded":v,className:"w-full justify-between overflow-hidden text-left font-normal",disabled:l,children:[y,N]})}),t[11]=l,t[12]=v,t[13]=y,t[14]=A):A=t[14];let j;t[15]===Symbol.for("react.memo_cache_sentinel")?(j=d.jsx(De,{placeholder:"Buscar por Nombre, Código o S/N..."}),t[15]=j):j=t[15];let O;t[16]===Symbol.for("react.memo_cache_sentinel")?(O=d.jsx(Le,{children:"No se encontró material."}),t[16]=O):O=t[16];let I;if(t[17]!==e||t[18]!==o||t[19]!==n){let P;t[21]!==o||t[22]!==n?(P=g=>d.jsxs(Ke,{value:`${g.product_name} ${g.code||""} ${g.serial_number||""}`,onSelect:()=>{o(g.id),c(!1)},children:[d.jsx(xt,{className:`mr-2 size-4 ${n===g.id?"opacity-100":"opacity-0"}`}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{children:g.product_name}),d.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[g.code&&d.jsxs("span",{children:["Code: ",g.code]}),g.serial_number&&d.jsxs("span",{children:["S/N:"," ",g.serial_number]}),d.jsxs("span",{children:["(Stock:"," ",g.stock_quantity,")"]})]})]})]},g.id),t[21]=o,t[22]=n,t[23]=P):P=t[23],I=e.map(P),t[17]=e,t[18]=o,t[19]=n,t[20]=I}else I=t[20];let $;t[24]!==I?($=d.jsx(Ze,{className:"w-[400px] p-0",align:"start",children:d.jsxs(Me,{filter:ar,children:[j,d.jsxs(Fe,{children:[O,d.jsx(Te,{children:I})]})]})}),t[24]=I,t[25]=$):$=t[25];let D;return t[26]!==v||t[27]!==$||t[28]!==A?(D=d.jsxs(or,{open:v,onOpenChange:c,children:[A,$]}),t[26]=v,t[27]=$,t[28]=A,t[29]=D):D=t[29],D}function ar(r,t){return r.toLowerCase().includes(t.toLowerCase())?1:0}export{De as C,mr as M,nr as P,Le as a,Ke as b,Ze as c,Me as d,Fe as e,Te as f,or as g};
