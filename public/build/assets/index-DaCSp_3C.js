import{c as B,b as P,j as s,L as y,H as k,a as w}from"./app-CGuCfgbg.js";import{B as z}from"./badge-DjUDnTMd.js";import{B as T,f as A}from"./button-D65nKyRz.js";import{C as D,a as E,b as F,c as I}from"./card-D3-mtHTa.js";import{a as L,b as $,d as H,c as q,S as G}from"./select-eF6aVqKn.js";import{T as S,a as l,b as J,c as x,d as K,e as M}from"./table-gE0ghFif.js";import{A as O}from"./app-layout-u9Q5DKjD.js";import{u as Q}from"./use-permissions-CSY_Jv43.js";import{P as U}from"./plus-34okoe-c.js";/* empty css            */import"./index-CUc2K9e4.js";import"./index-Cq7Q3MAY.js";import"./index-j9aIAwFT.js";import"./check-_Go1bDRb.js";import"./index-q7GIQJN5.js";import"./shield-7FbujOzr.js";const W=[{title:"Vehículos",href:"/vehicles/status"},{title:"Checklists",href:"/vehicles/checklists"}];function ue(t){const e=B.c(28),{checklists:a,vehicles:_,filters:V}=t;P();const{canCreate:C}=Q(),R=Z;let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(k,{title:"Historial Checklists"}),e[0]=f):f=e[0];let j;e[1]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Historial de Checklists"}),s.jsx("p",{className:"text-muted-foreground",children:"Registro de revisiones preventivas."})]}),e[1]=j):j=e[1];const N=V.vehicle_id||"all";let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(L,{children:s.jsx($,{placeholder:"Filtrar por Vehículo"})}),e[2]=u):u=e[2];let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(H,{value:"all",children:"Todos los Vehículos"}),e[3]=p):p=e[3];let i;e[4]!==_?(i=_.map(Y),e[4]=_,e[5]=i):i=e[5];let r;e[6]!==i?(r=s.jsxs(q,{children:[p,i]}),e[6]=i,e[7]=r):r=e[7];let c;e[8]!==N||e[9]!==r?(c=s.jsx("div",{className:"w-[200px]",children:s.jsxs(G,{value:N,onValueChange:R,children:[u,r]})}),e[8]=N,e[9]=r,e[10]=c):c=e[10];let n;e[11]!==C?(n=C("vehicles.checklist")&&s.jsx(y,{href:"/vehicles/checklists/create",children:s.jsxs(T,{children:[s.jsx(U,{className:"mr-2 size-4"}),"Nuevo Checklist"]})}),e[11]=C,e[12]=n):n=e[12];let o;e[13]!==c||e[14]!==n?(o=s.jsxs("div",{className:"flex items-center justify-between",children:[j,s.jsxs("div",{className:"flex gap-2",children:[c,n]})]}),e[13]=c,e[14]=n,e[15]=o):o=e[15];let v;e[16]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(D,{children:s.jsx(E,{children:"Registros"})}),e[16]=v):v=e[16];let g;e[17]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(J,{children:s.jsxs(S,{children:[s.jsx(x,{children:"ID"}),s.jsx(x,{children:"Fecha"}),s.jsx(x,{children:"Vehículo"}),s.jsx(x,{children:"Realizado Por"}),s.jsx(x,{children:"Estado"}),s.jsx(x,{className:"text-right",children:"Acciones"})]})}),e[17]=g):g=e[17];let d;e[18]!==a.data?(d=a.data.map(X),e[18]=a.data,e[19]=d):d=e[19];let h;e[20]!==a.data.length?(h=a.data.length===0&&s.jsx(S,{children:s.jsx(l,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No hay registros encontrados."})}),e[20]=a.data.length,e[21]=h):h=e[21];let m;e[22]!==d||e[23]!==h?(m=s.jsxs(F,{children:[v,s.jsx(I,{children:s.jsxs(K,{children:[g,s.jsxs(M,{children:[d,h]})]})})]}),e[22]=d,e[23]=h,e[24]=m):m=e[24];let b;return e[25]!==o||e[26]!==m?(b=s.jsxs(O,{breadcrumbs:W,children:[f,s.jsxs("div",{className:"flex flex-1 flex-col gap-8 p-4",children:[o,m]})]}),e[25]=o,e[26]=m,e[27]=b):b=e[27],b}function X(t){return s.jsxs(S,{children:[s.jsxs(l,{className:"font-medium",children:["#",t.id]}),s.jsx(l,{children:A(t.created_at)}),s.jsxs(l,{children:[s.jsx("div",{className:"font-medium",children:t.vehicle.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:t.vehicle.company})]}),s.jsx(l,{children:t.user.name}),s.jsx(l,{children:s.jsx(z,{variant:t.status==="Completed"?"default":"secondary",children:t.status})}),s.jsx(l,{className:"text-right",children:s.jsx(y,{href:`/vehicles/checklists/${t.id}`,children:s.jsx(T,{variant:"ghost",size:"sm",children:"Ver Detalles"})})})]},t.id)}function Y(t){return s.jsx(H,{value:t.id.toString(),children:t.name},t.id)}function Z(t){w.get("/vehicles/checklists",{vehicle_id:t==="all"?void 0:t},{preserveState:!0,replace:!0})}export{ue as default};
