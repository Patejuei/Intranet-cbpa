import{c as Je,r as Ie,u as Qe,j as t,H as Ve}from"./app-f77woEWo.js";import{B as qe}from"./button-BUox-IYX.js";import{D as Ge,a as Ue,b as Ke,c as We,d as Xe}from"./dialog-Do1I3oLm.js";import{I as u}from"./input-BD7Eroi9.js";import{L as f}from"./label-P30CEsyl.js";import{S as Ye,a as Ze,b as et,c as tt,d as r}from"./select-CUASvSPl.js";import{A as at}from"./app-layout-B4XzD86h.js";import{C as lt}from"./CompanyFilter-D-Tvvwo6.js";import{P as st}from"./Pagination-BOLB8CdC.js";import{P as ot}from"./pencil-CEPimW-V.js";import{P as rt}from"./plus-DxwsFPlv.js";import{S as nt}from"./search-CsxSDLNZ.js";/* empty css            */import"./index-CE2_aldF.js";import"./index-BJkESKFP.js";import"./index-CPAQGPCJ.js";import"./check-DZ06pTr0.js";import"./index-C4J_hXM0.js";import"./shield-R2tHue2s.js";function It(Re){const e=Je.c(151),{materials:h}=Re,[n,$e]=Ie.useState(""),[we,x]=Ie.useState(!1),[g,ze]=Ie.useState(!1),[se,Be]=Ie.useState(null);let oe;e[0]===Symbol.for("react.memo_cache_sentinel")?(oe={product_name:"",brand:"",model:"",code:"",stock_quantity:0,company:"Segunda Compañía",category:"",document_path:null},e[0]=oe):oe=e[0];const{data:s,setData:l,post:Pe,put:Me,processing:De,reset:Fe}=Qe(oe);let re;e[1]!==Fe?(re=()=>{Fe(),ze(!1),Be(null),x(!0)},e[1]=Fe,e[2]=re):re=e[2];const le=re;let ne;e[3]!==l?(ne=a=>{l({product_name:a.product_name,brand:a.brand||"",model:a.model||"",code:a.code||"",stock_quantity:a.stock_quantity,company:a.company,category:a.category||"",document_path:null}),ze(!0),Be(a.id),x(!0)},e[3]=l,e[4]=ne):ne=e[4];const Ee=ne;let ie;e[5]!==se||e[6]!==g||e[7]!==Pe||e[8]!==Me?(ie=a=>{a.preventDefault(),g&&se?Me(`/inventory/${se}`,{onSuccess:()=>x(!1)}):Pe("/inventory",{onSuccess:()=>x(!1)})},e[5]=se,e[6]=g,e[7]=Pe,e[8]=Me,e[9]=ie):ie=e[9];const Le=ie;let j,y,v,i,c,d,m,C,_,b,p,N;if(e[10]!==h.data||e[11]!==le||e[12]!==Ee||e[13]!==n){let a;e[26]!==n?(a=o=>o.product_name.toLowerCase().includes(n.toLowerCase())||o.code&&o.code.toLowerCase().includes(n.toLowerCase())||o.brand&&o.brand.toLowerCase().includes(n.toLowerCase()),e[26]=n,e[27]=a):a=e[27];const He=h.data.filter(a);j=at,e[28]===Symbol.for("react.memo_cache_sentinel")?(d=[{title:"Panel Principal",href:"/dashboard"},{title:"Inventario",href:"/inventory"}],m=t.jsx(Ve,{title:"Inventario de Material Menor"}),e[28]=d,e[29]=m):(d=e[28],m=e[29]),v="flex flex-col gap-6 p-4";let _e;e[30]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Inventario de Material Menor"}),t.jsx("p",{className:"text-muted-foreground",children:"Control de stock de materiales y equipos."})]}),e[30]=_e):_e=e[30];let be;e[31]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx(rt,{className:"size-4"}),e[31]=be):be=e[31],e[32]!==le?(i=t.jsxs("div",{className:"flex items-center justify-between",children:[_e,t.jsxs(qe,{onClick:le,className:"gap-2",children:[be,"Agregar Material"]})]}),e[32]=le,e[33]=i):i=e[33];let Ne;e[34]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(nt,{className:"size-4 text-muted-foreground"}),e[34]=Ne):Ne=e[34];let Se;e[35]===Symbol.for("react.memo_cache_sentinel")?(Se=o=>$e(o.target.value),e[35]=Se):Se=e[35];let ae;e[36]!==n?(ae=t.jsxs("div",{className:"flex max-w-sm items-center gap-2",children:[Ne,t.jsx(u,{placeholder:"Buscar en esta página...",value:n,onChange:Se,className:"h-9"})]}),e[36]=n,e[37]=ae):ae=e[37];let ke;e[38]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx(lt,{}),e[38]=ke):ke=e[38],e[39]!==ae?(c=t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[ae,ke]}),e[39]=ae,e[40]=c):c=e[40],y="rounded-xl border bg-card shadow-sm",N="overflow-x-auto",b="w-full text-left text-sm",e[41]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx("thead",{className:"bg-muted/50 text-muted-foreground",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 font-medium",children:"Código"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Producto"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Marca / Modelo"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Stock"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Categoría"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Compañía"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Acciones"})]})}),e[41]=p):p=e[41],C="divide-y",_=He.length>0?He.map(o=>t.jsxs("tr",{className:"hover:bg-muted/30",children:[t.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:o.code||"-"}),t.jsx("td",{className:"px-4 py-3 font-medium",children:o.product_name}),t.jsxs("td",{className:"px-4 py-3",children:[o.brand," ",o.model]}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${o.stock_quantity>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[o.stock_quantity," ","un."]})}),t.jsx("td",{className:"px-4 py-3",children:o.category||"-"}),t.jsx("td",{className:"px-4 py-3",children:o.company}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>Ee(o),children:t.jsx(ot,{className:"size-4"})})})]},o.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-muted-foreground",children:"No se encontraron materiales en esta página."})}),e[10]=h.data,e[11]=le,e[12]=Ee,e[13]=n,e[14]=j,e[15]=y,e[16]=v,e[17]=i,e[18]=c,e[19]=d,e[20]=m,e[21]=C,e[22]=_,e[23]=b,e[24]=p,e[25]=N}else j=e[14],y=e[15],v=e[16],i=e[17],c=e[18],d=e[19],m=e[20],C=e[21],_=e[22],b=e[23],p=e[24],N=e[25];let S;e[42]!==C||e[43]!==_?(S=t.jsx("tbody",{className:C,children:_}),e[42]=C,e[43]=_,e[44]=S):S=e[44];let k;e[45]!==S||e[46]!==b||e[47]!==p?(k=t.jsxs("table",{className:b,children:[p,S]}),e[45]=S,e[46]=b,e[47]=p,e[48]=k):k=e[48];let I;e[49]!==k||e[50]!==N?(I=t.jsx("div",{className:N,children:k}),e[49]=k,e[50]=N,e[51]=I):I=e[51];let q;e[52]!==y||e[53]!==I?(q=t.jsx("div",{className:y,children:I}),e[52]=y,e[53]=I,e[54]=q):q=e[54];let w;e[55]!==h.links?(w=t.jsx(st,{links:h.links}),e[55]=h.links,e[56]=w):w=e[56];let P;e[57]!==v||e[58]!==i||e[59]!==c||e[60]!==q||e[61]!==w?(P=t.jsxs("div",{className:v,children:[i,c,q,w]}),e[57]=v,e[58]=i,e[59]=c,e[60]=q,e[61]=w,e[62]=P):P=e[62];const Ae=g?"Editar Material":"Agregar Nuevo Material";let M;e[63]!==Ae?(M=t.jsx(Ge,{children:Ae}),e[63]=Ae,e[64]=M):M=e[64];const Te=g?"Modifique los detalles del material.":"Ingrese los detalles del nuevo material para inventario.";let D;e[65]!==Te?(D=t.jsx(Ue,{children:Te}),e[65]=Te,e[66]=D):D=e[66];let F;e[67]!==M||e[68]!==D?(F=t.jsxs(Ke,{children:[M,D]}),e[67]=M,e[68]=D,e[69]=F):F=e[69];let ce;e[70]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(f,{htmlFor:"company",children:"Compañía"}),e[70]=ce):ce=e[70];let E;e[71]!==l?(E=a=>l("company",a),e[71]=l,e[72]=E):E=e[72];let de;e[73]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(Ze,{className:"w-full",children:t.jsx(et,{placeholder:"Seleccione Compañía"})}),e[73]=de):de=e[73];let me;e[74]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsxs(tt,{children:[t.jsx(r,{value:"Primera Compañía",children:"Primera Compañía"}),t.jsx(r,{value:"Segunda Compañía",children:"Segunda Compañía"}),t.jsx(r,{value:"Tercera Compañía",children:"Tercera Compañía"}),t.jsx(r,{value:"Cuarta Compañía",children:"Cuarta Compañía"}),t.jsx(r,{value:"Quinta Compañía",children:"Quinta Compañía"}),t.jsx(r,{value:"Sexta Compañía",children:"Sexta Compañía"}),t.jsx(r,{value:"Séptima Compañía",children:"Séptima Compañía"}),t.jsx(r,{value:"Octava Compañía",children:"Octava Compañía"}),t.jsx(r,{value:"Novena Compañía",children:"Novena Compañía"}),t.jsx(r,{value:"Brigada Juvenil",children:"Brigada Juvenil"}),t.jsx(r,{value:"Comandancia",children:"Comandancia"})]}),e[74]=me):me=e[74];let L;e[75]!==s.company||e[76]!==E?(L=t.jsxs("div",{className:"grid gap-2",children:[ce,t.jsxs(Ye,{value:s.company,onValueChange:E,children:[de,me]})]}),e[75]=s.company,e[76]=E,e[77]=L):L=e[77];let pe;e[78]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(f,{htmlFor:"product_name",children:"Nombre del Producto"}),e[78]=pe):pe=e[78];let A;e[79]!==l?(A=a=>l("product_name",a.target.value),e[79]=l,e[80]=A):A=e[80];let T;e[81]!==s.product_name||e[82]!==A?(T=t.jsxs("div",{className:"grid gap-2",children:[pe,t.jsx(u,{id:"product_name",value:s.product_name,onChange:A,required:!0})]}),e[81]=s.product_name,e[82]=A,e[83]=T):T=e[83];let ue;e[84]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(f,{htmlFor:"brand",children:"Marca"}),e[84]=ue):ue=e[84];let O;e[85]!==l?(O=a=>l("brand",a.target.value),e[85]=l,e[86]=O):O=e[86];let z;e[87]!==s.brand||e[88]!==O?(z=t.jsxs("div",{className:"grid gap-2",children:[ue,t.jsx(u,{id:"brand",value:s.brand,onChange:O})]}),e[87]=s.brand,e[88]=O,e[89]=z):z=e[89];let fe;e[90]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(f,{htmlFor:"model",children:"Modelo"}),e[90]=fe):fe=e[90];let B;e[91]!==l?(B=a=>l("model",a.target.value),e[91]=l,e[92]=B):B=e[92];let H;e[93]!==s.model||e[94]!==B?(H=t.jsxs("div",{className:"grid gap-2",children:[fe,t.jsx(u,{id:"model",value:s.model,onChange:B})]}),e[93]=s.model,e[94]=B,e[95]=H):H=e[95];let R;e[96]!==z||e[97]!==H?(R=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[z,H]}),e[96]=z,e[97]=H,e[98]=R):R=e[98];let he;e[99]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(f,{htmlFor:"code",children:"Código Interno"}),e[99]=he):he=e[99];let $;e[100]!==l?($=a=>l("code",a.target.value),e[100]=l,e[101]=$):$=e[101];let J;e[102]!==s.code||e[103]!==$?(J=t.jsxs("div",{className:"grid gap-2",children:[he,t.jsx(u,{id:"code",value:s.code,onChange:$})]}),e[102]=s.code,e[103]=$,e[104]=J):J=e[104];let xe;e[105]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(f,{htmlFor:"stock_quantity",children:"Cantidad Inicial"}),e[105]=xe):xe=e[105];let Q;e[106]!==l?(Q=a=>l("stock_quantity",parseInt(a.target.value)),e[106]=l,e[107]=Q):Q=e[107];let V;e[108]!==s.stock_quantity||e[109]!==Q?(V=t.jsxs("div",{className:"grid gap-2",children:[xe,t.jsx(u,{id:"stock_quantity",type:"number",min:"0",value:s.stock_quantity,onChange:Q,required:!0})]}),e[108]=s.stock_quantity,e[109]=Q,e[110]=V):V=e[110];let G;e[111]!==J||e[112]!==V?(G=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[J,V]}),e[111]=J,e[112]=V,e[113]=G):G=e[113];let ge;e[114]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(f,{htmlFor:"category",children:"Categoría"}),e[114]=ge):ge=e[114];let U;e[115]!==l?(U=a=>l("category",a.target.value),e[115]=l,e[116]=U):U=e[116];let K;e[117]!==s.category||e[118]!==U?(K=t.jsxs("div",{className:"grid gap-2",children:[ge,t.jsx(u,{id:"category",value:s.category,onChange:U,placeholder:"Ej: EPP, Uniforme, Radio..."})]}),e[117]=s.category,e[118]=U,e[119]=K):K=e[119];let je;e[120]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(f,{htmlFor:"document_path",children:"Documento de Alta (Opcional)"}),e[120]=je):je=e[120];let W;e[121]!==l?(W=t.jsx(u,{id:"document_path",type:"file",onChange:a=>l("document_path",a.target.files?a.target.files[0]:null),className:"cursor-pointer"}),e[121]=l,e[122]=W):W=e[122];let ye;e[123]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx("p",{className:"text-[0.8rem] text-muted-foreground",children:"Adjuntar factura, guía de despacho o acta de alta."}),e[123]=ye):ye=e[123];let X;e[124]!==W?(X=t.jsxs("div",{className:"grid gap-2",children:[je,W,ye]}),e[124]=W,e[125]=X):X=e[125];let ve;e[126]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(qe,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),e[126]=ve):ve=e[126];const Oe=g?"Actualizar":"Guardar";let Y;e[127]!==De||e[128]!==Oe?(Y=t.jsxs("div",{className:"flex justify-end gap-2",children:[ve,t.jsx(qe,{type:"submit",disabled:De,children:Oe})]}),e[127]=De,e[128]=Oe,e[129]=Y):Y=e[129];let Z;e[130]!==Le||e[131]!==L||e[132]!==T||e[133]!==R||e[134]!==G||e[135]!==K||e[136]!==X||e[137]!==Y?(Z=t.jsxs("form",{onSubmit:Le,className:"grid gap-4 py-4",children:[L,T,R,G,K,X,Y]}),e[130]=Le,e[131]=L,e[132]=T,e[133]=R,e[134]=G,e[135]=K,e[136]=X,e[137]=Y,e[138]=Z):Z=e[138];let ee;e[139]!==F||e[140]!==Z?(ee=t.jsxs(We,{children:[F,Z]}),e[139]=F,e[140]=Z,e[141]=ee):ee=e[141];let te;e[142]!==we||e[143]!==ee?(te=t.jsx(Xe,{open:we,onOpenChange:x,children:ee}),e[142]=we,e[143]=ee,e[144]=te):te=e[144];let Ce;return e[145]!==j||e[146]!==d||e[147]!==m||e[148]!==P||e[149]!==te?(Ce=t.jsxs(j,{breadcrumbs:d,children:[m,P,te]}),e[145]=j,e[146]=d,e[147]=m,e[148]=P,e[149]=te,e[150]=Ce):Ce=e[150],Ce}export{It as default};
