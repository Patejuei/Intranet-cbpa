import{c as V,r as B,j as t,L as R,a as H,H as $}from"./app-CBY63E8O.js";import{B as M}from"./button-u7aOUw7b.js";import{I as q}from"./input-C4BK_Wk1.js";import{a as G,b as J,c as O,d as E,S as Q}from"./select-BGP1GqMU.js";import{T as L,a as c,b as W,c as o,d as X,e as Y}from"./table-DuHZg5vq.js";import{A as Z}from"./app-layout-DTk5q9Hs.js";import{P as ee}from"./plus-KzPaMIHw.js";import{S as te}from"./square-pen-8_68Nw70.js";import{T as se}from"./trash-2-63j7krDd.js";import{S as re}from"./search-B8qfVs_7.js";/* empty css            */import"./index-BNu6O6um.js";import"./index-B580IPxa.js";import"./index-CAIl2azn.js";import"./chevron-down-BHt_bYLt.js";import"./check-VkHhCE9A.js";import"./index-C4J_hXM0.js";import"./shield-BSKZHwMX.js";function _e(f){const e=V.c(33),{items:u,filters:r}=f,[l,P]=B.useState(r.search||""),[a,U]=B.useState(r.category||"all");let j,p;e[0]!==a||e[1]!==r.category||e[2]!==r.search||e[3]!==l?(j=()=>{const s=setTimeout(()=>{const F=r.search||"",K=r.category||"all";(l!==F||a!==K)&&H.get(route("vehicles.inventory.index"),{search:l,category:a!=="all"?a:void 0},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(s)},p=[l,a,r.search,r.category],e[0]=a,e[1]=r.category,e[2]=r.search,e[3]=l,e[4]=j,e[5]=p):(j=e[4],p=e[5]),B.useEffect(j,p);let g;e[6]===Symbol.for("react.memo_cache_sentinel")?(g=s=>{U(s)},e[6]=g):g=e[6];const A=g,z=le,D=ae;let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y={title:"Material Mayor",href:"/vehicles/status"},e[7]=y):y=e[7];let b,v;e[8]===Symbol.for("react.memo_cache_sentinel")?(b=[y,{title:"Bodega Central",href:route("vehicles.inventory.index")}],v=t.jsx($,{title:"Bodega Material Mayor"}),e[8]=b,e[9]=v):(b=e[8],v=e[9]);let N;e[10]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx("div",{className:"mb-4 flex items-center justify-between",children:t.jsx("h2",{className:"text-xl leading-tight font-semibold text-gray-800",children:"Bodega Material Mayor"})}),e[10]=N):N=e[10];let S;e[11]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(re,{className:"absolute top-2.5 left-2 h-4 w-4 text-muted-foreground"}),e[11]=S):S=e[11];let _;e[12]===Symbol.for("react.memo_cache_sentinel")?(_=s=>P(s.target.value),e[12]=_):_=e[12];let n;e[13]!==l?(n=t.jsxs("div",{className:"relative w-72",children:[S,t.jsx(q,{placeholder:"Buscar por nombre o SKU...",className:"pl-8",value:l,onChange:_})]}),e[13]=l,e[14]=n):n=e[14];let C;e[15]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(G,{className:"w-[180px]",children:t.jsx(J,{placeholder:"Categoría"})}),e[15]=C):C=e[15];let w;e[16]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsxs(O,{children:[t.jsx(E,{value:"all",children:"Todas"}),t.jsx(E,{value:"insumo",children:"Insumos"}),t.jsx(E,{value:"repuesto",children:"Repuestos"})]}),e[16]=w):w=e[16];let i;e[17]!==a?(i=t.jsxs(Q,{value:a,onValueChange:A,children:[C,w]}),e[17]=a,e[18]=i):i=e[18];let m;e[19]!==n||e[20]!==i?(m=t.jsxs("div",{className:"flex flex-1 items-center gap-4",children:[n,i]}),e[19]=n,e[20]=i,e[21]=m):m=e[21];let T;e[22]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(M,{asChild:!0,children:t.jsxs(R,{href:route("vehicles.inventory.create"),children:[t.jsx(ee,{className:"mr-2 h-4 w-4"}),"Nuevo Ítem"]})}),e[22]=T):T=e[22];let d;e[23]!==m?(d=t.jsxs("div",{className:"flex items-center justify-between",children:[m,T]}),e[23]=m,e[24]=d):d=e[24];let I;e[25]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(W,{children:t.jsxs(L,{children:[t.jsx(o,{children:"SKU"}),t.jsx(o,{children:"Nombre"}),t.jsx(o,{children:"Categoría"}),t.jsx(o,{className:"text-right",children:"Stock"}),t.jsx(o,{className:"text-right",children:"Costo Unit."}),t.jsx(o,{children:"Ubicación"}),t.jsx(o,{className:"text-right",children:"Acciones"})]})}),e[25]=I):I=e[25];let h;e[26]!==u.data?(h=u.data.length===0?t.jsx(L,{children:t.jsx(c,{colSpan:7,className:"py-8 text-center text-muted-foreground",children:"No se encontraron ítems."})}):u.data.map(s=>t.jsxs(L,{children:[t.jsx(c,{className:"font-mono text-xs",children:s.sku||"-"}),t.jsx(c,{className:"font-medium",children:s.name}),t.jsx(c,{children:t.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-semibold ${s.category==="insumo"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}`,children:s.category==="insumo"?"Insumo":"Repuesto"})}),t.jsx(c,{className:"text-right",children:t.jsx("span",{className:s.stock<=s.min_stock?"font-bold text-red-600":"text-green-600",children:s.stock})}),t.jsx(c,{className:"text-right",children:D(s.unit_cost)}),t.jsx(c,{children:s.location||"-"}),t.jsx(c,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(M,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(R,{href:route("vehicles.inventory.edit",s.id),children:t.jsx(te,{className:"h-4 w-4"})})}),t.jsx(M,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>z(s.id),children:t.jsx(se,{className:"h-4 w-4"})})]})})]},s.id)),e[26]=u.data,e[27]=h):h=e[27];let x;e[28]!==h?(x=t.jsx("div",{className:"rounded-md border bg-white shadow-sm",children:t.jsxs(X,{children:[I,t.jsx(Y,{children:h})]})}),e[28]=h,e[29]=x):x=e[29];let k;return e[30]!==d||e[31]!==x?(k=t.jsxs(Z,{breadcrumbs:b,children:[v,t.jsx("div",{className:"py-12",children:t.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[N,d,x]})})})]}),e[30]=d,e[31]=x,e[32]=k):k=e[32],k}function ae(f){return new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(f)}function le(f){confirm("¿Está seguro de eliminar este ítem?")&&H.delete(route("vehicles.inventory.destroy",f))}export{_e as default};
