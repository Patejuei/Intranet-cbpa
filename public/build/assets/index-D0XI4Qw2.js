import{c as Re,r as qe,u as Je,j as t,L as Qe,H as Ge}from"./app-Y3wPkO7k.js";import{B as le}from"./button-IaI-p2sT.js";import{D as Ue,a as Ke,b as We,c as Xe,d as Ye}from"./dialog-BQ3iqOif.js";import{I as u}from"./input-Ci3WR__e.js";import{L as f}from"./label-CIN9rteu.js";import{S as Ze,a as et,b as tt,c as at,d as r}from"./select-yIse2YFz.js";import{F as st,A as lt}from"./app-layout-LB7JlbCh.js";import{C as ot}from"./CompanyFilter-rND6QZzc.js";import{P as rt}from"./Pagination-ic1UgAiN.js";import{E as nt}from"./eye-CDbBxsUh.js";import{P as it}from"./pencil-DQufzRdK.js";import{P as ct}from"./plus-C0IpdlnY.js";import{S as dt}from"./search-CCATswSX.js";/* empty css            */import"./index-DHyoASyW.js";import"./index-CxTk-NYF.js";import"./index-CwZq2zaV.js";import"./chevron-down-DRs0A40W.js";import"./check-CxauaCCR.js";import"./index-C4J_hXM0.js";import"./shield-YzFc6gme.js";function Dt(Ve){const e=Re.c(151),{materials:h}=Ve,[n,He]=qe.useState(""),[we,x]=qe.useState(!1),[g,Oe]=qe.useState(!1),[oe,Be]=qe.useState(null);let re;e[0]===Symbol.for("react.memo_cache_sentinel")?(re={product_name:"",brand:"",model:"",code:"",stock_quantity:0,company:"Segunda Compañía",category:"",document_path:null},e[0]=re):re=e[0];const{data:l,setData:s,post:Pe,put:Me,processing:De,reset:Fe}=Je(re);let ne;e[1]!==Fe?(ne=()=>{Fe(),Oe(!1),Be(null),x(!0)},e[1]=Fe,e[2]=ne):ne=e[2];const se=ne;let ie;e[3]!==s?(ie=a=>{s({product_name:a.product_name,brand:a.brand||"",model:a.model||"",code:a.code||"",stock_quantity:a.stock_quantity,company:a.company,category:a.category||"",document_path:null}),Oe(!0),Be(a.id),x(!0)},e[3]=s,e[4]=ie):ie=e[4];const Ee=ie;let ce;e[5]!==oe||e[6]!==g||e[7]!==Pe||e[8]!==Me?(ce=a=>{a.preventDefault(),g&&oe?Me(`/inventory/${oe}`,{onSuccess:()=>x(!1)}):Pe("/inventory",{onSuccess:()=>x(!1)})},e[5]=oe,e[6]=g,e[7]=Pe,e[8]=Me,e[9]=ce):ce=e[9];const Le=ce;let j,y,v,i,c,d,m,b,C,_,p,N;if(e[10]!==h.data||e[11]!==se||e[12]!==Ee||e[13]!==n){let a;e[26]!==n?(a=o=>o.product_name.toLowerCase().includes(n.toLowerCase())||o.code&&o.code.toLowerCase().includes(n.toLowerCase())||o.brand&&o.brand.toLowerCase().includes(n.toLowerCase()),e[26]=n,e[27]=a):a=e[27];const $e=h.data.filter(a);j=lt,e[28]===Symbol.for("react.memo_cache_sentinel")?(d=[{title:"Panel Principal",href:"/dashboard"},{title:"Inventario",href:"/inventory"}],m=t.jsx(Ge,{title:"Inventario de Material Menor"}),e[28]=d,e[29]=m):(d=e[28],m=e[29]),v="flex flex-col gap-6 p-4";let _e;e[30]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Inventario de Material Menor"}),t.jsx("p",{className:"text-muted-foreground",children:"Control de stock de materiales y equipos."})]}),e[30]=_e):_e=e[30];let Ne;e[31]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(ct,{className:"size-4"}),e[31]=Ne):Ne=e[31],e[32]!==se?(i=t.jsxs("div",{className:"flex items-center justify-between",children:[_e,t.jsxs(le,{onClick:se,className:"gap-2",children:[Ne,"Agregar Material"]})]}),e[32]=se,e[33]=i):i=e[33];let Se;e[34]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(dt,{className:"size-4 text-muted-foreground"}),e[34]=Se):Se=e[34];let ke;e[35]===Symbol.for("react.memo_cache_sentinel")?(ke=o=>He(o.target.value),e[35]=ke):ke=e[35];let ae;e[36]!==n?(ae=t.jsxs("div",{className:"flex max-w-sm items-center gap-2",children:[Se,t.jsx(u,{placeholder:"Buscar en esta página...",value:n,onChange:ke,className:"h-9"})]}),e[36]=n,e[37]=ae):ae=e[37];let Ie;e[38]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(ot,{}),e[38]=Ie):Ie=e[38],e[39]!==ae?(c=t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[ae,Ie]}),e[39]=ae,e[40]=c):c=e[40],y="rounded-xl border bg-card shadow-sm",N="overflow-x-auto",_="w-full text-left text-sm",e[41]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx("thead",{className:"bg-muted/50 text-muted-foreground",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 font-medium",children:"Cód / N° Inv"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Producto"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Marca / Modelo"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Stock"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Categoría"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Compañía"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Acciones"})]})}),e[41]=p):p=e[41],b="divide-y",C=$e.length>0?$e.map(o=>t.jsxs("tr",{className:"hover:bg-muted/30",children:[t.jsx("td",{className:"px-4 py-3 font-mono text-muted-foreground",children:o.code||"-"}),t.jsx("td",{className:"px-4 py-3 font-medium",children:o.product_name}),t.jsxs("td",{className:"px-4 py-3",children:[o.brand," ",o.model]}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${o.stock_quantity>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[o.stock_quantity," ","un."]})}),t.jsx("td",{className:"px-4 py-3",children:o.category||"-"}),t.jsx("td",{className:"px-4 py-3",children:o.company}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(le,{variant:"ghost",size:"icon",asChild:!0,title:"Ver Detalle",children:t.jsx(Qe,{href:`/inventory/${o.id}`,children:t.jsx(nt,{className:"size-4"})})}),o.document_path&&t.jsx("a",{href:`/storage/${o.document_path}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-input bg-background text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground",title:"Ver Documento",children:t.jsx(st,{className:"size-4"})}),t.jsx(le,{variant:"ghost",size:"icon",onClick:()=>Ee(o),children:t.jsx(it,{className:"size-4"})})]})})]},o.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-muted-foreground",children:"No se encontraron materiales en esta página."})}),e[10]=h.data,e[11]=se,e[12]=Ee,e[13]=n,e[14]=j,e[15]=y,e[16]=v,e[17]=i,e[18]=c,e[19]=d,e[20]=m,e[21]=b,e[22]=C,e[23]=_,e[24]=p,e[25]=N}else j=e[14],y=e[15],v=e[16],i=e[17],c=e[18],d=e[19],m=e[20],b=e[21],C=e[22],_=e[23],p=e[24],N=e[25];let S;e[42]!==b||e[43]!==C?(S=t.jsx("tbody",{className:b,children:C}),e[42]=b,e[43]=C,e[44]=S):S=e[44];let k;e[45]!==S||e[46]!==_||e[47]!==p?(k=t.jsxs("table",{className:_,children:[p,S]}),e[45]=S,e[46]=_,e[47]=p,e[48]=k):k=e[48];let I;e[49]!==k||e[50]!==N?(I=t.jsx("div",{className:N,children:k}),e[49]=k,e[50]=N,e[51]=I):I=e[51];let q;e[52]!==y||e[53]!==I?(q=t.jsx("div",{className:y,children:I}),e[52]=y,e[53]=I,e[54]=q):q=e[54];let w;e[55]!==h.links?(w=t.jsx(rt,{links:h.links}),e[55]=h.links,e[56]=w):w=e[56];let P;e[57]!==v||e[58]!==i||e[59]!==c||e[60]!==q||e[61]!==w?(P=t.jsxs("div",{className:v,children:[i,c,q,w]}),e[57]=v,e[58]=i,e[59]=c,e[60]=q,e[61]=w,e[62]=P):P=e[62];const ze=g?"Editar Material":"Agregar Nuevo Material";let M;e[63]!==ze?(M=t.jsx(Ue,{children:ze}),e[63]=ze,e[64]=M):M=e[64];const Ae=g?"Modifique los detalles del material.":"Ingrese los detalles del nuevo material para inventario.";let D;e[65]!==Ae?(D=t.jsx(Ke,{children:Ae}),e[65]=Ae,e[66]=D):D=e[66];let F;e[67]!==M||e[68]!==D?(F=t.jsxs(We,{children:[M,D]}),e[67]=M,e[68]=D,e[69]=F):F=e[69];let de;e[70]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(f,{htmlFor:"company",children:"Compañía"}),e[70]=de):de=e[70];let E;e[71]!==s?(E=a=>s("company",a),e[71]=s,e[72]=E):E=e[72];let me;e[73]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(et,{className:"w-full",children:t.jsx(tt,{placeholder:"Seleccione Compañía"})}),e[73]=me):me=e[73];let pe;e[74]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsxs(at,{children:[t.jsx(r,{value:"Primera Compañía",children:"Primera Compañía"}),t.jsx(r,{value:"Segunda Compañía",children:"Segunda Compañía"}),t.jsx(r,{value:"Tercera Compañía",children:"Tercera Compañía"}),t.jsx(r,{value:"Cuarta Compañía",children:"Cuarta Compañía"}),t.jsx(r,{value:"Quinta Compañía",children:"Quinta Compañía"}),t.jsx(r,{value:"Sexta Compañía",children:"Sexta Compañía"}),t.jsx(r,{value:"Séptima Compañía",children:"Séptima Compañía"}),t.jsx(r,{value:"Octava Compañía",children:"Octava Compañía"}),t.jsx(r,{value:"Novena Compañía",children:"Novena Compañía"}),t.jsx(r,{value:"Brigada Juvenil",children:"Brigada Juvenil"}),t.jsx(r,{value:"Comandancia",children:"Comandancia"})]}),e[74]=pe):pe=e[74];let L;e[75]!==l.company||e[76]!==E?(L=t.jsxs("div",{className:"grid gap-2",children:[de,t.jsxs(Ze,{value:l.company,onValueChange:E,children:[me,pe]})]}),e[75]=l.company,e[76]=E,e[77]=L):L=e[77];let ue;e[78]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(f,{htmlFor:"product_name",children:"Nombre del Producto"}),e[78]=ue):ue=e[78];let z;e[79]!==s?(z=a=>s("product_name",a.target.value),e[79]=s,e[80]=z):z=e[80];let A;e[81]!==l.product_name||e[82]!==z?(A=t.jsxs("div",{className:"grid gap-2",children:[ue,t.jsx(u,{id:"product_name",value:l.product_name,onChange:z,required:!0})]}),e[81]=l.product_name,e[82]=z,e[83]=A):A=e[83];let fe;e[84]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(f,{htmlFor:"brand",children:"Marca"}),e[84]=fe):fe=e[84];let T;e[85]!==s?(T=a=>s("brand",a.target.value),e[85]=s,e[86]=T):T=e[86];let O;e[87]!==l.brand||e[88]!==T?(O=t.jsxs("div",{className:"grid gap-2",children:[fe,t.jsx(u,{id:"brand",value:l.brand,onChange:T})]}),e[87]=l.brand,e[88]=T,e[89]=O):O=e[89];let he;e[90]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(f,{htmlFor:"model",children:"Modelo"}),e[90]=he):he=e[90];let B;e[91]!==s?(B=a=>s("model",a.target.value),e[91]=s,e[92]=B):B=e[92];let $;e[93]!==l.model||e[94]!==B?($=t.jsxs("div",{className:"grid gap-2",children:[he,t.jsx(u,{id:"model",value:l.model,onChange:B})]}),e[93]=l.model,e[94]=B,e[95]=$):$=e[95];let V;e[96]!==O||e[97]!==$?(V=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[O,$]}),e[96]=O,e[97]=$,e[98]=V):V=e[98];let xe;e[99]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(f,{htmlFor:"code",children:"Código Interno"}),e[99]=xe):xe=e[99];let H;e[100]!==s?(H=a=>s("code",a.target.value),e[100]=s,e[101]=H):H=e[101];let R;e[102]!==l.code||e[103]!==H?(R=t.jsxs("div",{className:"grid gap-2",children:[xe,t.jsx(u,{id:"code",value:l.code,onChange:H})]}),e[102]=l.code,e[103]=H,e[104]=R):R=e[104];let ge;e[105]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(f,{htmlFor:"stock_quantity",children:"Cantidad Inicial"}),e[105]=ge):ge=e[105];let J;e[106]!==s?(J=a=>s("stock_quantity",parseInt(a.target.value)),e[106]=s,e[107]=J):J=e[107];let Q;e[108]!==l.stock_quantity||e[109]!==J?(Q=t.jsxs("div",{className:"grid gap-2",children:[ge,t.jsx(u,{id:"stock_quantity",type:"number",min:"0",value:l.stock_quantity,onChange:J,required:!0})]}),e[108]=l.stock_quantity,e[109]=J,e[110]=Q):Q=e[110];let G;e[111]!==R||e[112]!==Q?(G=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R,Q]}),e[111]=R,e[112]=Q,e[113]=G):G=e[113];let je;e[114]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(f,{htmlFor:"category",children:"Categoría"}),e[114]=je):je=e[114];let U;e[115]!==s?(U=a=>s("category",a.target.value),e[115]=s,e[116]=U):U=e[116];let K;e[117]!==l.category||e[118]!==U?(K=t.jsxs("div",{className:"grid gap-2",children:[je,t.jsx(u,{id:"category",value:l.category,onChange:U,placeholder:"Ej: EPP, Uniforme, Radio..."})]}),e[117]=l.category,e[118]=U,e[119]=K):K=e[119];let ye;e[120]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(f,{htmlFor:"document_path",children:"Documento de Alta (Opcional)"}),e[120]=ye):ye=e[120];let W;e[121]!==s?(W=t.jsx(u,{id:"document_path",type:"file",onChange:a=>s("document_path",a.target.files?a.target.files[0]:null),className:"cursor-pointer"}),e[121]=s,e[122]=W):W=e[122];let ve;e[123]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx("p",{className:"text-[0.8rem] text-muted-foreground",children:"Adjuntar factura, guía de despacho o acta de alta."}),e[123]=ve):ve=e[123];let X;e[124]!==W?(X=t.jsxs("div",{className:"grid gap-2",children:[ye,W,ve]}),e[124]=W,e[125]=X):X=e[125];let be;e[126]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx(le,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),e[126]=be):be=e[126];const Te=g?"Actualizar":"Guardar";let Y;e[127]!==De||e[128]!==Te?(Y=t.jsxs("div",{className:"flex justify-end gap-2",children:[be,t.jsx(le,{type:"submit",disabled:De,children:Te})]}),e[127]=De,e[128]=Te,e[129]=Y):Y=e[129];let Z;e[130]!==Le||e[131]!==L||e[132]!==A||e[133]!==V||e[134]!==G||e[135]!==K||e[136]!==X||e[137]!==Y?(Z=t.jsxs("form",{onSubmit:Le,className:"grid gap-4 py-4",children:[L,A,V,G,K,X,Y]}),e[130]=Le,e[131]=L,e[132]=A,e[133]=V,e[134]=G,e[135]=K,e[136]=X,e[137]=Y,e[138]=Z):Z=e[138];let ee;e[139]!==F||e[140]!==Z?(ee=t.jsxs(Xe,{children:[F,Z]}),e[139]=F,e[140]=Z,e[141]=ee):ee=e[141];let te;e[142]!==we||e[143]!==ee?(te=t.jsx(Ye,{open:we,onOpenChange:x,children:ee}),e[142]=we,e[143]=ee,e[144]=te):te=e[144];let Ce;return e[145]!==j||e[146]!==d||e[147]!==m||e[148]!==P||e[149]!==te?(Ce=t.jsxs(j,{breadcrumbs:d,children:[m,P,te]}),e[145]=j,e[146]=d,e[147]=m,e[148]=P,e[149]=te,e[150]=Ce):Ce=e[150],Ce}export{Dt as default};
