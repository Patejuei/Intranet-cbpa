import{c as O,b as W,r as z,j as s,L as F,a as R,H as q}from"./app-7T3l1Qi3.js";import{B as J}from"./badge-fPegXLhR.js";import{f as $,B as H}from"./button-BkJ9ctea.js";import{b as K,c as Q}from"./card-BROKrNBm.js";import{I as U}from"./input-CUQHxuGa.js";import{a as X,b as Y,c as Z,d as L,S as ee}from"./select-B_iHn1kO.js";import{T as V,a as i,b as se,c as o,d as te,e as le}from"./table-CqrdCq-U.js";import{F as ae,A as re}from"./app-layout-BHffE17Q.js";import{E as ie}from"./eye-CLMFJ0GD.js";import{P as ce}from"./plus-aJE4Vmsh.js";import{S as oe}from"./search-CykXr4-I.js";/* empty css            */import"./index-Cb5BQB3p.js";import"./index-4gzLtCu3.js";import"./index-de_OD_BN.js";import"./chevron-down-CUXFwhnx.js";import"./check-BiDMPmor.js";import"./index-C4J_hXM0.js";import"./shield-C01C4vrL.js";function Ie(){const e=O.c(39),{maintenances:l,filters:r}=W().props,[a,A]=z.useState(r.search||""),[c,D]=z.useState(a);let u,p;e[0]!==a?(u=()=>{const t=setTimeout(()=>{D(a)},300);return()=>clearTimeout(t)},p=[a],e[0]=a,e[1]=u,e[2]=p):(u=e[1],p=e[2]),z.useEffect(u,p);let j;e[3]===Symbol.for("react.memo_cache_sentinel")?(j=t=>{A(t)},e[3]=j):j=e[3];const G=j;let g;e[4]!==a?(g=t=>{R.get("/vehicles/workshop",{status:t,search:a},{preserveState:!0,replace:!0})},e[4]=a,e[5]=g):g=e[5];const M=g;let v;e[6]!==c||e[7]!==r.search||e[8]!==r.status?(v=()=>{c!==r.search&&R.get("/vehicles/workshop",{status:r.status,search:c},{preserveState:!0,replace:!0})},e[6]=c,e[7]=r.search,e[8]=r.status,e[9]=v):v=e[9];let b;e[10]!==c?(b=[c],e[10]=c,e[11]=b):b=e[11],z.useEffect(v,b);const P=de;let _,S;e[12]===Symbol.for("react.memo_cache_sentinel")?(_=[{title:"Panel Principal",href:"/dashboard"},{title:"Material Mayor",href:"/vehicles/dashboard"},{title:"Taller Mecánico",href:"/vehicles/workshop"}],S=s.jsx(q,{title:"Taller Mecánico"}),e[12]=_,e[13]=S):(_=e[12],S=e[13]);let y;e[14]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Taller Mecánico"}),s.jsx("p",{className:"text-muted-foreground",children:"Gestión de ingresos y reparaciones de vehículos."})]}),e[14]=y):y=e[14];let N;e[15]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[y,s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(H,{asChild:!0,children:s.jsxs(F,{href:"/vehicles/workshop/create",children:[s.jsx(ce,{className:"mr-2 size-4"})," Nuevo Ingreso"]})})})]}),e[15]=N):N=e[15];let T;e[16]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(oe,{className:"absolute top-2.5 left-2 h-4 w-4 text-muted-foreground"}),e[16]=T):T=e[16];let w;e[17]===Symbol.for("react.memo_cache_sentinel")?(w=t=>G(t.target.value),e[17]=w):w=e[17];let n;e[18]!==a?(n=s.jsxs("div",{className:"relative w-full md:w-64",children:[T,s.jsx(U,{placeholder:"Buscar vehículo...",value:a,onChange:w,className:"pl-8"})]}),e[18]=a,e[19]=n):n=e[19];const B=r.status||"active";let C;e[20]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(X,{className:"w-full md:w-[200px]",children:s.jsx(Y,{placeholder:"Filtrar por estado"})}),e[20]=C):C=e[20];let E;e[21]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs(Z,{children:[s.jsx(L,{value:"active",children:"Activos (En Taller)"}),s.jsx(L,{value:"history",children:"Historial (Finalizados)"}),s.jsx(L,{value:"all",children:"Todos"})]}),e[21]=E):E=e[21];let d;e[22]!==M||e[23]!==B?(d=s.jsxs(ee,{defaultValue:B,onValueChange:M,children:[C,E]}),e[22]=M,e[23]=B,e[24]=d):d=e[24];let h;e[25]!==n||e[26]!==d?(h=s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[n,d]}),e[25]=n,e[26]=d,e[27]=h):h=e[27];let k;e[28]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(se,{children:s.jsxs(V,{children:[s.jsx(o,{children:"Vehículo"}),s.jsx(o,{children:"Compañía"}),s.jsx(o,{children:"Taller"}),s.jsx(o,{children:"Fecha Ingreso"}),s.jsx(o,{children:"Salida Est."}),s.jsx(o,{children:"Estado"}),s.jsx(o,{className:"text-right",children:"Acciones"})]})}),e[28]=k):k=e[28];let m;e[29]!==l.data?(m=l.data.length===0?s.jsx(V,{children:s.jsx(i,{colSpan:7,className:"h-24 text-center",children:"No hay registros encontrados."})}):l.data.map(t=>s.jsxs(V,{children:[s.jsxs(i,{className:"font-medium",children:[t.vehicle.name,s.jsx("div",{className:"text-xs text-muted-foreground",children:t.vehicle.plate})]}),s.jsx(i,{children:t.vehicle.company}),s.jsx(i,{children:t.workshop_name}),s.jsx(i,{children:$(t.entry_date)}),s.jsx(i,{children:t.tentative_exit_date?$(t.tentative_exit_date):"-"}),s.jsx(i,{children:s.jsx(J,{className:`${P(t.status)} hover:${P(t.status)}`,children:t.status})}),s.jsx(i,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(H,{variant:"ghost",size:"icon",asChild:!0,title:"Ver Detalle",children:s.jsx(F,{href:`/vehicles/workshop/${t.id}`,children:s.jsx(ie,{className:"size-4"})})}),s.jsx(H,{variant:"ghost",size:"icon",asChild:!0,title:"Imprimir Orden",children:s.jsx("a",{href:`/vehicles/workshop/${t.id}/print`,target:"_blank",rel:"noreferrer",children:s.jsx(ae,{className:"size-4"})})})]})})]},t.id)),e[29]=l.data,e[30]=m):m=e[30];let x;e[31]!==m?(x=s.jsx(K,{children:s.jsx(Q,{className:"p-0",children:s.jsxs(te,{children:[k,s.jsx(le,{children:m})]})})}),e[31]=m,e[32]=x):x=e[32];let f;e[33]!==l.links?(f=l.links.length>3&&s.jsx("div",{className:"flex justify-center gap-2",children:l.links.map(ne)}),e[33]=l.links,e[34]=f):f=e[34];let I;return e[35]!==h||e[36]!==x||e[37]!==f?(I=s.jsxs(re,{breadcrumbs:_,children:[S,s.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[N,h,x,f]})]}),e[35]=h,e[36]=x,e[37]=f,e[38]=I):I=e[38],I}function ne(e,l){return e.url?s.jsx(H,{variant:e.active?"default":"outline",size:"sm",asChild:!0,children:s.jsx(F,{href:e.url,dangerouslySetInnerHTML:{__html:e.label}})},l):s.jsx("span",{className:"px-2 text-sm text-muted-foreground",dangerouslySetInnerHTML:{__html:e.label}},l)}function de(e){switch(e){case"En Taller":return"bg-blue-500";case"Esperando Repuestos":return"bg-yellow-500";case"Listo para Retiro":return"bg-green-500";default:return"bg-gray-500"}}export{Ie as default};
