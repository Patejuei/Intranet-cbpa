import{r as n,c as m,j as l,b as Q,L as A,a as G,H as U}from"./app-POeEJ9jb.js";import{B as X}from"./badge-C7dS0nuJ.js";import{c as f,f as O,B as F}from"./button-b-d64DVq.js";import{b as Y,c as Z}from"./card-DUEVZex2.js";import{I as ee}from"./input-DOjdrUoQ.js";import{a as se,b as te,c as le,d as P,S as ae}from"./select-lreYAzLY.js";import{F as re,A as ce}from"./app-layout-D8iWbJXT.js";import{E as ie}from"./eye-8jAsTVO2.js";import{P as oe}from"./plus-CgHjL58t.js";import{S as ne}from"./search-DtgiDnku.js";/* empty css            */import"./index-DdLfwd3F.js";import"./index-BSOmSsQS.js";import"./index-Drvbw1xY.js";import"./chevron-down-DH4MdWcB.js";import"./check-7yMZDl2-.js";import"./index-C4J_hXM0.js";import"./shield-BJxPqUTl.js";const W=n.forwardRef((s,c)=>{const e=m.c(9);let t,r;e[0]!==s?({className:t,...r}=s,e[0]=s,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let a;e[3]!==t?(a=f("w-full caption-bottom text-sm",t),e[3]=t,e[4]=a):a=e[4];let i;return e[5]!==r||e[6]!==c||e[7]!==a?(i=l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:c,className:a,...r})}),e[5]=r,e[6]=c,e[7]=a,e[8]=i):i=e[8],i});W.displayName="Table";const q=n.forwardRef((s,c)=>{const e=m.c(9);let t,r;e[0]!==s?({className:t,...r}=s,e[0]=s,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let a;e[3]!==t?(a=f("[&_tr]:border-b",t),e[3]=t,e[4]=a):a=e[4];let i;return e[5]!==r||e[6]!==c||e[7]!==a?(i=l.jsx("thead",{ref:c,className:a,...r}),e[5]=r,e[6]=c,e[7]=a,e[8]=i):i=e[8],i});q.displayName="TableHeader";const J=n.forwardRef((s,c)=>{const e=m.c(9);let t,r;e[0]!==s?({className:t,...r}=s,e[0]=s,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let a;e[3]!==t?(a=f("[&_tr:last-child]:border-0",t),e[3]=t,e[4]=a):a=e[4];let i;return e[5]!==r||e[6]!==c||e[7]!==a?(i=l.jsx("tbody",{ref:c,className:a,...r}),e[5]=r,e[6]=c,e[7]=a,e[8]=i):i=e[8],i});J.displayName="TableBody";const de=n.forwardRef((s,c)=>{const e=m.c(9);let t,r;e[0]!==s?({className:t,...r}=s,e[0]=s,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let a;e[3]!==t?(a=f("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),e[3]=t,e[4]=a):a=e[4];let i;return e[5]!==r||e[6]!==c||e[7]!==a?(i=l.jsx("tfoot",{ref:c,className:a,...r}),e[5]=r,e[6]=c,e[7]=a,e[8]=i):i=e[8],i});de.displayName="TableFooter";const M=n.forwardRef((s,c)=>{const e=m.c(9);let t,r;e[0]!==s?({className:t,...r}=s,e[0]=s,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let a;e[3]!==t?(a=f("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),e[3]=t,e[4]=a):a=e[4];let i;return e[5]!==r||e[6]!==c||e[7]!==a?(i=l.jsx("tr",{ref:c,className:a,...r}),e[5]=r,e[6]=c,e[7]=a,e[8]=i):i=e[8],i});M.displayName="TableRow";const h=n.forwardRef((s,c)=>{const e=m.c(9);let t,r;e[0]!==s?({className:t,...r}=s,e[0]=s,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let a;e[3]!==t?(a=f("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),e[3]=t,e[4]=a):a=e[4];let i;return e[5]!==r||e[6]!==c||e[7]!==a?(i=l.jsx("th",{ref:c,className:a,...r}),e[5]=r,e[6]=c,e[7]=a,e[8]=i):i=e[8],i});h.displayName="TableHead";const d=n.forwardRef((s,c)=>{const e=m.c(9);let t,r;e[0]!==s?({className:t,...r}=s,e[0]=s,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let a;e[3]!==t?(a=f("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),e[3]=t,e[4]=a):a=e[4];let i;return e[5]!==r||e[6]!==c||e[7]!==a?(i=l.jsx("td",{ref:c,className:a,...r}),e[5]=r,e[6]=c,e[7]=a,e[8]=i):i=e[8],i});d.displayName="TableCell";const me=n.forwardRef((s,c)=>{const e=m.c(9);let t,r;e[0]!==s?({className:t,...r}=s,e[0]=s,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let a;e[3]!==t?(a=f("mt-4 text-sm text-muted-foreground",t),e[3]=t,e[4]=a):a=e[4];let i;return e[5]!==r||e[6]!==c||e[7]!==a?(i=l.jsx("caption",{ref:c,className:a,...r}),e[5]=r,e[6]=c,e[7]=a,e[8]=i):i=e[8],i});me.displayName="TableCaption";function He(){const s=m.c(39),{maintenances:c,filters:e}=Q().props,[t,r]=n.useState(e.search||""),[a,i]=n.useState(t);let g,v;s[0]!==t?(g=()=>{const o=setTimeout(()=>{i(t)},300);return()=>clearTimeout(o)},v=[t],s[0]=t,s[1]=g,s[2]=v):(g=s[1],v=s[2]),n.useEffect(g,v);let y;s[3]===Symbol.for("react.memo_cache_sentinel")?(y=o=>{r(o)},s[3]=y):y=s[3];const K=y;let _;s[4]!==t?(_=o=>{G.get("/vehicles/workshop",{status:o,search:t},{preserveState:!0,replace:!0})},s[4]=t,s[5]=_):_=s[5];const L=_;let S;s[6]!==a||s[7]!==e.search||s[8]!==e.status?(S=()=>{a!==e.search&&G.get("/vehicles/workshop",{status:e.status,search:a},{preserveState:!0,replace:!0})},s[6]=a,s[7]=e.search,s[8]=e.status,s[9]=S):S=s[9];let w;s[10]!==a?(w=[a],s[10]=a,s[11]=w):w=s[11],n.useEffect(S,w);const D=fe;let T,C;s[12]===Symbol.for("react.memo_cache_sentinel")?(T=[{title:"Panel Principal",href:"/dashboard"},{title:"Material Mayor",href:"/vehicles/dashboard"},{title:"Taller Mecánico",href:"/vehicles/workshop"}],C=l.jsx(U,{title:"Taller Mecánico"}),s[12]=T,s[13]=C):(T=s[12],C=s[13]);let R;s[14]===Symbol.for("react.memo_cache_sentinel")?(R=l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Taller Mecánico"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestión de ingresos y reparaciones de vehículos."})]}),s[14]=R):R=s[14];let $;s[15]===Symbol.for("react.memo_cache_sentinel")?($=l.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[R,l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(F,{asChild:!0,children:l.jsxs(A,{href:"/vehicles/workshop/create",children:[l.jsx(oe,{className:"mr-2 size-4"})," Nuevo Ingreso"]})})})]}),s[15]=$):$=s[15];let k;s[16]===Symbol.for("react.memo_cache_sentinel")?(k=l.jsx(ne,{className:"absolute top-2.5 left-2 h-4 w-4 text-muted-foreground"}),s[16]=k):k=s[16];let E;s[17]===Symbol.for("react.memo_cache_sentinel")?(E=o=>K(o.target.value),s[17]=E):E=s[17];let x;s[18]!==t?(x=l.jsxs("div",{className:"relative w-full md:w-64",children:[k,l.jsx(ee,{placeholder:"Buscar vehículo...",value:t,onChange:E,className:"pl-8"})]}),s[18]=t,s[19]=x):x=s[19];const V=e.status||"active";let H;s[20]===Symbol.for("react.memo_cache_sentinel")?(H=l.jsx(se,{className:"w-full md:w-[200px]",children:l.jsx(te,{placeholder:"Filtrar por estado"})}),s[20]=H):H=s[20];let I;s[21]===Symbol.for("react.memo_cache_sentinel")?(I=l.jsxs(le,{children:[l.jsx(P,{value:"active",children:"Activos (En Taller)"}),l.jsx(P,{value:"history",children:"Historial (Finalizados)"}),l.jsx(P,{value:"all",children:"Todos"})]}),s[21]=I):I=s[21];let u;s[22]!==L||s[23]!==V?(u=l.jsxs(ae,{defaultValue:V,onValueChange:L,children:[H,I]}),s[22]=L,s[23]=V,s[24]=u):u=s[24];let p;s[25]!==x||s[26]!==u?(p=l.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[x,u]}),s[25]=x,s[26]=u,s[27]=p):p=s[27];let z;s[28]===Symbol.for("react.memo_cache_sentinel")?(z=l.jsx(q,{children:l.jsxs(M,{children:[l.jsx(h,{children:"Vehículo"}),l.jsx(h,{children:"Compañía"}),l.jsx(h,{children:"Taller"}),l.jsx(h,{children:"Fecha Ingreso"}),l.jsx(h,{children:"Salida Est."}),l.jsx(h,{children:"Estado"}),l.jsx(h,{className:"text-right",children:"Acciones"})]})}),s[28]=z):z=s[28];let j;s[29]!==c.data?(j=c.data.length===0?l.jsx(M,{children:l.jsx(d,{colSpan:7,className:"h-24 text-center",children:"No hay registros encontrados."})}):c.data.map(o=>l.jsxs(M,{children:[l.jsxs(d,{className:"font-medium",children:[o.vehicle.name,l.jsx("div",{className:"text-xs text-muted-foreground",children:o.vehicle.plate})]}),l.jsx(d,{children:o.vehicle.company}),l.jsx(d,{children:o.workshop_name}),l.jsx(d,{children:O(o.entry_date)}),l.jsx(d,{children:o.tentative_exit_date?O(o.tentative_exit_date):"-"}),l.jsx(d,{children:l.jsx(X,{className:`${D(o.status)} hover:${D(o.status)}`,children:o.status})}),l.jsx(d,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(F,{variant:"ghost",size:"icon",asChild:!0,title:"Ver Detalle",children:l.jsx(A,{href:`/vehicles/workshop/${o.id}`,children:l.jsx(ie,{className:"size-4"})})}),l.jsx(F,{variant:"ghost",size:"icon",asChild:!0,title:"Imprimir Orden",children:l.jsx("a",{href:`/vehicles/workshop/${o.id}/print`,target:"_blank",rel:"noreferrer",children:l.jsx(re,{className:"size-4"})})})]})})]},o.id)),s[29]=c.data,s[30]=j):j=s[30];let b;s[31]!==j?(b=l.jsx(Y,{children:l.jsx(Z,{className:"p-0",children:l.jsxs(W,{children:[z,l.jsx(J,{children:j})]})})}),s[31]=j,s[32]=b):b=s[32];let N;s[33]!==c.links?(N=c.links.length>3&&l.jsx("div",{className:"flex justify-center gap-2",children:c.links.map(he)}),s[33]=c.links,s[34]=N):N=s[34];let B;return s[35]!==p||s[36]!==b||s[37]!==N?(B=l.jsxs(ce,{breadcrumbs:T,children:[C,l.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[$,p,b,N]})]}),s[35]=p,s[36]=b,s[37]=N,s[38]=B):B=s[38],B}function he(s,c){return s.url?l.jsx(F,{variant:s.active?"default":"outline",size:"sm",asChild:!0,children:l.jsx(A,{href:s.url,dangerouslySetInnerHTML:{__html:s.label}})},c):l.jsx("span",{className:"px-2 text-sm text-muted-foreground",dangerouslySetInnerHTML:{__html:s.label}},c)}function fe(s){switch(s){case"En Taller":return"bg-blue-500";case"Esperando Repuestos":return"bg-yellow-500";case"Listo para Retiro":return"bg-green-500";default:return"bg-gray-500"}}export{He as default};
