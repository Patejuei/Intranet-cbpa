import{c as M,b as m}from"./app-C6T-jTXr.js";function k(){const s=M.c(14),{props:d}=m(),e=d.auth.user;let l;s[0]!==e?(l=i=>{if(!e)return!1;if(e.role==="admin"||e.role==="capitan"||e.role==="maquinista"&&["vehicles.logs","vehicles.checklist","vehicles.status","vehicles.incidents","vehicles.inventory"].includes(i)||e.role==="mechanic"&&["vehicles.workshop","vehicles.incidents","vehicles.status","vehicles.checklist","vehicles.logs","inventory","vehicles.inventory"].includes(i))return!0;if(e.role==="inspector"){if(e.department==="Material Mayor"){if(["vehicles.status","vehicles.incidents","vehicles.inventory","vehicles.logs","vehicles.workshop","vehicles.checklist","vehicles"].includes(i))return!0}else if(e.department==="Material Menor"&&["inventory","tickets","batteries","deliveries","reception","equipment"].includes(i))return!0}const t=e.permissions||[];return t.includes(i)||t.includes(`${i}.view`)||t.includes(`${i}.edit`)||t.includes(`${i}.full`)},s[0]=e,s[1]=l):l=s[1];const h=l;let c;s[2]!==e?(c=i=>{if(!e)return!1;if(e.role==="admin"||e.role==="capitan")return!0;if(e.role==="inspector"){if(e.department==="Material Mayor"){if(["vehicles.status","vehicles.incidents","vehicles.inventory"].includes(i))return!0;if(["vehicles.workshop","vehicles.checklist","vehicles.logs"].includes(i))return!1}else if(e.department==="Material Menor"&&["inventory","tickets","batteries","deliveries","reception","equipment"].includes(i))return!0}if(e.role==="mechanic"){if(["vehicles.status","vehicles.checklist","vehicles.logs"].includes(i))return!1;if(["vehicles.workshop","vehicles.incidents","inventory","vehicles.inventory"].includes(i))return!0}const t=e.permissions||[];return t.includes(`${i}.edit`)||t.includes(`${i}.full`)},s[2]=e,s[3]=c):c=s[3];const n=c;let o;s[4]!==n?(o=i=>n(i),s[4]=n,s[5]=o):o=s[5];const v=o;let a;s[6]!==e?(a=i=>e?e.role==="admin"||e.role==="capitan"?!0:(e.permissions||[]).includes(`${i}.full`):!1,s[6]=e,s[7]=a):a=s[7];const f=a;let u;return s[8]!==v||s[9]!==f||s[10]!==n||s[11]!==h||s[12]!==e?(u={hasPermission:h,canEdit:n,canCreate:v,canDelete:f,user:e},s[8]=v,s[9]=f,s[10]=n,s[11]=h,s[12]=e,s[13]=u):u=s[13],u}export{k as u};
