import{c as Me,r as Ie,u as De,j as t,H as Fe}from"./app-BzTiI1vx.js";import{B as ke}from"./createLucideIcon-BwNl2ouA.js";import{b as Pe,D as Le,a as Te,c as Ae,d as Oe}from"./dialog-DYTAo1B3.js";import{I as h}from"./input-biSxcUox.js";import{L as u}from"./label-Czzj5tKt.js";import{S as Be,a as Ee,b as He,c as Re,d as o}from"./select-Coc38mFL.js";import{A as ze}from"./app-layout-nP07Hnxr.js";import{C as Je}from"./CompanyFilter-DgtAFYgE.js";import{P as Qe}from"./plus-BhdBHgSu.js";import{S as Ve}from"./search-DY11Zgp9.js";/* empty css            */import"./index-BiALZKL6.js";import"./index-Cc9F1Pjn.js";import"./index-CiUfUXpG.js";import"./check-BBPj8J4q.js";import"./index-C4J_hXM0.js";import"./shield-Dgb1-bwJ.js";function dt(r){const e=Me.c(132),{materials:_e}=r,[i,qe]=Ie.useState(""),[ve,X]=Ie.useState(!1);let Y;e[0]===Symbol.for("react.memo_cache_sentinel")?(Y={product_name:"",brand:"",model:"",code:"",stock_quantity:0,company:"Segunda Compañía",category:"",document_path:null},e[0]=Y):Y=e[0];const{data:s,setData:a,post:Ce,processing:be,reset:Ne}=De(Y);let Z;e[1]!==Ne?(Z=()=>{Ne(),X(!0)},e[1]=Ne,e[2]=Z):Z=e[2];const W=Z;let ee;e[3]!==Ce?(ee=l=>{l.preventDefault(),Ce("/inventory",{onSuccess:()=>X(!1)})},e[3]=Ce,e[4]=ee):ee=e[4];const Se=ee;let x,g,c,n,d,m,j,y,_,p,v,C;if(e[5]!==_e||e[6]!==W||e[7]!==i){let l;e[20]!==i?(l=f=>f.product_name.toLowerCase().includes(i.toLowerCase())||f.code&&f.code.toLowerCase().includes(i.toLowerCase())||f.brand&&f.brand.toLowerCase().includes(i.toLowerCase()),e[20]=i,e[21]=l):l=e[21];const we=_e.filter(l);x=ze,e[22]===Symbol.for("react.memo_cache_sentinel")?(d=[{title:"Panel Principal",href:"/dashboard"},{title:"Inventario",href:"/inventory"}],m=t.jsx(Fe,{title:"Inventario de Material Menor"}),e[22]=d,e[23]=m):(d=e[22],m=e[23]),g="flex flex-col gap-6 p-4";let fe;e[24]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Inventario de Material Menor"}),t.jsx("p",{className:"text-muted-foreground",children:"Control de stock de materiales y equipos."})]}),e[24]=fe):fe=e[24];let xe;e[25]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(Qe,{className:"size-4"}),e[25]=xe):xe=e[25],e[26]!==W?(c=t.jsxs("div",{className:"flex items-center justify-between",children:[fe,t.jsxs(ke,{onClick:W,className:"gap-2",children:[xe,"Agregar Material"]})]}),e[26]=W,e[27]=c):c=e[27];let ge;e[28]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(Ve,{className:"size-4 text-muted-foreground"}),e[28]=ge):ge=e[28];let je;e[29]===Symbol.for("react.memo_cache_sentinel")?(je=f=>qe(f.target.value),e[29]=je):je=e[29];let K;e[30]!==i?(K=t.jsxs("div",{className:"flex max-w-sm items-center gap-2",children:[ge,t.jsx(h,{placeholder:"Buscar material...",value:i,onChange:je,className:"h-9"})]}),e[30]=i,e[31]=K):K=e[31];let ye;e[32]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(Je,{}),e[32]=ye):ye=e[32],e[33]!==K?(n=t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[K,ye]}),e[33]=K,e[34]=n):n=e[34],C="rounded-xl border bg-card shadow-sm",v="overflow-x-auto",_="w-full text-left text-sm",e[35]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx("thead",{className:"bg-muted/50 text-muted-foreground",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 font-medium",children:"Código"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Producto"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Marca / Modelo"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Stock"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Categoría"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Compañía"})]})}),e[35]=p):p=e[35],j="divide-y",y=we.length>0?we.map($e):t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-muted-foreground",children:"No se encontraron materiales."})}),e[5]=_e,e[6]=W,e[7]=i,e[8]=x,e[9]=g,e[10]=c,e[11]=n,e[12]=d,e[13]=m,e[14]=j,e[15]=y,e[16]=_,e[17]=p,e[18]=v,e[19]=C}else x=e[8],g=e[9],c=e[10],n=e[11],d=e[12],m=e[13],j=e[14],y=e[15],_=e[16],p=e[17],v=e[18],C=e[19];let b;e[36]!==j||e[37]!==y?(b=t.jsx("tbody",{className:j,children:y}),e[36]=j,e[37]=y,e[38]=b):b=e[38];let N;e[39]!==b||e[40]!==_||e[41]!==p?(N=t.jsxs("table",{className:_,children:[p,b]}),e[39]=b,e[40]=_,e[41]=p,e[42]=N):N=e[42];let S;e[43]!==N||e[44]!==v?(S=t.jsx("div",{className:v,children:N}),e[43]=N,e[44]=v,e[45]=S):S=e[45];let k;e[46]!==S||e[47]!==C?(k=t.jsx("div",{className:C,children:S}),e[46]=S,e[47]=C,e[48]=k):k=e[48];let w;e[49]!==g||e[50]!==c||e[51]!==n||e[52]!==k?(w=t.jsxs("div",{className:g,children:[c,n,k]}),e[49]=g,e[50]=c,e[51]=n,e[52]=k,e[53]=w):w=e[53];let te;e[54]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsxs(Pe,{children:[t.jsx(Le,{children:"Agregar Nuevo Material"}),t.jsx(Te,{children:"Ingrese los detalles del nuevo material para inventario."})]}),e[54]=te):te=e[54];let ae;e[55]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(u,{htmlFor:"company",children:"Compañía"}),e[55]=ae):ae=e[55];let I;e[56]!==a?(I=l=>a("company",l),e[56]=a,e[57]=I):I=e[57];let le;e[58]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(Ee,{className:"w-full",children:t.jsx(He,{placeholder:"Seleccione Compañía"})}),e[58]=le):le=e[58];let se;e[59]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsxs(Re,{children:[t.jsx(o,{value:"Primera Compañía",children:"Primera Compañía"}),t.jsx(o,{value:"Segunda Compañía",children:"Segunda Compañía"}),t.jsx(o,{value:"Tercera Compañía",children:"Tercera Compañía"}),t.jsx(o,{value:"Cuarta Compañía",children:"Cuarta Compañía"}),t.jsx(o,{value:"Quinta Compañía",children:"Quinta Compañía"}),t.jsx(o,{value:"Sexta Compañía",children:"Sexta Compañía"}),t.jsx(o,{value:"Séptima Compañía",children:"Séptima Compañía"}),t.jsx(o,{value:"Octava Compañía",children:"Octava Compañía"}),t.jsx(o,{value:"Novena Compañía",children:"Novena Compañía"}),t.jsx(o,{value:"Brigada Juvenil",children:"Brigada Juvenil"}),t.jsx(o,{value:"Comandancia",children:"Comandancia"})]}),e[59]=se):se=e[59];let q;e[60]!==s.company||e[61]!==I?(q=t.jsxs("div",{className:"grid gap-2",children:[ae,t.jsxs(Be,{value:s.company,onValueChange:I,children:[le,se]})]}),e[60]=s.company,e[61]=I,e[62]=q):q=e[62];let re;e[63]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(u,{htmlFor:"product_name",children:"Nombre del Producto"}),e[63]=re):re=e[63];let M;e[64]!==a?(M=l=>a("product_name",l.target.value),e[64]=a,e[65]=M):M=e[65];let D;e[66]!==s.product_name||e[67]!==M?(D=t.jsxs("div",{className:"grid gap-2",children:[re,t.jsx(h,{id:"product_name",value:s.product_name,onChange:M,required:!0})]}),e[66]=s.product_name,e[67]=M,e[68]=D):D=e[68];let oe;e[69]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(u,{htmlFor:"brand",children:"Marca"}),e[69]=oe):oe=e[69];let F;e[70]!==a?(F=l=>a("brand",l.target.value),e[70]=a,e[71]=F):F=e[71];let P;e[72]!==s.brand||e[73]!==F?(P=t.jsxs("div",{className:"grid gap-2",children:[oe,t.jsx(h,{id:"brand",value:s.brand,onChange:F})]}),e[72]=s.brand,e[73]=F,e[74]=P):P=e[74];let ie;e[75]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(u,{htmlFor:"model",children:"Modelo"}),e[75]=ie):ie=e[75];let L;e[76]!==a?(L=l=>a("model",l.target.value),e[76]=a,e[77]=L):L=e[77];let T;e[78]!==s.model||e[79]!==L?(T=t.jsxs("div",{className:"grid gap-2",children:[ie,t.jsx(h,{id:"model",value:s.model,onChange:L})]}),e[78]=s.model,e[79]=L,e[80]=T):T=e[80];let A;e[81]!==P||e[82]!==T?(A=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P,T]}),e[81]=P,e[82]=T,e[83]=A):A=e[83];let ce;e[84]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(u,{htmlFor:"code",children:"Código Interno"}),e[84]=ce):ce=e[84];let O;e[85]!==a?(O=l=>a("code",l.target.value),e[85]=a,e[86]=O):O=e[86];let B;e[87]!==s.code||e[88]!==O?(B=t.jsxs("div",{className:"grid gap-2",children:[ce,t.jsx(h,{id:"code",value:s.code,onChange:O})]}),e[87]=s.code,e[88]=O,e[89]=B):B=e[89];let ne;e[90]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(u,{htmlFor:"stock_quantity",children:"Cantidad Inicial"}),e[90]=ne):ne=e[90];let E;e[91]!==a?(E=l=>a("stock_quantity",parseInt(l.target.value)),e[91]=a,e[92]=E):E=e[92];let H;e[93]!==s.stock_quantity||e[94]!==E?(H=t.jsxs("div",{className:"grid gap-2",children:[ne,t.jsx(h,{id:"stock_quantity",type:"number",min:"0",value:s.stock_quantity,onChange:E,required:!0})]}),e[93]=s.stock_quantity,e[94]=E,e[95]=H):H=e[95];let R;e[96]!==B||e[97]!==H?(R=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[B,H]}),e[96]=B,e[97]=H,e[98]=R):R=e[98];let de;e[99]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(u,{htmlFor:"category",children:"Categoría"}),e[99]=de):de=e[99];let z;e[100]!==a?(z=l=>a("category",l.target.value),e[100]=a,e[101]=z):z=e[101];let J;e[102]!==s.category||e[103]!==z?(J=t.jsxs("div",{className:"grid gap-2",children:[de,t.jsx(h,{id:"category",value:s.category,onChange:z,placeholder:"Ej: EPP, Uniforme, Radio..."})]}),e[102]=s.category,e[103]=z,e[104]=J):J=e[104];let me;e[105]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(u,{htmlFor:"document_path",children:"Documento de Alta (Opcional)"}),e[105]=me):me=e[105];let Q;e[106]!==a?(Q=t.jsx(h,{id:"document_path",type:"file",onChange:l=>a("document_path",l.target.files?l.target.files[0]:null),className:"cursor-pointer"}),e[106]=a,e[107]=Q):Q=e[107];let pe;e[108]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx("p",{className:"text-[0.8rem] text-muted-foreground",children:"Adjuntar factura, guía de despacho o acta de alta."}),e[108]=pe):pe=e[108];let V;e[109]!==Q?(V=t.jsxs("div",{className:"grid gap-2",children:[me,Q,pe]}),e[109]=Q,e[110]=V):V=e[110];let he;e[111]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(ke,{type:"button",variant:"outline",onClick:()=>X(!1),children:"Cancelar"}),e[111]=he):he=e[111];let $;e[112]!==be?($=t.jsxs("div",{className:"flex justify-end gap-2",children:[he,t.jsx(ke,{type:"submit",disabled:be,children:"Guardar"})]}),e[112]=be,e[113]=$):$=e[113];let G;e[114]!==Se||e[115]!==q||e[116]!==D||e[117]!==A||e[118]!==R||e[119]!==J||e[120]!==V||e[121]!==$?(G=t.jsxs(Ae,{children:[te,t.jsxs("form",{onSubmit:Se,className:"grid gap-4 py-4",children:[q,D,A,R,J,V,$]})]}),e[114]=Se,e[115]=q,e[116]=D,e[117]=A,e[118]=R,e[119]=J,e[120]=V,e[121]=$,e[122]=G):G=e[122];let U;e[123]!==ve||e[124]!==G?(U=t.jsx(Oe,{open:ve,onOpenChange:X,children:G}),e[123]=ve,e[124]=G,e[125]=U):U=e[125];let ue;return e[126]!==x||e[127]!==d||e[128]!==m||e[129]!==w||e[130]!==U?(ue=t.jsxs(x,{breadcrumbs:d,children:[m,w,U]}),e[126]=x,e[127]=d,e[128]=m,e[129]=w,e[130]=U,e[131]=ue):ue=e[131],ue}function $e(r){return t.jsxs("tr",{className:"hover:bg-muted/30",children:[t.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:r.code||"-"}),t.jsx("td",{className:"px-4 py-3 font-medium",children:r.product_name}),t.jsxs("td",{className:"px-4 py-3",children:[r.brand," ",r.model]}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${r.stock_quantity>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[r.stock_quantity," ","un."]})}),t.jsx("td",{className:"px-4 py-3",children:r.category||"-"}),t.jsx("td",{className:"px-4 py-3",children:r.company})]},r.id)}export{dt as default};
