import{c as me,r as de,u as ue,j as t,H as fe}from"./app-CPM0qqBN.js";import{P as xe}from"./Pagination-CW6p8M7Q.js";import{m as pe,A as be}from"./app-layout-BRytu26V.js";import{c as oe}from"./button-CqEo9HDw.js";import{S as ge}from"./save-D7skfkox.js";/* empty css            */import"./index-BlbzEdsQ.js";import"./index-CWMEVgmi.js";import"./index-C4J_hXM0.js";import"./shield-DKSAdIwv.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],je=oe("CircleArrowDown",he);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],ve=oe("CircleArrowUp",ye);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],_e=oe("History",Ne);function He(r){const e=me.c(92),{logs:a}=r,[D,ce]=de.useState("ALTA");let R;e[0]===Symbol.for("react.memo_cache_sentinel")?(R={item_name:"",brand:"",model:"",serial_number:"",type:"ALTA",reason:"",status:"PENDIENTE",document:null},e[0]=R):R=e[0];const{data:i,setData:s,post:Y,processing:Z,reset:ee,errors:H}=ue(R);let P;e[1]!==Y||e[2]!==ee?(P=l=>{l.preventDefault(),Y("/equipment",{onSuccess:()=>ee()})},e[1]=Y,e[2]=ee,e[3]=P):P=e[3];const te=P;let q;e[4]!==s?(q=l=>{ce(l),s("type",l)},e[4]=s,e[5]=q):q=e[5];const n=q;let z,$;e[6]===Symbol.for("react.memo_cache_sentinel")?(z=[{title:"Panel Principal",href:"/dashboard"},{title:"Material Menor",href:"/equipment"}],$=t.jsx(fe,{title:"Gestión Material Menor"}),e[6]=z,e[7]=$):(z=e[6],$=e[7]);let B;e[8]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[t.jsx(pe,{className:"size-5 text-primary"}),t.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Registro de Material"})]}),e[8]=B):B=e[8];let o;e[9]!==n?(o=()=>n("ALTA"),e[9]=n,e[10]=o):o=e[10];const se=`flex-1 rounded-md px-3 py-1.5 text-sm font-medium transition-all ${D==="ALTA"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`;let I;e[11]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx(ve,{className:"size-4"})," Alta"]}),e[11]=I):I=e[11];let c;e[12]!==o||e[13]!==se?(c=t.jsx("button",{onClick:o,className:se,children:I}),e[12]=o,e[13]=se,e[14]=c):c=e[14];let m;e[15]!==n?(m=()=>n("BAJA"),e[15]=n,e[16]=m):m=e[16];const le=`flex-1 rounded-md px-3 py-1.5 text-sm font-medium transition-all ${D==="BAJA"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`;let J;e[17]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx(je,{className:"size-4"})," Baja"]}),e[17]=J):J=e[17];let d;e[18]!==m||e[19]!==le?(d=t.jsx("button",{onClick:m,className:le,children:J}),e[18]=m,e[19]=le,e[20]=d):d=e[20];let u;e[21]!==c||e[22]!==d?(u=t.jsxs("div",{className:"mb-6 flex gap-2 rounded-lg bg-muted p-1",children:[c,d]}),e[21]=c,e[22]=d,e[23]=u):u=e[23];let O;e[24]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Nombre del Material"}),e[24]=O):O=e[24];let f;e[25]!==s?(f=l=>s("item_name",l.target.value),e[25]=s,e[26]=f):f=e[26];let x;e[27]!==i.item_name||e[28]!==f?(x=t.jsx("input",{type:"text",value:i.item_name,onChange:f,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:"Ej: Pitón Protek, Hacha...",required:!0}),e[27]=i.item_name,e[28]=f,e[29]=x):x=e[29];let p;e[30]!==H.item_name?(p=H.item_name&&t.jsx("p",{className:"mt-1 text-xs text-destructive",children:H.item_name}),e[30]=H.item_name,e[31]=p):p=e[31];let b;e[32]!==x||e[33]!==p?(b=t.jsxs("div",{children:[O,x,p]}),e[32]=x,e[33]=p,e[34]=b):b=e[34];let U;e[35]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Marca"}),e[35]=U):U=e[35];const re=i.brand||"";let g;e[36]!==s?(g=l=>s("brand",l.target.value),e[36]=s,e[37]=g):g=e[37];let h;e[38]!==re||e[39]!==g?(h=t.jsxs("div",{children:[U,t.jsx("input",{type:"text",value:re,onChange:g,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:"Ej: Rosenbauer"})]}),e[38]=re,e[39]=g,e[40]=h):h=e[40];let F;e[41]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Modelo"}),e[41]=F):F=e[41];const ie=i.model||"";let j;e[42]!==s?(j=l=>s("model",l.target.value),e[42]=s,e[43]=j):j=e[43];let y;e[44]!==ie||e[45]!==j?(y=t.jsxs("div",{children:[F,t.jsx("input",{type:"text",value:ie,onChange:j,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:"Ej: Hercul-X"})]}),e[44]=ie,e[45]=j,e[46]=y):y=e[46];let v;e[47]!==h||e[48]!==y?(v=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h,y]}),e[47]=h,e[48]=y,e[49]=v):v=e[49];let G;e[50]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Número de Serie / Inventario"}),e[50]=G):G=e[50];let N;e[51]!==s?(N=l=>s("serial_number",l.target.value),e[51]=s,e[52]=N):N=e[52];let _;e[53]!==i.serial_number||e[54]!==N?(_=t.jsxs("div",{children:[G,t.jsx("input",{type:"text",value:i.serial_number,onChange:N,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:"Opcional"})]}),e[53]=i.serial_number,e[54]=N,e[55]=_):_=e[55];let V;e[56]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Motivo / Descripción"}),e[56]=V):V=e[56];let k;e[57]!==s?(k=l=>s("reason",l.target.value),e[57]=s,e[58]=k):k=e[58];const ae=D==="ALTA"?"Detalles de la adquisición...":"Razón de la baja (daño, pérdida, etc)...";let A;e[59]!==i.reason||e[60]!==k||e[61]!==ae?(A=t.jsxs("div",{children:[V,t.jsx("textarea",{value:i.reason,onChange:k,className:"min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",placeholder:ae})]}),e[59]=i.reason,e[60]=k,e[61]=ae,e[62]=A):A=e[62];let X;e[63]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Documento de Respaldo (Opcional)"}),e[63]=X):X=e[63];let w;e[64]!==s?(w=t.jsxs("div",{children:[X,t.jsx("input",{type:"file",onChange:l=>s("document",l.target.files?l.target.files[0]:null),className:"w-full cursor-pointer rounded-md border border-input bg-background px-3 py-2 text-sm file:mr-4 file:rounded-full file:border-0 file:bg-primary/10 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-primary hover:file:bg-primary/20",accept:".pdf,.jpg,.png,.jpeg"})]}),e[64]=s,e[65]=w):w=e[65];let K;e[66]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(ge,{className:"size-4"}),e[66]=K):K=e[66];const ne=D==="ALTA"?"Alta":"Baja";let S;e[67]!==Z||e[68]!==ne?(S=t.jsxs("button",{type:"submit",disabled:Z,className:"flex h-10 w-full items-center justify-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90",children:[K,"Registrar"," ",ne]}),e[67]=Z,e[68]=ne,e[69]=S):S=e[69];let M;e[70]!==te||e[71]!==b||e[72]!==v||e[73]!==_||e[74]!==A||e[75]!==w||e[76]!==S?(M=t.jsxs("form",{onSubmit:te,className:"space-y-4",children:[b,v,_,A,w,S]}),e[70]=te,e[71]=b,e[72]=v,e[73]=_,e[74]=A,e[75]=w,e[76]=S,e[77]=M):M=e[77];let C;e[78]!==u||e[79]!==M?(C=t.jsxs("div",{className:"rounded-xl border bg-card p-6 shadow-sm",children:[B,u,M]}),e[78]=u,e[79]=M,e[80]=C):C=e[80];let Q;e[81]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsxs("div",{className:"mb-6 flex items-center gap-2 text-primary",children:[t.jsx(_e,{className:"size-5"}),t.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Historial de Movimientos"})]}),e[81]=Q):Q=e[81];let L;e[82]!==a.data?(L=t.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:a.data.length===0?t.jsx("p",{className:"py-8 text-center text-muted-foreground",children:"No hay registros recientes."}):t.jsx("div",{className:"space-y-4",children:a.data.map(ke)})}),e[82]=a.data,e[83]=L):L=e[83];let E;e[84]!==a.links?(E=t.jsx(xe,{links:a.links}),e[84]=a.links,e[85]=E):E=e[85];let T;e[86]!==L||e[87]!==E?(T=t.jsxs("div",{className:"flex max-h-[600px] flex-col overflow-hidden rounded-xl border bg-card p-6 shadow-sm",children:[Q,L,E]}),e[86]=L,e[87]=E,e[88]=T):T=e[88];let W;return e[89]!==C||e[90]!==T?(W=t.jsxs(be,{breadcrumbs:z,children:[$,t.jsx("div",{className:"flex flex-col gap-6 p-4",children:t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[C,T]})})]}),e[89]=C,e[90]=T,e[91]=W):W=e[91],W}function ke(r){return t.jsxs("div",{className:"rounded-lg border bg-muted/30 p-3 transition-colors hover:bg-muted/50",children:[t.jsxs("div",{className:"mb-1 flex items-start justify-between",children:[t.jsx("span",{className:"font-semibold",children:r.item_name}),t.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${r.type==="ALTA"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:r.type})]}),t.jsxs("p",{className:"mb-1 text-sm text-muted-foreground",children:[r.serial_number&&t.jsxs("span",{className:"mr-2",children:["S/N: ",r.serial_number]}),"Recorded by ",r.user.name]}),r.reason&&t.jsxs("p",{className:"border-l-2 border-primary/30 pl-2 text-sm italic",children:['"',r.reason,'"']}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(r.created_at).toLocaleString()}),t.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase",children:r.status})]})]},r.id)}export{He as default};
