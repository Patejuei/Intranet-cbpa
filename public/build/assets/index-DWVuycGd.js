import{c as P,b as z,j as s,L as T,H as w,a as A}from"./app-z1LlDF32.js";import{B as D}from"./badge-DDVYzLTd.js";import{B as H,f as E}from"./button-CvHHMCQK.js";import{C as F,a as I,b as L,c as $}from"./card-DUJc2fnH.js";import{a as q,b as G,d as R,c as J,S as K}from"./select-Ctgoj21f.js";import{b as V,e as l,a as M,c as f,T as O,d as Q}from"./table-Z2ez1gJ8.js";import{S as U,A as W}from"./app-layout-CQ3Z7Pki.js";import{u as X}from"./use-permissions-OEsM8m2A.js";import{P as Y}from"./plus-C-QwsL7K.js";/* empty css            */import"./index-GZosSTr8.js";import"./index-CJh5F0Z4.js";import"./index-DHgLr2qs.js";import"./chevron-down-B-311DrA.js";import"./check-BLI2Yg6w.js";import"./index-C4J_hXM0.js";import"./shield-CNFvW_b5.js";const Z=[{title:"Vehículos",href:"/vehicles/status"},{title:"Checklists",href:"/vehicles/checklists"}];function be(t){const e=P.c(31),{checklists:r,vehicles:S,filters:k}=t,{auth:u}=z().props,{canCreate:N}=X(),B=te;let j;e[0]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(w,{title:"Historial Checklists"}),e[0]=j):j=e[0];let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Historial de Checklists"}),s.jsx("p",{className:"text-muted-foreground",children:"Registro de revisiones preventivas."})]}),e[1]=p):p=e[1];const y=k.vehicle_id||"all";let v;e[2]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(q,{children:s.jsx(G,{placeholder:"Filtrar por Vehículo"})}),e[2]=v):v=e[2];let g;e[3]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(R,{value:"all",children:"Todos los Vehículos"}),e[3]=g):g=e[3];let i;e[4]!==S?(i=S.map(se),e[4]=S,e[5]=i):i=e[5];let a;e[6]!==i?(a=s.jsxs(J,{children:[g,i]}),e[6]=i,e[7]=a):a=e[7];let c;e[8]!==y||e[9]!==a?(c=s.jsx("div",{className:"w-[200px]",children:s.jsxs(K,{value:y,onValueChange:B,children:[v,a]})}),e[8]=y,e[9]=a,e[10]=c):c=e[10];let n;e[11]!==u.user.role?(n=(u.user.role==="admin"||u.user.role==="capitan")&&s.jsx(T,{href:"/vehicles/checklist-items",children:s.jsxs(H,{variant:"outline",children:[s.jsx(U,{className:"mr-2 size-4"}),"Configurar"]})}),e[11]=u.user.role,e[12]=n):n=e[12];let o;e[13]!==N?(o=N("vehicles.checklist")&&s.jsx(T,{href:"/vehicles/checklists/create",children:s.jsxs(H,{children:[s.jsx(Y,{className:"mr-2 size-4"}),"Nuevo Checklist"]})}),e[13]=N,e[14]=o):o=e[14];let d;e[15]!==o||e[16]!==c||e[17]!==n?(d=s.jsxs("div",{className:"flex items-center justify-between",children:[p,s.jsxs("div",{className:"flex gap-2",children:[c,n,o]})]}),e[15]=o,e[16]=c,e[17]=n,e[18]=d):d=e[18];let b;e[19]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(F,{children:s.jsx(I,{children:"Registros"})}),e[19]=b):b=e[19];let _;e[20]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(M,{children:s.jsxs(V,{children:[s.jsx(f,{children:"ID"}),s.jsx(f,{children:"Fecha"}),s.jsx(f,{children:"Vehículo"}),s.jsx(f,{children:"Realizado Por"}),s.jsx(f,{children:"Estado"}),s.jsx(f,{className:"text-right",children:"Acciones"})]})}),e[20]=_):_=e[20];let h;e[21]!==r.data?(h=r.data.map(ee),e[21]=r.data,e[22]=h):h=e[22];let m;e[23]!==r.data.length?(m=r.data.length===0&&s.jsx(V,{children:s.jsx(l,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No hay registros encontrados."})}),e[23]=r.data.length,e[24]=m):m=e[24];let x;e[25]!==h||e[26]!==m?(x=s.jsxs(L,{children:[b,s.jsx($,{children:s.jsxs(O,{children:[_,s.jsxs(Q,{children:[h,m]})]})})]}),e[25]=h,e[26]=m,e[27]=x):x=e[27];let C;return e[28]!==d||e[29]!==x?(C=s.jsxs(W,{breadcrumbs:Z,children:[j,s.jsxs("div",{className:"flex flex-1 flex-col gap-8 p-4",children:[d,x]})]}),e[28]=d,e[29]=x,e[30]=C):C=e[30],C}function ee(t){return s.jsxs(V,{children:[s.jsxs(l,{className:"font-medium",children:["#",t.id]}),s.jsx(l,{children:E(t.created_at)}),s.jsxs(l,{children:[s.jsx("div",{className:"font-medium",children:t.vehicle.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:t.vehicle.company})]}),s.jsx(l,{children:t.user.name}),s.jsx(l,{children:s.jsx(D,{variant:t.status==="Completed"?"default":"secondary",children:t.status})}),s.jsx(l,{className:"text-right",children:s.jsx(T,{href:`/vehicles/checklists/${t.id}`,children:s.jsx(H,{variant:"ghost",size:"sm",children:"Ver Detalles"})})})]},t.id)}function se(t){return s.jsx(R,{value:t.id.toString(),children:t.name},t.id)}function te(t){A.get("/vehicles/checklists",{vehicle_id:t==="all"?void 0:t},{preserveState:!0,replace:!0})}export{be as default};
