import{c as O,r as F,j as t,L,H}from"./app-DqJRurs1.js";import{C as M}from"./CompanyFilter-B1Toq5WY.js";import{P as $}from"./Pagination-CJwBig73.js";import{B as o}from"./badge-CepKMCgw.js";import{f as q,B as I}from"./button-DjAOAa26.js";import{I as G}from"./input-Lo7sbtkP.js";import{A as J}from"./app-layout-CfzyVo4N.js";import{E as V}from"./eye-CVutgZ9w.js";import{P as K}from"./plus-C67DNO3F.js";import{S as Q}from"./search-V6EloaYO.js";/* empty css            */import"./select-oliL3NUw.js";import"./index-BNXme8FC.js";import"./index-Cv-Kt0x8.js";import"./index-DizYNjFi.js";import"./chevron-down-DACPKdvv.js";import"./check-ChHgbMEA.js";import"./index-C4J_hXM0.js";import"./shield-B2C_Opvg.js";function ue(m){const e=O.c(54),{tickets:d}=m,[a,R]=F.useState("");let x,h,l,r,f,p,i,u,j,N,c,n;if(e[0]!==a||e[1]!==d.data){let C;e[14]!==a?(C=s=>s.subject.toLowerCase().includes(a.toLowerCase())||s.company.toLowerCase().includes(a.toLowerCase())||s.id.toString().includes(a),e[14]=a,e[15]=C):C=e[15];const k=d.data.filter(C),z=W,D=U;x=J,e[16]===Symbol.for("react.memo_cache_sentinel")?(l=[{title:"Panel Principal",href:"/dashboard"},{title:"Ticketera",href:"/tickets"}],r=t.jsx(H,{title:"Ticketera / Solicitudes"}),e[16]=l,e[17]=r):(l=e[16],r=e[17]),N="flex flex-col gap-6 p-4";let E;e[18]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Solicitudes y Soporte"}),t.jsx("p",{className:"text-muted-foreground",children:"Gestión de requerimientos a Comandancia."})]}),e[18]=E):E=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs("div",{className:"flex items-center justify-between",children:[E,t.jsx(L,{href:"/tickets/create",children:t.jsxs(I,{className:"gap-2",children:[t.jsx(K,{className:"size-4"}),"Nuevo Ticket"]})})]}),e[19]=c):c=e[19];let P;e[20]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(Q,{className:"size-4 text-muted-foreground"}),e[20]=P):P=e[20];let B;e[21]===Symbol.for("react.memo_cache_sentinel")?(B=s=>R(s.target.value),e[21]=B):B=e[21];let w;e[22]!==a?(w=t.jsxs("div",{className:"flex max-w-sm items-center gap-2",children:[P,t.jsx(G,{placeholder:"Buscar en esta página...",value:a,onChange:B,className:"h-9"})]}),e[22]=a,e[23]=w):w=e[23];let T;e[24]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(M,{}),e[24]=T):T=e[24],e[25]!==w?(n=t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[w,T]}),e[25]=w,e[26]=n):n=e[26],j="rounded-xl border bg-card shadow-sm",u="overflow-x-auto",p="w-full text-left text-sm",e[27]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("thead",{className:"bg-muted/50 text-muted-foreground",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 font-medium",children:"ID"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Asunto"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Prioridad"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Estado"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Compañía"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Solicitante"}),t.jsx("th",{className:"px-4 py-3 font-medium",children:"Fecha"}),t.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Acciones"})]})}),e[27]=i):i=e[27],h="divide-y",f=k.length>0?k.map(s=>t.jsxs("tr",{className:"hover:bg-muted/30",children:[t.jsxs("td",{className:"px-4 py-3 font-medium",children:["#",s.id]}),t.jsx("td",{className:"px-4 py-3 font-medium",children:s.subject}),t.jsx("td",{className:"px-4 py-3",children:D(s.priority)}),t.jsx("td",{className:"px-4 py-3",children:z(s.status)}),t.jsx("td",{className:"px-4 py-3",children:s.company}),t.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:s.user.name}),t.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:q(s.created_at)}),t.jsx("td",{className:"px-4 py-3 text-right",children:t.jsx(L,{href:`/tickets/${s.id}`,children:t.jsxs(I,{variant:"ghost",size:"sm",className:"h-8 gap-2",children:[t.jsx(V,{className:"size-4"}),"Ver"]})})})]},s.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-muted-foreground",children:"No se encontraron tickets en esta página."})}),e[0]=a,e[1]=d.data,e[2]=x,e[3]=h,e[4]=l,e[5]=r,e[6]=f,e[7]=p,e[8]=i,e[9]=u,e[10]=j,e[11]=N,e[12]=c,e[13]=n}else x=e[2],h=e[3],l=e[4],r=e[5],f=e[6],p=e[7],i=e[8],u=e[9],j=e[10],N=e[11],c=e[12],n=e[13];let y;e[28]!==h||e[29]!==f?(y=t.jsx("tbody",{className:h,children:f}),e[28]=h,e[29]=f,e[30]=y):y=e[30];let g;e[31]!==y||e[32]!==p||e[33]!==i?(g=t.jsxs("table",{className:p,children:[i,y]}),e[31]=y,e[32]=p,e[33]=i,e[34]=g):g=e[34];let b;e[35]!==g||e[36]!==u?(b=t.jsx("div",{className:u,children:g}),e[35]=g,e[36]=u,e[37]=b):b=e[37];let v;e[38]!==b||e[39]!==j?(v=t.jsx("div",{className:j,children:b}),e[38]=b,e[39]=j,e[40]=v):v=e[40];let _;e[41]!==d.links?(_=t.jsx($,{links:d.links}),e[41]=d.links,e[42]=_):_=e[42];let S;e[43]!==v||e[44]!==_||e[45]!==N||e[46]!==c||e[47]!==n?(S=t.jsxs("div",{className:N,children:[c,n,v,_]}),e[43]=v,e[44]=_,e[45]=N,e[46]=c,e[47]=n,e[48]=S):S=e[48];let A;return e[49]!==x||e[50]!==l||e[51]!==r||e[52]!==S?(A=t.jsxs(x,{breadcrumbs:l,children:[r,S]}),e[49]=x,e[50]=l,e[51]=r,e[52]=S,e[53]=A):A=e[53],A}function U(m){switch(m){case"ALTA":return t.jsx(o,{variant:"destructive",children:"Alta"});case"MEDIA":return t.jsx(o,{variant:"outline",className:"border-yellow-600 text-yellow-600",children:"Media"});case"BAJA":return t.jsx(o,{variant:"outline",className:"border-green-600 text-green-600",children:"Baja"});default:return t.jsx(o,{variant:"outline",children:m})}}function W(m){switch(m){case"ABIERTO":return t.jsx(o,{variant:"default",className:"bg-yellow-500 hover:bg-yellow-600",children:"Pendiente"});case"EN_PROCESO":return t.jsx(o,{variant:"default",className:"bg-blue-500 hover:bg-blue-600",children:"En Proceso"});case"CERRADO":return t.jsx(o,{variant:"secondary",children:"Cerrado"});default:return t.jsx(o,{variant:"outline",children:m})}}export{ue as default};
