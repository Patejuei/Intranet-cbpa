import{c as q,r as D,j as e,H as z,L as E}from"./app-BzTiI1vx.js";import{B,M as T,A as C}from"./app-layout-nP07Hnxr.js";import{c as P}from"./createLucideIcon-BwNl2ouA.js";/* empty css            */import"./index-Cc9F1Pjn.js";import"./index-BiALZKL6.js";import"./index-C4J_hXM0.js";import"./shield-Dgb1-bwJ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$=P("Clock",I),A=[{title:"Panel Principal",href:"/dashboard"}],O="recent_modules";function ae(t){const s=q.c(26),{upcomingBatteries:d,pendingTickets:a,respondedTickets:o}=t;let m;s[0]!==d?(m=d===void 0?[]:d,s[0]=d,s[1]=m):m=s[1];const x=m;let p;s[2]!==a?(p=a===void 0?[]:a,s[2]=a,s[3]=p):p=s[3];const h=p;let u;s[4]!==o?(u=o===void 0?[]:o,s[4]=o,s[5]=u):u=s[5];const f=u;let g;s[6]===Symbol.for("react.memo_cache_sentinel")?(g=[],s[6]=g):g=s[6];const[j,M]=D.useState(g);let b,N;s[7]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{try{const r=localStorage.getItem(O);if(r){const R=JSON.parse(r).map(Y).filter(W);M(R)}}catch(r){console.error("Error loading recent modules",r)}},N=[],s[7]=b,s[8]=N):(b=s[7],N=s[8]),D.useEffect(b,N);const L=K;let v;s[9]===Symbol.for("react.memo_cache_sentinel")?(v=e.jsx(z,{title:"Material Menor - CBPA"}),s[9]=v):v=s[9];let l;s[10]!==h?(l=h.length>0&&e.jsxs("div",{className:"rounded-xl border border-l-4 border-l-yellow-500 bg-card p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx("span",{className:"flex size-3 rounded-full bg-yellow-500"}),"Tickets Pendientes"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Solicitudes que requieren atención."})]}),e.jsx("div",{className:"space-y-3",children:h.map(J)})]}),s[10]=h,s[11]=l):l=s[11];let n;s[12]!==f?(n=f.length>0&&e.jsxs("div",{className:"rounded-xl border border-l-4 border-l-blue-500 bg-card p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx("span",{className:"flex size-3 rounded-full bg-blue-500"}),"Tickets en Proceso"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Solicitudes con respuesta de Comandancia."})]}),e.jsx("div",{className:"space-y-3",children:f.map(F)})]}),s[12]=f,s[13]=n):n=s[13];let i;s[14]!==x?(i=x.length>0&&e.jsxs("div",{className:"rounded-xl border bg-card p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-3 text-primary",children:e.jsx(B,{className:"size-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Próximos Cambios de Baterías"}),e.jsx("p",{className:"text-muted-foreground",children:"Equipos que requieren atención pronto"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b text-left font-medium text-muted-foreground",children:[e.jsx("th",{className:"pb-2",children:"Fecha"}),e.jsx("th",{className:"pb-2",children:"Días"}),e.jsx("th",{className:"pb-2",children:"Equipo"}),e.jsx("th",{className:"pb-2",children:"Responsable"}),e.jsx("th",{className:"pb-2",children:"Compañía"})]})}),e.jsx("tbody",{className:"divide-y",children:x.map(r=>{const k=L(r.next_change_date);return e.jsxs("tr",{children:[e.jsx("td",{className:"py-3",children:new Date(r.next_change_date).toLocaleDateString()}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:`rounded px-2 py-1 font-bold ${k<=3?"bg-destructive/20 text-destructive":"bg-muted text-muted-foreground"}`,children:[k," días"]})}),e.jsx("td",{className:"py-3",children:r.equipment_type}),e.jsx("td",{className:"py-3",children:r.responsible_name}),e.jsx("td",{className:"py-3",children:r.company})]},r.id)})})]})})]}),s[14]=x,s[15]=i):i=s[15];let c;s[16]!==j?(c=j.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx($,{className:"size-4"}),e.jsx("h2",{className:"text-sm font-medium tracking-wider uppercase",children:"Visitados Recientemente"})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:j.map(V)})]}),s[16]=j,s[17]=c):c=s[17];let y;s[18]===Symbol.for("react.memo_cache_sentinel")?(y=e.jsx("h2",{className:"text-sm font-medium tracking-wider text-muted-foreground uppercase",children:"Todos los Módulos"}),s[18]=y):y=s[18];let _;s[19]===Symbol.for("react.memo_cache_sentinel")?(_=e.jsxs("div",{className:"space-y-4",children:[y,e.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:T.filter(U).map(H)})]}),s[19]=_):_=s[19];let w;s[20]===Symbol.for("react.memo_cache_sentinel")?(w=e.jsxs("div",{className:"rounded-xl border bg-muted/40 p-6",children:[e.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Bienvenido al Sistema de Material Menor"}),e.jsx("p",{className:"text-muted-foreground",children:"Seleccione una opción de arriba para comenzar sus operaciones."})]}),s[20]=w):w=s[20];let S;return s[21]!==l||s[22]!==n||s[23]!==i||s[24]!==c?(S=e.jsxs(C,{breadcrumbs:A,children:[v,e.jsxs("div",{className:"flex flex-1 flex-col gap-8 p-4",children:[l,n,i,c,_,w]})]}),s[21]=l,s[22]=n,s[23]=i,s[24]=c,s[25]=S):S=s[25],S}function H(t){const s=t.icon;return e.jsx(E,{href:t.href,className:"group relative overflow-hidden rounded-xl border bg-card p-6 shadow-sm transition-all hover:border-primary hover:shadow-md",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-3 text-primary transition-colors group-hover:bg-primary group-hover:text-primary-foreground",children:e.jsx(s,{className:"size-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]})]})},t.key)}function U(t){return!t.key.startsWith("admin-")}function V(t){const s=t.icon;return e.jsxs(E,{href:t.href,className:"group relative flex items-center gap-3 overflow-hidden rounded-lg border bg-card p-4 shadow-sm transition-all hover:border-primary hover:shadow-md",children:[e.jsx("div",{className:"rounded-md bg-primary/10 p-2 text-primary transition-colors group-hover:bg-primary group-hover:text-primary-foreground",children:e.jsx(s,{className:"size-5"})}),e.jsx("div",{children:e.jsx("h3",{className:"leading-none font-medium",children:t.title})})]},t.key)}function F(t){return e.jsx(E,{href:`/tickets/${t.id}`,className:"block",children:e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 transition-colors hover:bg-muted/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.subject}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estado: ",t.status]})]}),e.jsx("div",{className:"rounded bg-blue-100 px-2 py-1 text-xs text-blue-700",children:"Ver Respuesta"})]})},t.id)}function J(t){return e.jsx(E,{href:`/tickets/${t.id}`,className:"block",children:e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 transition-colors hover:bg-muted/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.subject}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.user.company," -"," ",t.user.name]})]}),e.jsx("div",{className:"font-mono text-xs text-muted-foreground",children:new Date(t.created_at).toLocaleDateString()})]})},t.id)}function K(t){const s=new Date,a=new Date(t).getTime()-s.getTime();return Math.ceil(a/864e5)}function W(t){return!!t}function Y(t){return T.find(s=>s.key===t)}export{ae as default};
