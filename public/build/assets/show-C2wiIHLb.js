import{c as de,b as me,j as s,a as oe,H as he,L as xe}from"./app-CBY63E8O.js";import{B as n}from"./badge-BSednp2T.js";import{a as fe,f as X,B as te}from"./button-u7aOUw7b.js";import{b as Y,c as Z,C as se,a as ie}from"./card-BiAQZnzo.js";import{A as ue}from"./app-layout-DTk5q9Hs.js";import{A as pe}from"./arrow-left-GLoEHgIx.js";import{C as je}from"./circle-alert-tcg8Tmae.js";import{C as ve}from"./clock-Dwp3IkTE.js";/* empty css            */import"./index-B580IPxa.js";import"./index-BNu6O6um.js";import"./index-C4J_hXM0.js";import"./shield-BSKZHwMX.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],K=fe("CircleCheckBig",ge),_e=[{title:"Vehículos",href:"/vehicles/status"},{title:"Historial Checklists",href:"/vehicles/checklists"}];function De(i){const e=de.c(102),{checklist:t,canReview:H}=i;me();let d,m,o,h,a,l,r,x,c;if(e[0]!==H||e[1]!==t.captain||e[2]!==t.captain_reviewed_at||e[3]!==t.created_at||e[4]!==t.details||e[5]!==t.general_observations||e[6]!==t.id||e[7]!==t.machinist||e[8]!==t.machinist_reviewed_at||e[9]!==t.status||e[10]!==t.user.name||e[11]!==t.vehicle.company||e[12]!==t.vehicle.name||e[13]!==t.vehicle.plate){const ae=t.details.reduce(we,{});let V;e[23]!==t.id?(V=()=>{confirm("¿Está seguro de visar este checklist?")&&oe.post(`/vehicles/checklists/${t.id}/review`)},e[23]=t.id,e[24]=V):V=e[24];const U=V,le=ye,re=Ne;d=ue,x=_e;const F=`Checklist #${t.id}`;e[25]!==F?(c=s.jsx(he,{title:F}),e[25]=F,e[26]=c):c=e[26],h="flex flex-1 flex-col gap-8 p-4",e[27]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsxs(xe,{href:"/vehicles/checklists",className:"flex w-fit items-center gap-2 text-sm text-muted-foreground hover:text-foreground",children:[s.jsx(pe,{className:"size-4"}),"Volver a la lista"]}),e[27]=a):a=e[27];const J=t.status==="Completed"?"default":"secondary";let p;e[28]!==t.status||e[29]!==J?(p=s.jsx(n,{variant:J,children:t.status}),e[28]=t.status,e[29]=J,e[30]=p):p=e[30];let j;e[31]!==t.id||e[32]!==p?(j=s.jsxs("h1",{className:"flex items-center gap-2 text-2xl font-bold",children:["Checklist #",t.id,p]}),e[31]=t.id,e[32]=p,e[33]=j):j=e[33];let v;e[34]!==t.created_at?(v=X(t.created_at),e[34]=t.created_at,e[35]=v):v=e[35];let g;e[36]!==t.user.name||e[37]!==v?(g=s.jsxs("p",{className:"text-muted-foreground",children:[v," - Realizado por"," ",t.user.name]}),e[36]=t.user.name,e[37]=v,e[38]=g):g=e[38];let _;e[39]!==j||e[40]!==g?(_=s.jsxs("div",{children:[j,g]}),e[39]=j,e[40]=g,e[41]=_):_=e[41];let b;e[42]!==H||e[43]!==U?(b=H&&s.jsxs(te,{onClick:U,size:"lg",className:"bg-green-600 hover:bg-green-700",children:[s.jsx(K,{className:"mr-2 size-4"}),"Visar Checklist"]}),e[42]=H,e[43]=U,e[44]=b):b=e[44],e[45]!==_||e[46]!==b?(l=s.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[_,b]}),e[45]=_,e[46]=b,e[47]=l):l=e[47];let D;e[48]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(se,{children:s.jsx(ie,{children:"Datos del Vehículo"})}),e[48]=D):D=e[48];let M;e[49]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx("span",{className:"font-medium text-muted-foreground",children:"Nombre:"}),e[49]=M):M=e[49];let N;e[50]!==t.vehicle.name?(N=s.jsxs("div",{className:"flex justify-between",children:[M,s.jsx("span",{children:t.vehicle.name})]}),e[50]=t.vehicle.name,e[51]=N):N=e[51];let O;e[52]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx("span",{className:"font-medium text-muted-foreground",children:"Patente:"}),e[52]=O):O=e[52];let y;e[53]!==t.vehicle.plate?(y=s.jsxs("div",{className:"flex justify-between",children:[O,s.jsx("span",{children:t.vehicle.plate})]}),e[53]=t.vehicle.plate,e[54]=y):y=e[54];let $;e[55]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx("span",{className:"font-medium text-muted-foreground",children:"Compañía:"}),e[55]=$):$=e[55];let w;e[56]!==t.vehicle.company?(w=s.jsxs("div",{className:"flex justify-between",children:[$,s.jsx("span",{children:t.vehicle.company})]}),e[56]=t.vehicle.company,e[57]=w):w=e[57];let C;e[58]!==N||e[59]!==y||e[60]!==w?(C=s.jsxs(Y,{children:[D,s.jsxs(Z,{className:"space-y-2",children:[N,y,w]})]}),e[58]=N,e[59]=y,e[60]=w,e[61]=C):C=e[61];let T;e[62]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(se,{children:s.jsx(ie,{children:"Estado de Revisión"})}),e[62]=T):T=e[62];let q;e[63]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx("p",{className:"font-bold",children:"Capitán"}),e[63]=q):q=e[63];const Q=t.captain?t.captain.name:"Pendiente";let k;e[64]!==Q?(k=s.jsxs("div",{children:[q,s.jsx("p",{className:"text-xs text-muted-foreground",children:Q})]}),e[64]=Q,e[65]=k):k=e[65];let S;e[66]!==t.captain_reviewed_at?(S=t.captain_reviewed_at?s.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[s.jsx(K,{className:"size-4"}),X(t.captain_reviewed_at)]}):s.jsx(n,{variant:"outline",children:"Pendiente"}),e[66]=t.captain_reviewed_at,e[67]=S):S=e[67];let z;e[68]!==k||e[69]!==S?(z=s.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[k,S]}),e[68]=k,e[69]=S,e[70]=z):z=e[70];let G;e[71]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx("p",{className:"font-bold",children:"Maquinista"}),e[71]=G):G=e[71];const W=t.machinist?t.machinist.name:"Pendiente";let P;e[72]!==W?(P=s.jsxs("div",{children:[G,s.jsx("p",{className:"text-xs text-muted-foreground",children:W})]}),e[72]=W,e[73]=P):P=e[73];let B;e[74]!==t.machinist_reviewed_at?(B=t.machinist_reviewed_at?s.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[s.jsx(K,{className:"size-4"}),X(t.machinist_reviewed_at)]}):s.jsx(n,{variant:"outline",children:"Pendiente"}),e[74]=t.machinist_reviewed_at,e[75]=B):B=e[75];let A;e[76]!==P||e[77]!==B?(A=s.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[P,B]}),e[76]=P,e[77]=B,e[78]=A):A=e[78];let L;e[79]!==t.general_observations?(L=t.general_observations&&s.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[s.jsx("h3",{className:"mb-2 font-medium",children:"Observaciones Generales"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t.general_observations})]}),e[79]=t.general_observations,e[80]=L):L=e[80];let R;e[81]!==z||e[82]!==A||e[83]!==L?(R=s.jsxs(Y,{children:[T,s.jsxs(Z,{className:"space-y-4",children:[z,A,L]})]}),e[81]=z,e[82]=A,e[83]=L,e[84]=R):R=e[84],e[85]!==C||e[86]!==R?(r=s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[C,R]}),e[85]=C,e[86]=R,e[87]=r):r=e[87],m="space-y-6",o=Object.entries(ae).map(ce=>{const[ee,ne]=ce;return s.jsxs(Y,{children:[s.jsx("div",{className:"border-b bg-muted/50 px-6 py-4",children:s.jsx("h3",{className:"text-lg font-bold",children:ee})}),s.jsx(Z,{className:"p-0",children:s.jsx("div",{className:"divide-y",children:ne.map(E=>s.jsxs("div",{className:"flex flex-col justify-between gap-4 p-4 md:flex-row md:items-center",children:[s.jsx("div",{className:"flex-1 font-medium",children:E.item.name}),s.jsxs("div",{className:"flex min-w-[150px] items-center gap-3",children:[re(E.status),le(E.status)]}),s.jsx("div",{className:"flex-1 text-sm text-muted-foreground italic",children:E.notes||"Sin observaciones"}),E.status!=="ok"&&s.jsx(te,{size:"sm",variant:"secondary",onClick:be,children:"Crear Incidencia"})]},E.id))})})]},ee)}),e[0]=H,e[1]=t.captain,e[2]=t.captain_reviewed_at,e[3]=t.created_at,e[4]=t.details,e[5]=t.general_observations,e[6]=t.id,e[7]=t.machinist,e[8]=t.machinist_reviewed_at,e[9]=t.status,e[10]=t.user.name,e[11]=t.vehicle.company,e[12]=t.vehicle.name,e[13]=t.vehicle.plate,e[14]=d,e[15]=m,e[16]=o,e[17]=h,e[18]=a,e[19]=l,e[20]=r,e[21]=x,e[22]=c}else d=e[14],m=e[15],o=e[16],h=e[17],a=e[18],l=e[19],r=e[20],x=e[21],c=e[22];let f;e[88]!==m||e[89]!==o?(f=s.jsx("div",{className:m,children:o}),e[88]=m,e[89]=o,e[90]=f):f=e[90];let u;e[91]!==h||e[92]!==a||e[93]!==l||e[94]!==r||e[95]!==f?(u=s.jsxs("div",{className:h,children:[a,l,r,f]}),e[91]=h,e[92]=a,e[93]=l,e[94]=r,e[95]=f,e[96]=u):u=e[96];let I;return e[97]!==d||e[98]!==u||e[99]!==x||e[100]!==c?(I=s.jsxs(d,{breadcrumbs:x,children:[c,u]}),e[97]=d,e[98]=u,e[99]=x,e[100]=c,e[101]=I):I=e[101],I}function be(){return alert("Próximamente: Crear Incidencia automática")}function Ne(i){switch(i){case"ok":return s.jsx(K,{className:"size-5 text-green-500"});case"next_maint":return s.jsx(ve,{className:"size-5 text-yellow-500"});case"urgent":return s.jsx(je,{className:"size-5 text-red-500"});default:return null}}function ye(i){switch(i){case"ok":return s.jsx(n,{className:"bg-green-500",children:"OK"});case"next_maint":return s.jsx(n,{className:"bg-yellow-500",children:"Próx. Mant."});case"urgent":return s.jsx(n,{className:"bg-red-500",children:"Urgente"});default:return s.jsx(n,{variant:"outline",children:i})}}function we(i,e){const t=e.item.category;return i[t]||(i[t]=[]),i[t].push(e),i}export{De as default};
